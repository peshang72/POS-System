import{a as e,j as t,Q as s,b as r}from"./data-BvPF3ROM.js";import{a,r as n,O as o,u as i,N as l,L as c,b as d,R as u,c as m,d as h,e as p,H as x}from"./vendor-CDLh7iY_.js";import{I as f,A as g,C as b,D as y,X as v,M as j,G as w,a as N,b as k,L as C,S,P as F,U as D,c as M,B as E,d as P,e as L,f as T,R as A,g as z,h as O,Z as $,i as W,j as R,k as I,T as _,l as B,m as q,n as U,o as Y,p as V,W as H,q as G,r as Q,s as Z,t as K,u as X,v as J,w as ee,x as te,H as se,y as re,z as ae,F as ne,E as oe,J as ie,K as le,N as ce,O as de,Q as ue,V as me,Y as he,_ as pe,$ as xe,a0 as fe,a1 as ge,a2 as be,a3 as ye,a4 as ve,a5 as je}from"./ui-DKcmYbbS.js";import{u as we,i as Ne,B as ke,a as Ce,I as Se}from"./i18n-PqIaVKjQ.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Fe={},De=a;Fe.createRoot=De.createRoot,Fe.hydrateRoot=De.hydrateRoot;const Me=n.createContext(),Ee=({children:s})=>{const[r,a]=n.useState(!1),[o,i]=n.useState(null),[l,c]=n.useState(localStorage.getItem("token")||null),[d,u]=n.useState(!0),[m,h]=n.useState(null);n.useEffect((()=>{l?e.defaults.headers.common.Authorization=`Bearer ${l}`:delete e.defaults.headers.common.Authorization}),[l]),n.useEffect((()=>{(async()=>{var t,s;if(l)try{const t=await e.get("/api/auth/me");t.data.success?(a(!0),i(t.data.data)):p()}catch(r){p(),h((null==(s=null==(t=r.response)?void 0:t.data)?void 0:s.message)||"Authentication error")}finally{u(!1)}else u(!1)})()}),[l]);const p=async()=>{u(!0);try{r&&await e.post("/api/auth/logout")}catch(t){console.error("Logout error:",t)}finally{localStorage.removeItem("token"),c(null),i(null),a(!1),u(!1)}};return t.jsx(Me.Provider,{value:{isAuthenticated:r,user:o,loading:d,error:m,login:async(t,s)=>{var r,n;u(!0),h(null);try{const r=window&&window.api||Boolean(window&&window.process&&window.process.type||window.navigator.userAgent.includes("Electron")||window&&window.electron||window&&window.electronAPI)?"http://localhost:5000/api/auth/login":"/api/auth/login",n=await e.post(r,{username:t,password:s});if(n.data.success){const{token:e,data:t}=n.data;return localStorage.setItem("token",e),c(e),i(t),a(!0),u(!1),!0}return h(n.data.message||"Login failed"),u(!1),!1}catch(o){return h((null==(n=null==(r=o.response)?void 0:r.data)?void 0:n.message)||"Login failed"),u(!1),!1}},logout:p,updateUserPreferences:e=>{i((t=>({...t,...e})))}},children:s})},Pe=()=>{const e=n.useContext(Me);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Le=()=>{const{t:e}=we(),[s,r]=n.useState(""),[a,o]=n.useState(""),[i,l]=n.useState(!1);n.useEffect((()=>{window.api&&window.api.updates&&(window.api.updates.getAppVersion().then((e=>o(e))).catch((e=>console.error("Error getting app version:",e))),window.api.updates.onUpdateMessage((e=>{r(e),l(!0)})))}),[]);if(!i)return null;let c=t.jsx(f,{className:"h-5 w-5 text-blue-500"}),d="bg-blue-50",u="border-blue-200";return s.includes("Error")||s.includes("error")?(c=t.jsx(g,{className:"h-5 w-5 text-red-500"}),d="bg-red-50",u="border-red-200"):s.includes("latest")||s.includes("not available")?(c=t.jsx(b,{className:"h-5 w-5 text-green-500"}),d="bg-green-50",u="border-green-200"):s.includes("Download")&&(c=t.jsx(y,{className:"h-5 w-5 text-yellow-500"}),d="bg-yellow-50",u="border-yellow-200"),t.jsx("div",{className:`fixed bottom-4 right-4 ${d} border ${u} rounded-lg shadow-md p-4 max-w-md z-50`,children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:c}),t.jsxs("div",{className:"ml-3",children:[t.jsxs("h3",{className:"text-sm font-medium text-gray-900",children:[a&&`v${a} - `,e("settings.appUpdates")]}),t.jsx("div",{className:"mt-2 text-sm text-gray-700",children:t.jsx("p",{children:s})}),t.jsxs("div",{className:"mt-3 flex space-x-2",children:[t.jsx("button",{type:"button",onClick:()=>{window.api&&window.api.updates?(r(e("settings.checkingForUpdates")),l(!0),window.api.updates.checkForUpdates().then((t=>{t.success||r(t.message||e("settings.errorCheckingUpdates"))})).catch((t=>{r(e("settings.errorCheckingUpdates")),console.error("Error checking for updates:",t)}))):(r(e("settings.updatesNotAvailable")),l(!0))},className:"inline-flex items-center rounded-md border border-transparent bg-blue-600 px-3 py-1 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:e("settings.checkForUpdates")}),t.jsx("button",{type:"button",onClick:()=>l(!1),className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:e("common.dismiss")})]})]})]})})},Te=()=>{const{t:e}=we();return t.jsx("div",{className:"min-h-screen bg-primary-bg flex items-center justify-center",children:t.jsxs("div",{className:"max-w-md w-full p-6 bg-secondary-bg rounded-lg shadow-neon",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-accent",children:e("app.title")}),t.jsx("p",{className:"text-gray-400",children:e("app.tagline")})]}),t.jsx(o,{})]})})},Ae=()=>{const[e,s]=n.useState(!1),[r,a]=n.useState(null),[o,i]=n.useState(null),[l,c]=n.useState({running:!1,port:null}),[d,u]=n.useState(!1),[m,h]=n.useState(null);n.useEffect((()=>{const e=null==window?void 0:window.api;s(!!e),e&&(e.invoke("get-version").then((e=>a(e))).catch((e=>console.error("Failed to get version:",e))),e.appInfo&&i(e.appInfo.getPlatform()),e.invoke("get-server-status").then((e=>c(e))).catch((e=>console.error("Failed to get server status:",e))),e.receive("server-status",(e=>{c((t=>({...t,...e})))})),e.updates.onUpdateMessage((e=>{h(e)})))}),[]);return e?t.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg shadow-sm mb-4",children:[t.jsx("h3",{className:"font-medium text-lg mb-2",children:"Desktop App Information"}),t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("p",{children:["Version: ",r||"Unknown"]}),t.jsxs("p",{children:["Platform: ",o||"Unknown"]}),t.jsxs("p",{children:["Server Status:"," ",l.running?t.jsx("span",{className:"text-green-600 font-medium",children:"Running"}):t.jsx("span",{className:"text-red-600 font-medium",children:"Not Running"})]}),l.port&&t.jsxs("p",{children:["Server Port: ",l.port]}),t.jsxs("div",{className:"flex space-x-2 mt-2",children:[t.jsx("button",{onClick:()=>{const e=null==window?void 0:window.api;e&&(u(!0),h("Checking for updates..."),e.updates.checkForUpdates().then((e=>{e.success?h("Checking for updates... Please wait."):h(`Failed to check for updates: ${e.message||"Unknown error"}`)})).catch((e=>{h(`Error checking for updates: ${e.message||e}`)})).finally((()=>{setTimeout((()=>{u(!1)}),3e3)})))},disabled:d,className:"px-3 py-1 bg-blue-500 text-white rounded-md disabled:bg-blue-300 text-sm",children:"Check for Updates"}),t.jsx("button",{onClick:()=>{const e=null==window?void 0:window.api;e&&e.server&&(c((e=>({...e,running:!1}))),e.server.restart().then((e=>{e.success?h(`Server: ${e.message}`):h(`Server error: ${e.message||"Unknown error"}`)})).catch((e=>{h(`Error restarting server: ${e.message||e}`)})))},disabled:!e,className:"px-3 py-1 bg-green-500 text-white rounded-md disabled:bg-green-300 text-sm",children:"Restart Server"})]}),m&&t.jsx("div",{className:"mt-2 text-sm p-2 bg-gray-200 rounded",children:m})]})]}):null},ze=()=>{const[e,s]=n.useState([]),[r,a]=n.useState(!1),[o,i]=n.useState(!1),l=n.useRef(null);return n.useEffect((()=>{const e=null==window?void 0:window.api;i(!!e),e&&e.serverLogs&&e.serverLogs.onLog((e=>{s((t=>{const s=[...t,{...e,timestamp:new Date}];return s.length>100?s.slice(-100):s}))}))}),[]),n.useEffect((()=>{l.current&&r&&(l.current.scrollTop=l.current.scrollHeight)}),[e,r]),o?t.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg shadow-sm mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>a(!r),children:[t.jsx("h3",{className:"font-medium text-lg",children:"Server Logs"}),t.jsx("span",{children:r?"▲":"▼"})]}),r&&t.jsx("div",{ref:l,className:"mt-2 p-2 bg-black text-green-400 rounded font-mono text-xs h-64 overflow-y-auto",children:0===e.length?t.jsx("p",{className:"text-gray-400",children:"No server logs yet..."}):e.map(((e,s)=>t.jsxs("div",{className:"mb-1 "+("error"===e.type?"text-red-400":"text-green-400"),children:[t.jsx("span",{className:"text-gray-400",children:e.timestamp.toISOString().slice(11,19)})," ",e.message]},s)))}),t.jsx("div",{className:"mt-2 flex space-x-2",children:t.jsx("button",{onClick:()=>s([]),className:"px-3 py-1 bg-red-500 text-white rounded-md text-sm",children:"Clear Logs"})})]}):null},Oe=({active:e,color:s="accent"})=>e?t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[3px] bg-gradient-to-b from-transparent via-accent to-transparent opacity-90 animate-pulse-fast shadow-[0_0_12px_rgba(126,63,242,0.9)]"}):null,$e=({icon:e,pulse:s=!1})=>t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 rounded-md bg-accent opacity-30 "+(s?"animate-pulse-fast":"")}),t.jsx(e,{size:20,className:"relative z-10"})]}),We=()=>t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-0 -right-48 w-64 h-64 bg-accent opacity-20 rounded-full blur-3xl animate-float",style:{animationDelay:"0s"}}),t.jsx("div",{className:"absolute bottom-0 -left-24 w-48 h-48 bg-success opacity-20 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),t.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 left-1/4 w-32 h-32 bg-info opacity-20 rounded-full blur-3xl animate-float",style:{animationDelay:"4s"}})]}),Re=()=>{var e;const{t:s,i18n:r}=we(),{user:a,logout:c}=Pe(),d=i(),[u,m]=n.useState(!0),[h,p]=n.useState(!1),[x,f]=n.useState(!1),[g,b]=n.useState(null),[y,A]=n.useState(!u),z=n.useRef(null),O=n.useRef(null);n.useEffect((()=>{const e=document.createElement("style");return e.innerHTML="\n      @keyframes float {\n        0% { transform: translateY(0) translateX(0); }\n        50% { transform: translateY(-10px) translateX(5px); }\n        100% { transform: translateY(0) translateX(0); }\n      }\n      .animate-float {\n        animation: float 8s ease-in-out infinite;\n      }\n      @keyframes pulse-soft {\n        0% { opacity: 0.2; }\n        50% { opacity: 0.5; }\n        100% { opacity: 0.2; }\n      }\n      .animate-pulse-soft {\n        animation: pulse-soft 1.5s ease-in-out infinite;\n      }\n      @keyframes pulse-fast {\n        0% { opacity: 0.3; }\n        50% { opacity: 0.8; }\n        100% { opacity: 0.3; }\n      }\n      .animate-pulse-fast {\n        animation: pulse-fast 1s ease-in-out infinite;\n      }\n      @keyframes border-glow {\n        0% { box-shadow: 0 0 5px rgba(126,63,242,0.5); }\n        50% { box-shadow: 0 0 20px rgba(126,63,242,0.9); }\n        100% { box-shadow: 0 0 5px rgba(126,63,242,0.5); }\n      }\n      .animate-border-glow {\n        animation: border-glow 2s ease-in-out infinite;\n      }\n      .text-shadow-neon {\n        text-shadow: 0 0 10px rgba(126,63,242,0.8);\n      }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}}),[]),n.useEffect((()=>(h||!u?(clearTimeout(O.current),A(!0)):O.current=setTimeout((()=>{A(!1)}),300),()=>{clearTimeout(O.current)})),[h,u]);const $=({to:e,icon:s,label:a})=>t.jsx(l,{to:e,className:({isActive:e})=>`relative flex items-center gap-3 py-3 px-4 rounded-md transition-all duration-400 ${e?"bg-secondary-bg text-accent font-medium":"text-gray-300 hover:bg-secondary-bg hover:bg-opacity-50"} ${u&&!y?"justify-center":""}`,onMouseEnter:()=>b(e),onMouseLeave:()=>b(null),children:({isActive:n})=>t.jsxs(t.Fragment,{children:[t.jsx(Oe,{active:n}),t.jsxs("div",{className:"relative",children:[t.jsx(s,{size:20,className:`${n?"text-accent":"text-gray-300"} transition-all duration-300 ${n?"text-shadow-neon":""}`}),(n||g===e)&&t.jsx("div",{className:"absolute inset-0 bg-accent blur-lg opacity-30 animate-pulse-fast"})]}),t.jsx("span",{className:`transition-all duration-400 ${n?"translate-x-1 text-shadow-neon":""} whitespace-nowrap`,style:{opacity:y?1:0,maxWidth:y?"200px":"0",overflow:"hidden",visibility:y?"visible":"hidden",transform:`translateX(${n?"4px":"0px"})`,transition:"transform 0.3s ease, opacity 0.3s ease, max-width 0.4s ease, visibility 0.3s ease"},children:a}),y&&n&&("ku"===r.language?t.jsx(k,{size:16,className:"ml-auto text-accent animate-pulse-fast"}):t.jsx(N,{size:16,className:"ml-auto text-accent animate-pulse-fast"}))]})}),W=({icon:e,onClick:s,label:r,hoverClass:a="hover:bg-secondary-bg hover:bg-opacity-50"})=>t.jsxs("button",{onClick:s,className:`flex items-center gap-3 py-2 px-4 rounded-md text-gray-300 transition-colors ${a} ${y?"":"justify-center"}`,children:[t.jsx(e,{size:20,className:"flex-shrink-0"}),t.jsx("span",{className:"transition-all duration-400 whitespace-nowrap",style:{opacity:y?1:0,maxWidth:y?"200px":"0",overflow:"hidden",visibility:y?"visible":"hidden",transition:"opacity 0.4s ease, max-width 0.4s ease, visibility 0.3s ease"},children:r})]});return t.jsxs("div",{className:"flex h-screen bg-primary-bg text-white",children:[t.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:t.jsx("button",{onClick:()=>f(!x),className:"p-2 rounded-md bg-secondary-bg text-white hover:bg-accent hover:bg-opacity-20 transition-colors",children:x?t.jsx(v,{size:24}):t.jsx(j,{size:24})})}),x&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>f(!1)}),t.jsx("aside",{ref:z,className:`fixed lg:static inset-y-0 left-0 w-64 bg-gray-900 shadow-xl overflow-y-auto overflow-x-hidden transition-all duration-400 transform z-40 ${x?"translate-x-0":"-translate-x-full lg:translate-x-0"} ${u&&!h?"lg:w-16":"lg:w-64"}`,onMouseEnter:()=>{p(!0),m(!1)},onMouseLeave:()=>{p(!1),m(!0)},children:t.jsxs("div",{className:"py-4 flex flex-col h-full relative",children:[t.jsx(We,{}),t.jsxs("div",{className:"flex items-center justify-between px-4 mb-6 relative z-10",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx($e,{icon:w,pulse:!0}),t.jsx("h1",{className:"ml-3 font-bold text-xl transition-all duration-400 whitespace-nowrap",style:{opacity:y?1:0,maxWidth:y?"200px":"0",overflow:"hidden",visibility:y?"visible":"hidden"},children:s("app.title")})]}),t.jsx("button",{onClick:()=>{const e=!u;m(e),e||p(!0)},className:"lg:flex hidden justify-center items-center h-8 w-8 rounded-md hover:bg-secondary-bg transition-colors",children:u&&!h?t.jsx(N,{size:18}):t.jsx(k,{size:18})}),t.jsx("button",{onClick:()=>f(!1),className:"lg:hidden flex justify-center items-center h-8 w-8 rounded-md hover:bg-secondary-bg transition-colors",children:t.jsx(v,{size:18})})]}),t.jsxs("nav",{className:"px-2 flex-1 space-y-1 relative z-10",children:[t.jsx($,{to:"/",icon:C,label:s("navigation.dashboard")}),t.jsx($,{to:"/pos",icon:S,label:s("navigation.pos")}),t.jsx($,{to:"/inventory",icon:F,label:s("navigation.inventory")}),t.jsx($,{to:"/customers",icon:D,label:s("navigation.customers")}),t.jsx($,{to:"/staff",icon:M,label:s("navigation.staff")}),t.jsx($,{to:"/reports",icon:E,label:s("navigation.reports")}),t.jsx($,{to:"/settings",icon:P,label:s("navigation.settings")})]}),t.jsx("div",{className:"px-2 relative z-10",children:t.jsx(Ae,{})}),t.jsx("div",{className:"px-2 relative z-10",children:t.jsx(ze,{})}),t.jsx("div",{className:"p-4 border-t border-gray-800 backdrop-blur-sm relative z-10",children:t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx(W,{icon:L,onClick:()=>{const e="en"===r.language?"ku":"en";r.changeLanguage(e),"ku"===e?document.documentElement.classList.add("rtl"):document.documentElement.classList.remove("rtl")},label:"en"===r.language?"Kurdish":"English"}),t.jsx(W,{icon:T,onClick:async()=>{await c(),d("/login")},label:s("auth.logout"),hoverClass:"hover:bg-error hover:bg-opacity-20 hover:text-error"}),a&&t.jsxs("div",{className:"flex items-center gap-3 mt-2 py-2 px-4 rounded-md bg-secondary-bg bg-opacity-50 border border-gray-800 transition-all duration-400 "+(y?"":"justify-center"),style:{minHeight:"48px",opacity:1},children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center shadow-neon animate-border-glow flex-shrink-0",children:t.jsx("span",{className:"text-white font-bold",children:(null==(e=a.name)?void 0:e.charAt(0))||"U"})}),t.jsxs("div",{className:"overflow-hidden transition-all duration-400",style:{opacity:y?1:0,maxWidth:y?"200px":"0",transition:"opacity 0.4s ease, max-width 0.4s ease"},children:[t.jsx("p",{className:"text-sm font-medium truncate",children:a.name}),t.jsx("p",{className:"text-xs text-gray-400 truncate",children:a.role})]})]})]})})]})}),t.jsxs("main",{className:"flex-1 overflow-auto bg-gradient-to-br from-primary-bg to-secondary-bg",style:{transition:"margin-left 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:[t.jsx("div",{className:"container mx-auto p-4 md:p-6",children:t.jsx(o,{})}),t.jsx(Le,{})]})]})},Ie=()=>{const{t:e}=we(),{login:s,error:r}=Pe(),[a,o]=n.useState({username:"",password:"",rememberMe:!1}),[i,l]=n.useState(!1),[c,d]=n.useState(null),u=e=>{const{name:t,value:s,type:r,checked:a}=e.target;o((e=>({...e,[t]:"checkbox"===r?a:s})))};return t.jsx("div",{children:t.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l(!0),d(null);try{await s(a.username,a.password)}catch(t){d("Login failed. Please try again."),console.error("Login error:",t)}finally{l(!1)}},className:"space-y-6",children:[(c||r)&&t.jsx("div",{className:"p-3 bg-error bg-opacity-20 rounded-md text-error text-sm",children:c||r}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium",children:e("auth.username")}),t.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:a.username,onChange:u,className:"input w-full"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",children:e("auth.password")}),t.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a.password,onChange:u,className:"input w-full"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:a.rememberMe,onChange:u,className:"h-4 w-4 rounded border-gray-600 bg-secondary-bg text-accent focus:ring-accent"}),t.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm",children:e("auth.rememberMe")})]}),t.jsx("div",{className:"text-sm",children:t.jsx("a",{href:"#",className:"text-accent hover:text-accent-light",children:e("auth.forgotPassword")})})]}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary w-full",children:e(i?"common.loading":"auth.loginButton")})})]})})},_e=({colors:e,blur:s="medium"})=>{const r=n.useRef(null),[a,o]=n.useState({width:0,height:0});n.useEffect((()=>{if(r.current){const{width:e,height:t}=r.current.getBoundingClientRect();o({width:e,height:t})}const e=()=>{if(r.current){const{width:e,height:t}=r.current.getBoundingClientRect();o({width:e,height:t})}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const i=Math.max(a.width,a.height);let l="absolute inset-0 blur-xl";return"light"===s?l="absolute inset-0 blur-lg":"heavy"===s&&(l="absolute inset-0 blur-2xl"),t.jsx("div",{ref:r,className:"absolute inset-0 overflow-hidden",children:t.jsx("div",{className:l,children:e.map(((e,s)=>t.jsx("svg",{className:"absolute animate-pulse",style:{top:50*Math.random()+"%",left:50*Math.random()+"%",animationDelay:.5*s+"s",animationDuration:`${5+s}s`},width:i*(.5+Math.random()),height:i*(.5+Math.random()),viewBox:"0 0 100 100",children:t.jsx("circle",{cx:"50",cy:"50",r:"50",fill:e,className:"opacity-30"})},s)))})})},Be=({title:e,value:s,trend:r,percent:a,icon:n,colors:o})=>{const i="up"===r;return t.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-secondary-bg h-full",children:[t.jsx(_e,{colors:o}),t.jsxs("div",{className:"relative z-10 p-5 flex flex-col h-full backdrop-blur-sm",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsx("h3",{className:"text-gray-400 text-sm",children:e}),t.jsx("div",{className:"p-2 rounded-lg bg-secondary-bg bg-opacity-50",children:t.jsx(n,{size:24,className:i?"text-success":"text-error"})})]}),t.jsxs("div",{className:"mt-auto",children:[t.jsx("p",{className:"text-2xl font-bold",children:s}),t.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[i?t.jsx(_,{size:16,className:"text-success"}):t.jsx(B,{size:16,className:"text-error"}),t.jsx("span",{className:i?"text-success":"text-error",children:a})]})]})]})]})},qe=({title:e,description:s,icon:r,to:a,color:n="accent"})=>{let o="card hover:shadow-neon transition-all duration-300 border border-gray-800 group",i="",l="";return"success"===n?(o="card hover:shadow-neon-success transition-all duration-300 border border-gray-800 group",i="hover:border-success",l="rounded-md p-3 bg-success bg-opacity-20 text-success transition-all duration-300 group-hover:bg-opacity-30"):"info"===n?(o="card hover:shadow-neon-info transition-all duration-300 border border-gray-800 group",i="hover:border-info",l="rounded-md p-3 bg-info bg-opacity-20 text-info transition-all duration-300 group-hover:bg-opacity-30"):(o="card hover:shadow-neon transition-all duration-300 border border-gray-800 group",i="hover:border-accent",l="rounded-md p-3 bg-accent bg-opacity-20 text-accent transition-all duration-300 group-hover:bg-opacity-30"),t.jsx(c,{to:a,className:`${o} ${i}`,children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:l,children:t.jsx(r,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium group-hover:text-white transition-colors",children:e}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:s})]})]})})},Ue=()=>{const{t:s}=we(),{user:r}=Pe(),{dashboardData:a,loading:o,error:i,refreshDashboard:l}=(()=>{const[t,s]=n.useState({todaySales:"$0",totalProducts:"0",lowStock:"0",activeUsers:"0",salesTrend:"up",salesPercent:"0%",productsTrend:"up",productsPercent:"0%",lowStockTrend:"down",lowStockPercent:"0%",usersTrend:"up",usersPercent:"0%",recentTransactions:[]}),[r,a]=n.useState(!0),[o,i]=n.useState(null),l=async()=>{var t,r;a(!0),i(null);try{const t=await e.get("/api/dashboard");t.data.success?s(t.data.data):i(t.data.message||"Failed to fetch dashboard data")}catch(n){i((null==(r=null==(t=n.response)?void 0:t.data)?void 0:r.message)||"An error occurred while fetching dashboard data")}finally{a(!1)}};return n.useEffect((()=>{l();const e=setInterval((()=>{l()}),3e5);return()=>clearInterval(e)}),[]),{dashboardData:t,loading:r,error:o,refreshDashboard:l}})();return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:s("navigation.dashboard")}),t.jsxs("p",{className:"text-gray-400",children:[s("dashboard.welcome"),", ",(null==r?void 0:r.firstName)||"User"]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:l,className:"btn btn-outline flex items-center gap-2 transition-transform hover:scale-105",disabled:o,children:[t.jsx(A,{size:18,className:o?"animate-spin":""}),t.jsx("span",{children:s("dashboard.refresh")})]}),t.jsxs(c,{to:"/reports",className:"btn btn-secondary flex items-center gap-2 transition-transform hover:scale-105",children:[t.jsx(E,{size:18}),t.jsx("span",{children:s("navigation.reports")})]}),t.jsxs(c,{to:"/pos",className:"btn btn-primary flex items-center gap-2 shadow-neon transition-transform hover:scale-105",children:[t.jsx(S,{size:18}),t.jsx("span",{children:s("dashboard.newSale")})]})]})]}),i&&t.jsx("div",{className:"p-4 rounded-lg bg-error bg-opacity-20 border border-error text-error",children:t.jsx("p",{children:i})}),o&&!a.recentTransactions.length&&t.jsx("div",{className:"flex justify-center py-8",children:t.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[t.jsx(A,{size:32,className:"animate-spin text-accent mb-2"}),t.jsx("p",{className:"text-gray-400",children:s("dashboard.loading")})]})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(Be,{title:s("dashboard.todaySales"),value:a.todaySales,trend:a.salesTrend,percent:a.salesPercent,icon:z,colors:["#36F2A3","#3D9CF2"]}),t.jsx(Be,{title:s("dashboard.totalProducts"),value:a.totalProducts,trend:a.productsTrend,percent:a.productsPercent,icon:F,colors:["#3D9CF2","#7E3FF2"]}),t.jsx(Be,{title:s("dashboard.lowStock"),value:a.lowStock,trend:a.lowStockTrend,percent:a.lowStockPercent,icon:O,colors:["#F2B705","#F23557"]}),t.jsx(Be,{title:s("dashboard.activeUsers"),value:a.activeUsers,trend:a.usersTrend,percent:a.usersPercent,icon:D,colors:["#7E3FF2","#36F2A3"]})]}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[t.jsx($,{size:18,className:"text-accent"}),s("dashboard.quickActions")]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(qe,{title:s("dashboard.newSale"),description:"Create a new transaction",icon:S,to:"/pos",color:"success"}),t.jsx(qe,{title:s("dashboard.addProduct"),description:"Add a new product to inventory",icon:W,to:"/inventory",color:"info"}),t.jsx(qe,{title:s("dashboard.addCustomer"),description:"Add a new customer to the database",icon:R,to:"/customers",color:"accent"})]})]}),t.jsxs("div",{className:"card border border-gray-800 overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(I,{size:18,className:"text-accent"}),t.jsx("h2",{className:"text-xl font-bold",children:s("dashboard.recentTransactions")})]}),t.jsxs(c,{to:"/reports",className:"text-sm text-accent hover:underline flex items-center gap-1",children:[s("dashboard.viewAll"),t.jsx(N,{size:16})]})]}),t.jsx("div",{className:"space-y-4",children:0===a.recentTransactions.length?t.jsx("div",{className:"p-4 text-center text-gray-400",children:s(o?"dashboard.loading":"dashboard.noTransactions")}):a.recentTransactions.map((e=>t.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-800 bg-opacity-50 hover:bg-opacity-70 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-accent bg-opacity-20 flex items-center justify-center",children:t.jsx(S,{size:18,className:"text-accent"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium",children:["Order #",e.id]}),t.jsx("p",{className:"text-sm text-gray-400",children:new Date(e.date).toLocaleDateString()})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium",children:["$",e.amount]}),t.jsx("p",{className:`text-xs px-2 py-1 rounded-full ${"Completed"===e.status?"bg-success bg-opacity-20 text-success":"Pending"===e.status?"bg-warning bg-opacity-20 text-warning":"bg-error bg-opacity-20 text-error"} inline-block`,children:e.status})]})]},e.id)))})]})]})},Ye="/api/products",Ve=()=>{const[t,s]=n.useState([]),[r,a]=n.useState(!1),[o,i]=n.useState(null),l=n.useCallback((async()=>{var t,r;a(!0),i(null);try{const t=await e.get(Ye);s(t.data)}catch(n){i((null==(r=null==(t=n.response)?void 0:t.data)?void 0:r.error)||"Failed to fetch products"),console.error("Error fetching products:",n)}finally{a(!1)}}),[]);return n.useEffect((()=>{l()}),[l]),{products:t,isLoading:r,error:o,fetchProducts:l,addProduct:async t=>{var r,n;a(!0),i(null);try{const r=await e.post(Ye,t);return s((e=>[...e,r.data])),r.data}catch(o){throw i((null==(n=null==(r=o.response)?void 0:r.data)?void 0:n.error)||"Failed to add product"),console.error("Error adding product:",o),o}finally{a(!1)}},updateProduct:async(t,r)=>{var n,o;a(!0),i(null);try{const a=await e.put(`${Ye}/${t}`,r);return s((e=>e.map((e=>e._id===t?a.data:e)))),a.data}catch(l){throw i((null==(o=null==(n=l.response)?void 0:n.data)?void 0:o.error)||"Failed to update product"),console.error("Error updating product:",l),l}finally{a(!1)}},incrementQuantity:async(t,r)=>{var n,o;a(!0),i(null);try{const a="number"==typeof r?{quantity:r}:r,n=await e.patch(`${Ye}/${t}/quantity`,a);return s((e=>e.map((e=>e._id===t?n.data:e)))),n.data}catch(l){throw i((null==(o=null==(n=l.response)?void 0:n.data)?void 0:o.error)||"Failed to update quantity"),console.error("Error updating quantity:",l),l}finally{a(!1)}},deleteProduct:async t=>{var r,n;a(!0),i(null);try{await e.delete(`${Ye}/${t}`),s((e=>e.filter((e=>e._id!==t))))}catch(o){throw i((null==(n=null==(r=o.response)?void 0:r.data)?void 0:n.error)||"Failed to delete product"),console.error("Error deleting product:",o),o}finally{a(!1)}},getProduct:async t=>{var s,r;a(!0),i(null);try{return(await e.get(`${Ye}/${t}`)).data}catch(n){throw i((null==(r=null==(s=n.response)?void 0:s.data)?void 0:r.error)||"Failed to get product"),console.error("Error getting product:",n),n}finally{a(!1)}},searchProducts:async t=>{var s,r;a(!0),i(null);try{return(await e.get(`${Ye}/search/${t}`)).data}catch(n){throw i((null==(r=null==(s=n.response)?void 0:s.data)?void 0:r.error)||"Failed to search products"),console.error("Error searching products:",n),n}finally{a(!1)}}}},He="/api/categories",Ge=()=>{const[t,s]=n.useState([]),[r,a]=n.useState(!1),[o,i]=n.useState(null),l=n.useCallback((async()=>{var t,r;a(!0),i(null);try{const t=await e.get(He);s(t.data)}catch(n){i((null==(r=null==(t=n.response)?void 0:t.data)?void 0:r.error)||"Failed to fetch categories"),console.error("Error fetching categories:",n)}finally{a(!1)}}),[]),c=n.useCallback((async()=>{var t,s;a(!0),i(null);try{return(await e.get(`${He}/tree`)).data}catch(r){i((null==(s=null==(t=r.response)?void 0:t.data)?void 0:s.error)||"Failed to fetch category tree"),console.error("Error fetching category tree:",r)}finally{a(!1)}}),[]);return n.useEffect((()=>{l()}),[l]),{categories:t,isLoading:r,error:o,fetchCategories:l,fetchCategoryTree:c,addCategory:async t=>{var r,n;a(!0),i(null);try{const r=await e.post(He,t);return s((e=>[...e,r.data])),r.data}catch(o){throw i((null==(n=null==(r=o.response)?void 0:r.data)?void 0:n.error)||"Failed to add category"),console.error("Error adding category:",o),o}finally{a(!1)}}}},Qe="/api/customers",Ze=()=>{const[t,s]=n.useState([]),[r,a]=n.useState(!1),[o,i]=n.useState(null),l=n.useCallback((async()=>{var t,r;a(!0),i(null);try{const t=await e.get(Qe);s(t.data)}catch(n){i((null==(r=null==(t=n.response)?void 0:t.data)?void 0:r.error)||"Failed to fetch customers"),console.error("Error fetching customers:",n)}finally{a(!1)}}),[]);return n.useEffect((()=>{l()}),[l]),{customers:t,isLoading:r,error:o,fetchCustomers:l,addCustomer:async t=>{var r,n;a(!0),i(null);try{const r=await e.post(Qe,t);return s((e=>[...e,r.data])),r.data}catch(o){throw i((null==(n=null==(r=o.response)?void 0:r.data)?void 0:n.error)||"Failed to add customer"),console.error("Error adding customer:",o),o}finally{a(!1)}},updateCustomer:async(t,r)=>{var n,o;a(!0),i(null);try{const a=await e.put(`${Qe}/${t}`,r);return s((e=>e.map((e=>e._id===t?a.data:e)))),a.data}catch(l){throw i((null==(o=null==(n=l.response)?void 0:n.data)?void 0:o.error)||"Failed to update customer"),console.error("Error updating customer:",l),l}finally{a(!1)}},deleteCustomer:async t=>{var r,n;a(!0),i(null);try{await e.delete(`${Qe}/${t}`),s((e=>e.filter((e=>e._id!==t))))}catch(o){throw i((null==(n=null==(r=o.response)?void 0:r.data)?void 0:n.error)||"Failed to delete customer"),console.error("Error deleting customer:",o),o}finally{a(!1)}},getCustomer:async t=>{var s,r;a(!0),i(null);try{return(await e.get(`${Qe}/${t}`)).data}catch(n){throw i((null==(r=null==(s=n.response)?void 0:s.data)?void 0:r.error)||"Failed to get customer"),console.error("Error getting customer:",n),n}finally{a(!1)}}}},Ke=({isOpen:e,onClose:s,customers:r,isLoading:a,onSelectCustomer:o,onAddNewCustomer:i})=>{const{t:l}=we(),[c,d]=n.useState("");if(!e)return null;const u=r.filter((e=>{var t,s,r,a;const n=c.toLowerCase();return((null==(t=e.firstName)?void 0:t.toLowerCase())||"").includes(n)||((null==(s=e.lastName)?void 0:s.toLowerCase())||"").includes(n)||((null==(r=e.email)?void 0:r.toLowerCase())||"").includes(n)||((null==(a=e.phone)?void 0:a.toLowerCase())||"").includes(n)})),m=e=>e.fullName?e.fullName:e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName?e.firstName:e.lastName?e.lastName:l("pos.unknownCustomer","Unknown Customer");return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-gray-900 rounded-lg w-[500px] max-w-[90vw] max-h-[80vh] flex flex-col",children:[t.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[t.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[t.jsx(M,{className:"text-accent",size:20}),t.jsx("span",{children:l("pos.selectCustomer","Select Customer")})]}),t.jsx("button",{className:"p-1 hover:bg-gray-800 rounded-full",onClick:s,children:t.jsx(v,{size:20})})]}),t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",className:"input w-full bg-gray-800 pl-10",placeholder:l("pos.searchCustomers","Search customers..."),value:c,onChange:e=>d(e.target.value)}),t.jsx(q,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),t.jsxs("div",{className:"overflow-y-auto flex-1 p-4",children:[t.jsxs("button",{className:"w-full p-3 bg-gray-800 hover:bg-gray-700 rounded-lg mb-4 flex items-center justify-between",onClick:()=>o(null),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center",children:t.jsx(M,{size:24,className:"text-gray-300"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:l("pos.guestCustomer","Guest Customer")}),t.jsx("div",{className:"text-sm text-gray-400",children:l("pos.continueAsGuest","Continue without selecting a customer")})]})]}),t.jsx("div",{children:t.jsx("span",{className:"px-3 py-1 bg-accent bg-opacity-20 text-accent text-xs rounded-full",children:l("pos.guest","Guest")})})]}),a?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("span",{className:"loading loading-spinner"}),t.jsx("p",{className:"mt-2 text-gray-400",children:l("common.loading","Loading customers...")})]}):u.length>0?t.jsx("div",{className:"space-y-3",children:u.map((e=>t.jsxs("button",{className:"w-full p-3 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center justify-between",onClick:()=>o(e),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-accent bg-opacity-20 flex items-center justify-center",children:t.jsx(M,{size:24,className:"text-accent"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-medium text-white",children:m(e)}),e.phone&&t.jsxs("div",{className:"flex items-center gap-1 text-accent text-sm mt-1",children:[t.jsx(U,{size:14}),t.jsx("span",{children:e.phone})]}),!e.phone&&e.email&&t.jsx("div",{className:"text-sm text-gray-400",children:e.email})]})]}),e.purchaseCount>0&&t.jsx("div",{className:"flex flex-col items-end",children:t.jsxs("span",{className:"px-2 py-1 bg-accent bg-opacity-20 text-accent text-xs rounded-full mb-1",children:[e.purchaseCount," ",l("pos.orders","Orders")]})})]},e._id)))}):t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-400",children:l("pos.noCustomersFound","No customers found")})})]}),t.jsx("div",{className:"p-4 border-t border-gray-700",children:t.jsxs("button",{className:"btn btn-accent w-full flex items-center justify-center gap-2",onClick:i,children:[t.jsx(Y,{size:18}),t.jsx("span",{children:l("pos.addNewCustomer","Add New Customer")})]})})]})})},Xe=({isOpen:e,onClose:s,transaction:r,cart:a,customer:o,subtotal:i,discount:l,total:c,discountType:d,discountValue:u,currency:m,exchangeRate:h,onNewSale:p,isPending:x=!1,onConfirm:f=null,isSaving:b=!1})=>{var y;const{t:j}=we(),[w,N]=n.useState(""),[k,C]=n.useState(0);if(n.useEffect((()=>{r&&(N(c.toString()),C(0))}),[r,c]),n.useEffect((()=>{if(console.log("amountTendered changed:",w,typeof w),w&&!isNaN(w)){const e=parseFloat(w);C(e>=c?e-c:0)}else C(0)}),[w,c]),!e||!r)return console.log("ReceiptPreview not rendering. isOpen:",e,"transaction:",r),null;console.log("ReceiptPreview rendering with transaction:",r);const S=e=>{if("USD"===m)return`$${e.toFixed(2)}`;return`${(e*h).toLocaleString()} IQD`};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white text-black rounded-lg w-[400px] max-w-[90vw] max-h-[80vh] flex flex-col",children:[t.jsxs("div",{className:"p-4 bg-gray-100 border-b border-gray-300 flex justify-between items-center rounded-t-lg",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:x?t.jsxs(t.Fragment,{children:[t.jsx(g,{size:20,className:"text-amber-500"}),t.jsx("span",{children:j("pos.receiptPreview","Receipt Preview")})]}):t.jsx("span",{children:j("pos.receiptPreview","Receipt Preview")})}),t.jsxs("div",{className:"flex gap-2",children:[!x&&t.jsxs("button",{className:"p-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 flex items-center gap-1",onClick:()=>window.print(),children:[t.jsx(V,{size:16}),t.jsx("span",{children:j("pos.print","Print")})]}),t.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-md",onClick:s,disabled:b,children:t.jsx(v,{size:16})})]})]}),t.jsxs("div",{className:"overflow-y-auto flex-1 p-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h1",{className:"text-xl font-bold",children:j("store.name","Lîstik Store")}),t.jsx("p",{className:"text-gray-600",children:j("store.address","123 Your Street, City")}),t.jsx("p",{className:"text-gray-600",children:j("store.phone","Tel: (123) 456-7890")})]}),x&&t.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 p-3 rounded-md mb-4 text-sm flex items-center gap-2",children:[t.jsx(g,{size:16}),t.jsx("span",{children:j("pos.previewNotice","This is a preview. Confirm the sale to complete the transaction.")})]}),t.jsxs("div",{className:"border-t border-b border-gray-300 py-3 mb-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-gray-600",children:[j("pos.receiptNumber","Receipt #"),":"]}),t.jsx("span",{children:x?j("pos.pending","Pending"):(null==(y=r._id)?void 0:y.substring(0,8))||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-gray-600",children:[j("pos.date","Date"),":"]}),t.jsx("span",{children:(e=>{const t=new Date(e);return`${t.toLocaleDateString()} ${t.toLocaleTimeString()}`})(r.createdAt||new Date)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-gray-600",children:[j("pos.customer","Customer"),":"]}),t.jsx("span",{children:(F=o,F?F.fullName?F.fullName:F.firstName&&F.lastName?`${F.firstName} ${F.lastName}`:F.firstName?F.firstName:F.lastName?F.lastName:j("pos.unknownCustomer","Unknown Customer"):j("pos.guest","Guest"))})]}),(null==o?void 0:o.phone)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-gray-600",children:[j("pos.phone","Phone"),":"]}),t.jsx("span",{children:o.phone})]})]}),t.jsxs("table",{className:"w-full mb-4",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-300",children:[t.jsx("th",{className:"text-left py-2",children:j("pos.item","Item")}),t.jsx("th",{className:"text-center py-2",children:j("pos.qty","Qty")}),t.jsx("th",{className:"text-right py-2",children:j("pos.price","Price")}),t.jsx("th",{className:"text-right py-2",children:j("pos.total","Total")})]})}),t.jsx("tbody",{children:a.map((e=>t.jsxs("tr",{className:"border-b border-gray-200",children:[t.jsx("td",{className:"py-2 text-sm",children:e.name.en}),t.jsx("td",{className:"py-2 text-center",children:e.quantity}),t.jsx("td",{className:"py-2 text-right",children:"USD"===m?`$${e.price.toFixed(2)}`:`${(e.price*h).toLocaleString()} IQD`}),t.jsx("td",{className:"py-2 text-right",children:"USD"===m?`$${(e.price*e.quantity).toFixed(2)}`:`${(e.price*e.quantity*h).toLocaleString()} IQD`})]},e._id)))})]}),t.jsxs("div",{className:"space-y-1 border-b border-gray-300 pb-3 mb-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-gray-600",children:[j("pos.subtotal","Subtotal"),":"]}),t.jsx("span",{children:S(i)})]}),l>0&&t.jsxs("div",{className:"flex justify-between text-gray-800",children:[t.jsxs("span",{children:[j("pos.discount","Discount"),"percent"===d?` (${u}%)`:"",":"]}),t.jsxs("span",{children:["-",S(l)]})]}),r.loyaltyDiscount>0&&t.jsxs("div",{className:"flex justify-between text-gray-800",children:[t.jsxs("span",{className:"flex items-center",children:[j("pos.loyalty.discount","Loyalty Discount"),":"]}),t.jsxs("span",{children:["-",S(r.loyaltyDiscount)]})]})]}),t.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[t.jsxs("span",{children:[j("pos.total","TOTAL"),":"]}),t.jsx("span",{children:S(c)})]}),x&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300",children:[t.jsxs("h3",{className:"font-medium text-gray-800 mb-2 flex items-center gap-2",children:[t.jsx(H,{size:18}),j("pos.paymentMethod","Payment Method")]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(z,{size:18,className:"text-green-600"}),t.jsx("span",{className:"font-medium",children:j("pos.paymentMethod.cash","Cash")})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:j("pos.amountTendered","Amount Tendered")}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"USD"===m?"$":"IQD"}),t.jsx("input",{type:"number",className:"input w-full pl-8 bg-white border border-gray-300",value:w,onChange:e=>{console.log("Input changed:",e.target.value),N(e.target.value)},min:c,step:"0.01",placeholder:S(c).replace(/[^0-9.]/g,"")})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:j("pos.change","Change")}),t.jsx("div",{className:"p-2 bg-gray-200 rounded text-right font-medium",children:S(k)})]})]})]})]}),!x&&r.paymentDetails&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300",children:[t.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:j("pos.paymentDetails","Payment Details")}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-gray-600",children:[j("pos.paymentMethod","Payment Method"),":"]}),t.jsx("span",{className:"font-medium",children:j("pos.paymentMethod.cash","Cash")})]}),r.paymentDetails.amountTendered&&t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-gray-600",children:[j("pos.amountTendered","Amount Tendered"),":"]}),t.jsx("span",{children:S(r.paymentDetails.amountTendered)})]}),r.paymentDetails.change&&t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-gray-600",children:[j("pos.change","Change"),":"]}),t.jsx("span",{children:S(r.paymentDetails.change)})]})]})]}),r.loyaltyPointsAwarded>0&&o&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-300",children:[t.jsxs("div",{className:"flex justify-between text-gray-800",children:[t.jsxs("span",{children:[j("pos.loyalty.pointsEarned","Points Earned"),":"]}),t.jsxs("span",{className:"font-medium",children:["+",r.loyaltyPointsAwarded]})]}),t.jsxs("div",{className:"flex justify-between text-gray-800",children:[t.jsxs("span",{children:[j("pos.loyalty.newBalance","New Points Balance"),":"]}),t.jsx("span",{className:"font-medium",children:o.loyaltyPoints+(r.loyaltyPointsAwarded||0)})]})]}),r.loyaltyDiscount>0&&o&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-300",children:[t.jsxs("div",{className:"flex justify-between text-gray-800",children:[t.jsxs("span",{children:[j("pos.loyalty.pointsRedeemed","Points Redeemed"),":"]}),t.jsx("span",{className:"font-medium",children:r.loyaltyPointsRedeemed||Math.round(r.loyaltyDiscount/.01)})]}),t.jsxs("div",{className:"flex justify-between text-gray-800",children:[t.jsxs("span",{children:[j("pos.loyalty.discountValue","Discount Value"),":"]}),t.jsx("span",{className:"font-medium",children:S(r.loyaltyDiscount)})]})]}),t.jsx("div",{className:"mt-6 text-center text-gray-600 text-sm",children:t.jsx("p",{children:j("pos.thankYou","Thank you for your purchase!")})})]}),t.jsx("div",{className:"p-4 border-t border-gray-300 bg-gray-100 rounded-b-lg",children:x?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"btn btn-outline flex-1",onClick:s,disabled:b,children:j("pos.cancel","Cancel")}),t.jsxs("button",{className:"btn btn-success flex-1 flex items-center justify-center gap-2",onClick:()=>{console.log("Confirm sale clicked with values:",{amountTendered:w,total:c,isDisabled:b||!w||parseFloat(w)<c}),(()=>{console.log("Confirm Sale button clicked");const e={amountTendered:parseFloat(w),change:k};console.log("Payment details prepared:",e),"function"==typeof f?(console.log("Calling onConfirm function"),f(e)):console.error("onConfirm is not a function",f)})()},disabled:b||!w||parseFloat(w)<c,children:[b?t.jsx("span",{className:"loading loading-spinner"}):t.jsx(G,{size:18}),t.jsx("span",{children:j("pos.confirmSale","Confirm Sale")})]})]}):t.jsx("button",{className:"btn btn-primary w-full",onClick:p,children:j("pos.newSale","New Sale")})})]})});var F},Je=({customer:s,onRedemptionComplete:r,onClose:a,currency:o,exchangeRate:i})=>{const{t:l}=we(),[c,d]=n.useState(0),[u,m]=n.useState(!1),[h,p]=n.useState(""),[x,f]=n.useState(null);return t.jsxs("div",{className:"bg-base-200 border border-gray-700 rounded-lg p-4 w-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(Q,{size:18,className:"mr-2 text-primary"}),l("pos.loyalty.title")]}),s&&t.jsxs("div",{className:"text-sm",children:[t.jsxs("span",{className:"text-gray-400",children:[l("pos.loyalty.availablePoints"),":"," "]}),t.jsx("span",{className:"font-semibold text-primary",children:s.loyaltyPoints})]})]}),s?s.loyaltyPoints<=0?t.jsxs("div",{className:"bg-warning/10 text-warning p-3 rounded-md text-sm mb-4",children:[t.jsx(g,{size:16,className:"inline-block mr-1"}),l("pos.loyalty.noPointsAvailable")]}):x?t.jsxs("div",{className:"bg-success/10 text-success p-3 rounded-md text-sm mb-4",children:[t.jsx(b,{size:16,className:"inline-block mr-1"}),l("pos.loyalty.redemptionSuccess",{points:x.pointsRedeemed,value:(e=>{if("USD"===o)return`$${e.toFixed(2)}`;return`${(e*i).toLocaleString()} IQD`})(x.monetaryValue)})]}):t.jsxs(t.Fragment,{children:[h&&t.jsxs("div",{className:"bg-error/10 text-error p-3 rounded-md text-sm mb-4",children:[t.jsx(g,{size:16,className:"inline-block mr-1"}),h]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"text-sm text-gray-400 block mb-1",children:l("pos.loyalty.pointsToRedeem")}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",className:"input input-bordered w-full",value:c,onChange:e=>{const t=parseInt(e.target.value,10);isNaN(t)?d(0):t>s.loyaltyPoints?d(s.loyaltyPoints):d(t)},min:"0",max:s.loyaltyPoints,disabled:u}),t.jsx("button",{className:"btn btn-sm btn-outline",onClick:()=>{d(s.loyaltyPoints)},disabled:u,children:l("pos.loyalty.max")})]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("button",{className:"btn btn-sm btn-outline",onClick:a,disabled:u,children:l("common.cancel")}),t.jsx("button",{className:"btn btn-sm btn-primary",onClick:async()=>{var t,a;if(c<=0)p(l("pos.loyalty.minimumPointsError"));else if(c>s.loyaltyPoints)p(l("pos.loyalty.insufficientPointsError"));else{m(!0),p("");try{const t=await e.post("/api/transactions/redeem",{customerId:s._id,points:c});f(t.data.data),r&&r(t.data.data)}catch(n){console.error("Error redeeming points:",n),p((null==(a=null==(t=n.response)?void 0:t.data)?void 0:a.error)||l("pos.loyalty.redemptionError"))}finally{m(!1)}}},disabled:c<=0||u,children:u?t.jsx("span",{className:"loading loading-spinner loading-xs"}):l("pos.loyalty.redeemButton")})]})]}):t.jsxs("div",{className:"bg-warning/10 text-warning p-3 rounded-md text-sm mb-4",children:[t.jsx(g,{size:16,className:"inline-block mr-1"}),l("pos.loyalty.noCustomerSelected")]})]})},et=({message:e,type:s="success",onClose:r})=>(n.useEffect((()=>{const e=setTimeout((()=>{r()}),5e3);return()=>clearTimeout(e)}),[r]),t.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-slide-up",children:t.jsxs("div",{className:`rounded-md shadow-lg p-4 ${"success"===s?"bg-green-600":"bg-red-600"} text-white flex items-start gap-3 max-w-md`,children:[t.jsx("div",{className:"flex-shrink-0 pt-0.5",children:"success"===s?t.jsx(G,{size:20}):t.jsx(v,{size:20})}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"font-medium",children:e})}),t.jsx("button",{onClick:r,className:"flex-shrink-0 text-white ml-3 hover:bg-white hover:bg-opacity-20 p-1 rounded-full",children:t.jsx(v,{size:14})})]})})),tt=()=>{const{t:s}=we(),[r,a]=n.useState([]),[o,i]=n.useState("all"),[l,c]=n.useState(""),[d,u]=n.useState(0),[m,h]=n.useState(0),[p,x]=n.useState("percent"),[f,g]=n.useState(""),[b,y]=n.useState([]),[j,N]=n.useState([]),[k,C]=n.useState(!0),[D,M]=n.useState(null),[E,L]=n.useState("USD"),[T,O]=n.useState(1450),[$,W]=n.useState(!1),[R,I]=n.useState(!1),[_,B]=n.useState(!1),[q,U]=n.useState(null),[Y,V]=n.useState(null),[H,ne]=n.useState(!1),[oe,ie]=n.useState(null),[le,ce]=n.useState(null),{customers:de,isLoading:ue}=Ze(),me=n.useRef(""),he=n.useRef(0);n.useEffect((()=>{const e=e=>{const t=document.activeElement.tagName.toLowerCase(),s="input"===t||"textarea"===t,n=(new Date).getTime();if("Enter"===e.key&&me.current){e.preventDefault();const t=me.current;me.current="";const s=b.find((e=>e.barcode===t));if(s){const e=r.find((e=>e._id===s._id));a(e?r.map((e=>e._id===s._id?{...e,quantity:e.quantity+1}:e)):[...r,{...s,quantity:1}])}}else n-he.current>50&&!s&&(me.current=""),s||1!==e.key.length||(me.current+=e.key,he.current=n)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[b,r]),n.useEffect((()=>{(async()=>{var t,s;C(!0),M(null);try{const t=await e.get("/api/categories"),s=[{_id:"all",name:{en:"All"},icon:F},...t.data.map((e=>{let t=F;const s=e.name.en.toLowerCase();return s.includes("console")?t=w:s.includes("accessor")?t=se:s.includes("monitor")?t=re:s.includes("component")&&(t=ae),{...e,icon:t}}))];N(s);const r=await e.get("/api/products",{params:{active:"true"}});y(r.data)}catch(r){M((null==(s=null==(t=r.response)?void 0:t.data)?void 0:s.error)||"Failed to fetch data"),console.error("Error fetching data:",r)}finally{C(!1)}})()}),[]);const pe=b.filter((e=>{var t,s,r,a,n,i;const c="all"===o||e.category&&e.category._id===o,d=(null==(s=null==(t=e.name)?void 0:t.en)?void 0:s.toLowerCase().includes(l.toLowerCase()))||(null==(a=null==(r=e.name)?void 0:r.ku)?void 0:a.toLowerCase().includes(l.toLowerCase()))||(null==(n=e.sku)?void 0:n.toLowerCase().includes(l.toLowerCase()))||(null==(i=e.barcode)?void 0:i.toLowerCase().includes(l.toLowerCase()));return c&&d})),xe=e=>{const t=r.find((t=>t._id===e._id));a(t?r.map((t=>t._id===e._id?{...t,quantity:t.quantity+1}:t)):[...r,{...e,quantity:1}])},fe=r.reduce(((e,t)=>e+t.price*t.quantity),0),ge="percent"===p?d>0?fe*(d/100):0:Math.min(m,fe),be=fe-ge,[ye,ve]=n.useState(!1),[je,Ne]=n.useState(0);n.useEffect((()=>{k||ce({type:"success",message:s("pos.cashPaymentEnabled","Cash payment is now enabled! Complete a sale to update inventory quantities.")})}),[k,s]);const ke=async(t={})=>{var r,a,n,o,i;if(console.log("saveTransaction called with:",t),oe){ne(!0);try{const r={...oe};"amount"!==r.discountType&&"percent"!==r.discountType||(r.discountType="percent"===r.discountType?"percentage":"fixed");const a={...r,paymentDetails:t,paymentStatus:"paid"};console.log("Sending transaction data to server:",a);const n=await e.post("/api/transactions",a);console.log("Server response:",n.data),V(n.data),ie(null),ce({type:"success",message:s("pos.transactionSuccess","Sale completed successfully! Products have been updated in inventory.")})}catch(l){console.error("Error saving transaction details:",l);const e=(null==(a=null==(r=l.response)?void 0:r.data)?void 0:a.errors)||(null==(o=null==(n=l.response)?void 0:n.data)?void 0:o.error)||l.message;console.error("Validation errors:",e);let t=s("pos.transactionError","Failed to complete sale.");if("object"==typeof e){t=`Validation error: ${(null==(i=Object.values(e)[0])?void 0:i.message)||JSON.stringify(e)}`}else"string"==typeof e&&(t=e);M(t),ce({type:"error",message:t})}finally{ne(!1)}}else console.error("No pending transaction found")},Ce=e=>{if("USD"===E)return`$${e.toFixed(2)}`;return`${(e*T).toLocaleString()} IQD`};return k?t.jsx("div",{className:"flex flex-col h-[calc(100vh-7rem)] items-center justify-center",children:t.jsx("p",{children:"Loading..."})}):D?t.jsx("div",{className:"flex flex-col h-[calc(100vh-7rem)] items-center justify-center text-error",children:t.jsxs("p",{children:["Error: ",D]})}):t.jsxs("div",{className:"flex flex-col h-[calc(100vh-7rem)]",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4",children:s("navigation.pos")}),le&&t.jsx(et,{message:le.message,type:le.type,onClose:()=>ce(null)}),t.jsxs("div",{className:"flex flex-row gap-6 h-full",children:[t.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[t.jsxs("div",{className:"mb-4 flex flex-col gap-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",placeholder:s("pos.searchProducts"),className:"input flex-1 bg-secondary-bg",value:l,onChange:e=>c(e.target.value)}),t.jsx("div",{className:"flex-shrink-0",children:t.jsxs("div",{className:"flex rounded-md overflow-hidden shadow-lg",children:[t.jsxs("button",{className:"px-4 py-2 flex items-center gap-1.5 transition-colors "+("USD"===E?"bg-accent text-white font-medium":"bg-gray-800 hover:bg-gray-700 text-gray-300"),onClick:()=>L("USD"),children:[t.jsx(z,{size:16}),t.jsx("span",{children:"USD"})]}),t.jsx("button",{className:"px-4 py-2 flex items-center gap-1.5 transition-colors "+("IQD"===E?"bg-accent text-white font-medium":"bg-gray-800 hover:bg-gray-700 text-gray-300"),onClick:()=>L("IQD"),children:t.jsx("span",{children:"IQD"})}),t.jsx("button",{className:"p-2 flex items-center justify-center transition-colors "+($?"bg-accent text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300"),onClick:()=>W(!$),title:"Exchange Rate Settings",children:t.jsx(P,{size:16})})]})})]}),$&&t.jsxs("div",{className:"p-3 bg-gray-800 rounded-md shadow-lg border border-gray-700 animate-fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Exchange Rate Settings"}),t.jsx("button",{className:"p-1 rounded-full hover:bg-gray-700 text-gray-400 hover:text-gray-200 transition-colors",onClick:()=>W(!1),children:t.jsx(v,{size:16})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center bg-accent bg-opacity-20 px-3 py-1.5 rounded-md",children:[t.jsx(z,{size:14,className:"text-accent mr-1"}),t.jsx("span",{className:"text-sm font-medium",children:"1 USD"})]}),t.jsx("span",{className:"text-gray-400",children:"="}),t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsx("input",{type:"number",min:"1",value:T,onChange:e=>O(Math.max(1,Number(e.target.value))),className:"bg-gray-900 px-3 py-1.5 rounded-l-md w-full focus:outline-none focus:ring-1 focus:ring-accent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),t.jsx("div",{className:"bg-gray-700 px-3 py-1.5 rounded-r-md text-gray-300 text-sm font-medium",children:"IQD"})]}),t.jsx("button",{className:"p-2 rounded-md bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-white transition-colors",onClick:()=>O(1450),title:"Reset to default",children:t.jsx(A,{size:14})})]})]})]}),t.jsx("div",{className:"flex overflow-x-auto pb-2 mb-4 gap-2 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",children:j.map((e=>t.jsxs("button",{className:"flex items-center gap-2 whitespace-nowrap px-4 py-2 rounded-full transition-colors \n                  "+(o===e._id?"bg-accent text-white shadow-lg shadow-accent/40":"bg-secondary-bg text-gray-300 hover:bg-gray-700"),onClick:()=>i(e._id),children:[t.jsx(e.icon,{size:18}),t.jsx("span",{children:e.name.en})]},e._id)))}),t.jsx("div",{className:"overflow-y-auto flex-1 pb-4 pr-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-0.5",children:0===pe.length?t.jsx("div",{className:"col-span-full text-center py-8 text-gray-400",children:"No products found"}):pe.map((e=>{var s;return t.jsx("div",{className:"bg-secondary-bg rounded-lg overflow-visible group relative",children:t.jsxs("div",{className:"relative cursor-pointer transition-all duration-300 rounded-lg shadow-sm hover:shadow-lg hover:shadow-accent/40",onClick:()=>xe(e),children:[e.images&&e.images.length>0?t.jsx("img",{src:e.images[0],alt:e.name.en,className:"w-full h-40 object-cover rounded-t-lg"}):t.jsx("div",{className:"w-full h-40 flex items-center justify-center bg-gray-800 rounded-t-lg",children:t.jsx(F,{size:48,className:"text-gray-600"})}),t.jsxs("div",{className:"absolute top-2 right-2 bg-secondary-bg rounded-full px-2 py-1 text-xs flex items-center gap-1",children:[t.jsx(Z,{size:12,className:"text-accent"}),t.jsx("span",{children:Ce(e.price)})]}),e.discount>0&&t.jsxs("div",{className:"absolute top-2 left-2 bg-success bg-opacity-80 rounded-full px-2 py-1 text-xs text-white flex items-center gap-1",children:[t.jsx(K,{size:12}),t.jsxs("span",{children:[e.discount,"% OFF"]})]}),t.jsxs("div",{className:"p-3",children:[t.jsx("div",{className:"overflow-x-auto whitespace-nowrap pb-1 mb-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",children:t.jsx("h3",{className:"font-medium",children:e.name.en})}),t.jsxs("div",{className:"mt-1 space-y-1",children:[e.sku&&t.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[t.jsx("span",{className:"mr-1",children:"SKU:"}),t.jsx("span",{className:"font-mono",children:e.sku})]}),e.barcode&&t.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[t.jsx("span",{className:"mr-1",children:"Barcode:"}),t.jsx("span",{className:"font-mono",children:e.barcode})]}),e.category&&t.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[t.jsx("span",{className:"mr-1",children:"Category:"}),t.jsx("span",{children:null==(s=e.category.name)?void 0:s.en})]})]}),t.jsxs("div",{className:"flex justify-between items-center mt-2",children:[t.jsxs("span",{className:"text-xs px-2 py-1 rounded-full "+(e.quantity>10?"bg-success bg-opacity-20 text-success":e.quantity>5?"bg-warning bg-opacity-20 text-warning":"bg-error bg-opacity-20 text-error"),children:["Stock: ",e.quantity]}),t.jsx("button",{className:"p-1 rounded-full bg-accent bg-opacity-20 text-accent hover:bg-opacity-40 transition-colors",onClick:t=>{t.stopPropagation(),xe(e)},children:t.jsx(X,{size:18})})]})]})]})},e._id)}))})})]}),t.jsxs("div",{className:"w-96 flex flex-col h-full bg-secondary-bg rounded-lg p-4 shadow-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-lg font-bold flex items-center",children:[t.jsx(S,{className:"mr-2",size:20}),s("pos.cart")]}),r.length>0&&t.jsx("button",{className:"btn btn-sm btn-error",onClick:()=>a([]),children:s("pos.clearCart")})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsxs("span",{className:"text-sm text-gray-400",children:[s("pos.customer"),":"]}),t.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>I(!0),children:s("pos.change")})]}),t.jsxs("div",{className:"p-2 border border-gray-700 rounded bg-gray-800",children:[t.jsx("p",{className:"font-medium",children:q?q.firstName+" "+q.lastName:s("pos.guest")}),q&&t.jsxs(t.Fragment,{children:[q.phone&&t.jsx("p",{className:"text-sm text-gray-400",children:q.phone}),q.loyaltyPoints>0&&t.jsxs("div",{className:"flex justify-between items-center mt-1",children:[t.jsxs("p",{className:"text-sm text-primary flex items-center",children:[t.jsx(Q,{size:14,className:"mr-1"}),s("pos.loyalty.points"),":"," ",q.loyaltyPoints]}),t.jsx("button",{className:"btn btn-xs btn-primary",onClick:()=>ve(!0),children:s("pos.loyalty.redeem")})]})]})]})]}),ye&&q&&t.jsx("div",{className:"mb-4",children:t.jsx(Je,{customer:q,onRedemptionComplete:e=>{e&&e.monetaryValue&&Ne(e.monetaryValue),ve(!1)},onClose:()=>ve(!1),currency:E,exchangeRate:T})}),je>0&&t.jsx("div",{className:"mb-4 p-2 border border-primary rounded bg-primary bg-opacity-10",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("p",{className:"text-sm font-medium flex items-center text-primary",children:[t.jsx(Q,{size:14,className:"mr-1"}),s("pos.loyalty.discountApplied")]}),t.jsx("p",{className:"font-medium text-primary",children:Ce(je)})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto mb-4 pr-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",children:0===r.length?t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[t.jsx(S,{size:48,className:"mb-2 opacity-30"}),t.jsx("p",{children:s("pos.emptyCart")})]}):t.jsx("div",{className:"space-y-3",children:r.map((e=>t.jsxs("div",{className:"flex gap-3 border-b border-gray-700 pb-3",children:[t.jsx("div",{className:"w-16 h-16 flex-shrink-0 rounded-md overflow-hidden relative bg-gray-800",children:e.images&&e.images.length>0?t.jsx("img",{src:e.images[0],alt:e.name.en,className:"w-full h-full object-cover absolute inset-0"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(F,{size:24,className:"text-gray-600"})})}),t.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx("div",{className:"overflow-x-auto whitespace-nowrap pr-2 max-w-[calc(100%-20px)] [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",children:t.jsx("h3",{className:"font-medium text-sm",children:e.name.en})}),t.jsx("button",{className:"text-gray-400 hover:text-error transition-colors flex-shrink-0",onClick:t=>{var s;t.stopPropagation(),s=e._id,a(r.filter((e=>e._id!==s)))},children:t.jsx(v,{size:16})})]}),t.jsx("span",{className:"text-accent text-sm",children:Ce(e.price)}),t.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-gray-800 rounded-md",children:[t.jsx("button",{className:"p-1 text-gray-300 hover:text-error transition-colors",onClick:t=>{var s;t.stopPropagation(),s=e._id,a(r.map((e=>e._id===s&&e.quantity>1?{...e,quantity:e.quantity-1}:e)).filter((e=>e.quantity>0)))},children:t.jsx(J,{size:16})}),t.jsx("span",{className:"px-2 text-sm",children:e.quantity}),t.jsx("button",{className:"p-1 text-gray-300 hover:text-success transition-colors",onClick:t=>{var s;t.stopPropagation(),s=e._id,a(r.map((e=>e._id===s?{...e,quantity:e.quantity+1}:e)))},children:t.jsx(X,{size:16})})]}),t.jsx("span",{className:"font-medium text-sm",children:Ce(e.price*e.quantity)})]})]})]},e._id)))})}),t.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-gray-400",children:s("pos.subtotal")}),t.jsx("span",{children:Ce(fe)})]}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-gray-400",children:s("pos.discount")}),t.jsxs("div",{className:"flex rounded-md overflow-hidden",children:[t.jsxs("button",{className:"px-2 py-1 text-xs flex items-center "+("percent"===p?"bg-accent text-white":"bg-gray-800 text-gray-400"),onClick:()=>x("percent"),children:[t.jsx(K,{size:14,className:"mr-1"}),"Percent"]}),t.jsxs("button",{className:"px-2 py-1 text-xs flex items-center "+("amount"===p?"bg-accent text-white":"bg-gray-800 text-gray-400"),onClick:()=>x("amount"),children:[t.jsx(z,{size:14,className:"mr-1"}),"Amount"]})]})]}),"percent"===p?t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsx(K,{size:16,className:"text-accent mr-1"}),t.jsx("span",{className:"text-gray-400 text-sm",children:"Percent Off"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"number",min:"0",max:"100",value:d,onChange:e=>u(Math.max(0,Math.min(100,Number(e.target.value)))),onFocus:e=>e.target.select(),className:"w-16 bg-gray-800 px-2 py-1 rounded text-right mr-1 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),t.jsx("span",{children:"%"})]})]}):t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsx(z,{size:16,className:"text-accent mr-1"}),t.jsx("span",{className:"text-gray-400 text-sm",children:"Fixed Discount"})]}),t.jsx("div",{className:"flex items-center",children:"USD"===E?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"mr-1",children:"$"}),t.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f,onChange:e=>{const t=e.target.value.replace(/[^0-9.]/g,"");if(g(t),""===t)h(0);else{const e=parseFloat(t);isNaN(e)||h(Math.min(fe,e))}},onBlur:()=>{g(m>0?m.toString():"")},onFocus:e=>e.target.select(),className:"w-20 bg-gray-800 px-2 py-1 rounded text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}):t.jsxs(t.Fragment,{children:[t.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f,onChange:e=>{const t=e.target.value.replace(/[^0-9.]/g,"");if(g(t),""===t)h(0);else{const e=parseFloat(t);isNaN(e)||h(Math.min(fe,e/T))}},onBlur:()=>{if(m>0){const e=(m*T).toString();g(e)}else g("")},onFocus:e=>e.target.select(),className:"w-28 bg-gray-800 px-2 py-1 rounded text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),t.jsx("span",{className:"ml-1",children:"IQD"})]})})]}),ge>0&&t.jsxs("div",{className:"flex justify-between mb-2 text-success",children:[t.jsx("span",{children:s("pos.discountAmount")}),t.jsxs("span",{children:["-",Ce(ge)]})]})]}),t.jsxs("div",{className:"mt-auto",children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsxs("span",{className:"font-medium",children:[s("pos.subtotal"),":"]}),t.jsx("span",{children:Ce(r.reduce(((e,t)=>e+t.price*t.quantity),0))})]}),(m>0||d>0)&&t.jsxs("div",{className:"flex justify-between mb-2 text-orange-400",children:[t.jsxs("span",{children:[s("pos.discount"),"percent"===p?` (${d}%)`:"",":"]}),t.jsxs("span",{children:["-",Ce("percent"===p?r.reduce(((e,t)=>e+t.price*t.quantity),0)*d/100:m)]})]}),je>0&&t.jsxs("div",{className:"flex justify-between mb-2 text-primary",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Q,{size:14,className:"mr-1"}),s("pos.loyalty.discount"),":"]}),t.jsxs("span",{children:["-",Ce(je)]})]}),t.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t border-gray-700",children:[t.jsxs("span",{children:[s("pos.total"),":"]}),t.jsx("span",{children:Ce(Math.max(0,r.reduce(((e,t)=>e+t.price*t.quantity),0)-("percent"===p?r.reduce(((e,t)=>e+t.price*t.quantity),0)*d/100:m)-je))})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsxs("button",{className:"btn btn-secondary flex items-center justify-center gap-2",onClick:()=>r.length>0&&alert("Card payment feature will be implemented soon!"),children:[t.jsx(ee,{size:18}),t.jsx("span",{children:s("pos.card")})]}),t.jsxs("button",{className:"btn btn-secondary flex items-center justify-center gap-2",onClick:()=>r.length>0&&alert("Cash payment feature will be implemented soon!"),children:[t.jsx(te,{size:18}),t.jsx("span",{children:s("pos.cash")})]})]}),t.jsxs("button",{className:"btn w-full flex items-center justify-center gap-2 "+(0===r.length?"btn-secondary opacity-50 cursor-not-allowed":"btn-success"),disabled:0===r.length||H,onClick:()=>{r.length>0&&I(!0)},children:[H?t.jsx("span",{className:"loading loading-spinner"}):t.jsx(G,{size:18}),t.jsx("span",{children:s("pos.checkout")})]})]})]}),t.jsx(Ke,{isOpen:R,onClose:()=>I(!1),customers:de,isLoading:ue,onSelectCustomer:(e=null)=>{U(e),I(!1);const t=(()=>{if(0===r.length)return null;const e=r.reduce(((e,t)=>e+t.price*t.quantity),0);let t=0;t="percent"===p?e*(d/100):m;const s=t+je,a=Math.max(0,e-s),n=`INV-${Date.now()}`,o="percent"===p?"percentage":"fixed";return{customer:null==q?void 0:q._id,items:r.map((e=>({product:e._id,name:e.name.en,price:e.price,quantity:e.quantity,unitPrice:e.price,subtotal:e.price*e.quantity,discount:0,discountType:"fixed"}))),subtotal:e,discountType:o,discountValue:"percent"===p?d:m,discountAmount:t,loyaltyDiscount:je,total:a,currency:E,exchangeRate:"IQD"===E?T:1,paymentMethod:"cash",paymentDetails:{},register:localStorage.getItem("register")||"main",invoiceNumber:n,createdAt:new Date}})();console.log("Setting pendingTransaction:",t),ie(t),B(!0)},onAddNewCustomer:()=>{alert("Add customer feature will be implemented soon!")}}),t.jsx(Xe,{isOpen:_,onClose:()=>{B(!1),ie(null)},onNewSale:()=>{B(!1),a([]),u(0),h(0),g(""),Ne(0),U(null),V(null),ie(null),B(!1),ve(!1)},transaction:Y||oe,cart:r,customer:q,subtotal:fe,discount:ge,total:be,discountType:p,discountValue:"percent"===p?d:m,currency:E,exchangeRate:T,isPending:!Y&&!!oe,onConfirm:async e=>{console.log("handleConfirmTransaction called with:",e),await ke(e)},isSaving:H})]})},st=()=>{const{t:s}=we(),r=i(),{products:a,isLoading:o,error:l,deleteProduct:c}=Ve(),{categories:d}=Ge(),[u,m]=n.useState(!1),[h,p]=n.useState(null),[x,f]=n.useState(null),[g,b]=n.useState(!1),[y,v]=n.useState(""),[j,w]=n.useState(1),[N,k]=n.useState([]),[C,S]=n.useState([]),[F,D]=n.useState({}),[M,E]=n.useState([]),[P,L]=n.useState([]);n.useEffect((()=>{if(!d||!Array.isArray(d))return;const e=d.filter((e=>!e.parent)),t={};d.forEach((e=>{e.parent&&(t[e.parent]||(t[e.parent]=[]),t[e.parent].push(e))})),S(e),D(t)}),[d]),n.useEffect((()=>{const e=[];N.forEach((t=>{F[t]&&e.push(...F[t].map((e=>e._id)))})),E(e)}),[N,F]),n.useEffect((()=>{let e=[];N.forEach((t=>{e.push(t);const s=t=>{(F[t]||[]).forEach((t=>{e.push(t._id),s(t._id)}))};s(t)})),e=[...new Set(e)],L(e),console.log("Selected categories:",N),console.log("All descendants:",e)}),[N,F]);const T=e=>{k((t=>{if(t.includes(e)){const s=t.filter((t=>t!==e)),r=(e,t=[])=>{if(F[e])for(const s of F[e])t.push(s._id),r(s._id,t);return t},a=r(e);return console.log(`Deselecting ${e} and its descendants:`,a),s.filter((e=>!a.includes(e)))}return[...t,e]})),w(1)},A=()=>{k([]),w(1)},z=n.useMemo((()=>{if(!a||!Array.isArray(a))return[];try{console.log("Filtering products with selected categories:",N);const e=a.filter((e=>{var t,s,r,a,n,o,i,l,c;if(!(((null==(s=null==(t=e.name)?void 0:t.en)?void 0:s.toLowerCase())||"").includes(y.toLowerCase())||((null==(a=null==(r=e.name)?void 0:r.ku)?void 0:a.toLowerCase())||"").includes(y.toLowerCase())||((null==(n=e.sku)?void 0:n.toLowerCase())||"").includes(y.toLowerCase())||(e.barcode||"").toLowerCase().includes(y.toLowerCase())||e.category&&"object"==typeof e.category&&(((null==(i=null==(o=e.category.name)?void 0:o.en)?void 0:i.toLowerCase())||"").includes(y.toLowerCase())||((null==(c=null==(l=e.category.name)?void 0:l.ku)?void 0:c.toLowerCase())||"").includes(y.toLowerCase()))))return!1;const u=(e=>{var t;if(0===N.length)return!0;if(!e.category)return!1;const s="object"==typeof e.category?e.category._id:e.category,r=(null==(t=e.name)?void 0:t.en)||"Unknown";N.some((e=>!(F[e]&&0!==F[e].length||(console.log(`Leaf category selected: ${e}`),s!==e||(console.log(`Product ${r} directly matches selected leaf category ${e}`),0)))));const a={};d.forEach((e=>{var t;a[e._id]=(null==(t=e.name)?void 0:t.en)||"Unknown"})),console.log(`Checking product: ${r} (${s}) against selected categories`),console.log(`Selected categories: ${N.map((e=>`${e} (${a[e]||"Unknown"})`)).join(", ")}`);const n=N.filter((e=>!F[e]||0===F[e].length));if(console.log(`Selected leaf categories: ${n.map((e=>`${e} (${a[e]||"Unknown"})`)).join(", ")}`),n.length>0){const e=n.includes(s);return console.log(`Product ${r} ${e?"matches":"does not match"} selected leaf categories`),e}const o={};if(N.forEach((e=>{Object.entries(F).forEach((([t,s])=>{N.includes(t)&&s.some((t=>t._id===e))&&e!==t&&(o[t]||(o[t]=[]),o[t].push(e))}))})),console.log("Parents with selected children:",o),Object.keys(o).length>0)for(const[l,c]of Object.entries(o)){if(s===l)return console.log(`Product ${r} matches parent ${l} but we've selected specific children`),!1;const e=(t,s=[])=>((F[t]||[]).forEach((t=>{s.push(t._id),e(t._id,s)})),s);if(e(l).includes(s)){console.log(`Product ${r} is a descendant of parent ${l}`);let t=[];c.forEach((s=>{t.push(s),e(s,t)}));const a=t.includes(s);return console.log(`Product ${r} ${a?"matches":"does not match"} allowed categories under selected children`),a}}const i=N.filter((e=>!Object.keys(o).includes(e)&&!Object.values(o).flat().includes(e)));if(console.log("Remaining categories:",i),i.length>0){const e=(t,s=[])=>((F[t]||[]).forEach((t=>{s.push(t._id),e(t._id,s)})),s);let t=[];i.forEach((s=>{t.push(s),e(s,t)})),console.log("Categories to check for remaining categories:",t);const a=t.includes(s);return console.log(`Product ${r} ${a?"matches":"does not match"} remaining categories`),a}return console.log(`Product ${r} didn't match any selection criteria`),!1})(e);return u}));return console.log(`Filtered products: ${e.length} out of ${a.length}`),console.log("Filtered product names:",e.map((e=>{var t;return null==(t=e.name)?void 0:t.en})).join(", ")),e}catch(e){return console.error("Error filtering products:",e),[]}}),[a,y,N,F,d]),O=20*j,$=O-20,W=z.slice($,O),R=Math.ceil(z.length/20),I=e=>w(e);n.useMemo((()=>{w(1)}),[y]);return t.jsxs("div",{children:[t.jsx("style",{children:"\n  .custom-scrollbar::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n  }\n  .custom-scrollbar::-webkit-scrollbar-track {\n    background: #262626;\n    border-radius: 4px;\n  }\n  .custom-scrollbar::-webkit-scrollbar-thumb {\n    background: #444;\n    border-radius: 4px;\n  }\n  .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n    background: #555;\n  }\n"}),t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:s("products.products")}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("button",{onClick:async()=>{try{const t=await e.get("/api/products/export-barcodes?active=true",{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=s,r.setAttribute("download","product_barcodes.csv"),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(s),document.body.removeChild(r)}catch(t){console.error("Error exporting products:",t),alert("Failed to export products")}},className:"px-4 py-2 rounded-md bg-[#36F2A3] hover:bg-[#2DD38A] text-gray-800 flex items-center gap-2",title:"Export products to CSV for label printing",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),s("products.exportLabels")||"Export Labels"]}),t.jsxs("button",{onClick:()=>r("/inventory/categories/add"),className:"px-4 py-2 rounded-md bg-[#F2B705] hover:bg-[#D9A404] text-gray-800 flex items-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M3 6h18M3 12h18M3 18h18"})}),s("categories.add")||"Add Category"]}),t.jsxs("button",{onClick:()=>r("/inventory/products/add"),className:"px-4 py-2 rounded-md bg-gradient-to-r from-[#7E3FF2] to-[#3D9CF2] hover:from-[#8F50FF] hover:to-[#4EADFF] text-white flex items-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M12 5v14M5 12h14"})}),s("products.add")]})]})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",className:"w-full px-4 py-2 pl-10 rounded-md bg-[#262626] border border-[#363636] text-white focus:outline-none focus:ring-2 focus:ring-[#7E3FF2] focus:border-transparent",placeholder:s("products.searchProducts")||"Search products by name, SKU or barcode",value:y,onChange:e=>v(e.target.value)}),t.jsx("div",{className:"absolute left-3 top-2.5 text-zinc-400",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),y&&t.jsx("button",{className:"absolute right-3 top-2.5 text-zinc-400 hover:text-white",onClick:()=>v(""),title:s("common.clear")||"Clear search",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),C&&C.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("h3",{className:"text-sm font-medium text-zinc-300",children:[s("products.filterByCategory")||"Filter by Category",N.length>0&&` (${N.length})`]}),N.length>0&&t.jsx("button",{onClick:A,className:"text-xs text-[#3D9CF2] hover:text-[#7E3FF2]",children:s("common.clearAll")||"Clear All"})]}),t.jsx("div",{className:"mb-2",children:t.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-h-[120px] overflow-y-auto custom-scrollbar p-1",children:C.map((e=>t.jsxs("button",{onClick:()=>T(e._id),className:"px-3 py-1.5 text-sm rounded-full transition-colors whitespace-nowrap "+(N.includes(e._id)?"bg-[#7E3FF2] text-white":"bg-[#262626] text-zinc-300 hover:bg-[#363636]"),children:[e.name.en,N.includes(e._id)&&t.jsx("span",{className:"ml-1",children:"✓"})]},e._id)))})}),N.length>0&&N.some((e=>F[e]&&F[e].length>0))&&t.jsxs("div",{children:[t.jsxs("div",{className:"text-xs text-zinc-400 mb-1 ml-1",children:[s("products.subcategories")||"Subcategories",":"]}),t.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-h-[120px] overflow-y-auto custom-scrollbar p-1",children:N.map((e=>{var s;return null==(s=F[e])?void 0:s.map((e=>t.jsxs("button",{onClick:()=>T(e._id),className:"px-3 py-1 text-xs rounded-full transition-colors whitespace-nowrap flex items-center "+(N.includes(e._id)?"bg-[#7E3FF2]/80 text-white":"bg-[#363636] text-zinc-300 hover:bg-[#464646]"),children:[t.jsx("span",{className:"opacity-70 mr-1",children:"↳"})," ",e.name.en,N.includes(e._id)&&t.jsx("span",{className:"ml-1",children:"✓"})]},e._id)))}))})]})]}),t.jsx("div",{className:"card",children:o?t.jsx("p",{className:"text-center py-10",children:s("common.loading")}):l?t.jsx("p",{className:"text-center text-red-500 py-10",children:l}):a&&a.length>0?t.jsx(t.Fragment,{children:z.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-full",children:t.jsxs("table",{className:"w-full table-fixed divide-y divide-[#363636]",children:[t.jsx("thead",{className:"bg-[#262626]",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider w-[25%]",children:s("products.name")}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider w-[18%]",children:s("products.sku")}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider w-[12%]",children:s("products.barcode")}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider w-[10%]",children:s("products.category")}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider w-[10%]",children:s("products.price")}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider w-[12%]",children:s("products.quantity")}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-zinc-300 uppercase tracking-wider w-[13%]",children:s("common.actions")})]})}),t.jsx("tbody",{className:"bg-[#1A1A1A] divide-y divide-[#363636]",children:W.map((e=>{var a,n;return t.jsxs("tr",{className:"hover:bg-[#222222]",children:[t.jsx("td",{className:"px-4 py-4 overflow-hidden",children:t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"max-w-full",children:[t.jsx("div",{className:"text-sm font-medium text-white break-words",children:e.name.en}),t.jsx("div",{className:"text-xs text-zinc-400 break-words",children:e.name.ku})]})})}),t.jsx("td",{className:"px-4 py-4 text-sm text-white break-words",children:e.sku}),t.jsx("td",{className:"px-4 py-4 text-sm text-white truncate",children:e.barcode||"-"}),t.jsx("td",{className:"px-4 py-4 text-sm text-white",children:e.category&&"object"==typeof e.category?t.jsxs("div",{className:"max-w-full",children:[t.jsx("div",{className:"text-sm text-white truncate",children:(null==(a=e.category.name)?void 0:a.en)||"-"}),t.jsx("div",{className:"text-xs text-zinc-400 truncate",children:(null==(n=e.category.name)?void 0:n.ku)||""})]}):"-"}),t.jsxs("td",{className:"px-4 py-4",children:[t.jsxs("div",{className:"text-sm text-[#36F2A3] font-medium",children:["$",e.price.toFixed(2)]}),t.jsxs("div",{className:"text-xs text-zinc-400",children:[s("products.cost"),": $",e.cost.toFixed(2)]})]}),t.jsxs("td",{className:"px-4 py-4",children:[t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(e.quantity<=0?"bg-[#F23557]/10 text-[#F23557]":e.quantity<=e.reorderLevel?"bg-[#F2B705]/10 text-[#F2B705]":"bg-[#36F2A3]/10 text-[#36F2A3]"),children:e.quantity<=0?s("products.outOfStock"):e.quantity<=e.reorderLevel?s("products.lowStock"):s("products.inStock")}),t.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:[e.quantity," ",s("products.units")]})]}),t.jsx("td",{className:"px-4 py-4 text-sm text-white text-center",children:t.jsxs("div",{className:"flex justify-center space-x-3",children:[t.jsx("button",{onClick:()=>r(`/inventory/products/edit/${e._id}`),className:"text-[#3D9CF2] hover:text-[#7E3FF2]",title:s("common.edit")||"Edit",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{onClick:()=>(e=>{p(e),m(!0),f(null),b(!1)})(e),className:"text-[#F23557] hover:text-[#FF5A77]",title:s("common.delete")||"Delete",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 6h18"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),t.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),t.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),t.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})})]},e._id)}))})]})}),R>1&&t.jsxs("div",{className:"flex justify-between items-center mt-6 px-6 py-4 bg-[#262626] border-t border-[#363636]",children:[t.jsxs("div",{className:"text-sm text-zinc-400",children:[s("common.showing")||"Showing"," ",t.jsx("span",{className:"font-medium text-white",children:$+1})," ",s("common.to")||"to"," ",t.jsx("span",{className:"font-medium text-white",children:Math.min(O,z.length)})," ",s("common.of")||"of"," ",t.jsx("span",{className:"font-medium text-white",children:z.length})," ",s("products.products")]}),t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("button",{onClick:()=>I(1),disabled:1===j,className:"px-3 py-1 rounded-md "+(1===j?"bg-[#1A1A1A] text-zinc-500 cursor-not-allowed":"bg-[#363636] text-white hover:bg-[#4A4A4A]"),children:"«"}),t.jsx("button",{onClick:()=>I(j-1),disabled:1===j,className:"px-3 py-1 rounded-md "+(1===j?"bg-[#1A1A1A] text-zinc-500 cursor-not-allowed":"bg-[#363636] text-white hover:bg-[#4A4A4A]"),children:"‹"}),[...Array(R).keys()].map((e=>{const s=e+1;return 1===s||s===R||s>=j-2&&s<=j+2?t.jsx("button",{onClick:()=>I(s),className:"px-3 py-1 rounded-md "+(j===s?"bg-[#7E3FF2] text-white":"bg-[#363636] text-white hover:bg-[#4A4A4A]"),children:s},s):s===j-3||s===j+3?t.jsx("span",{className:"px-3 py-1 text-zinc-500",children:"..."},s):null})),t.jsx("button",{onClick:()=>I(j+1),disabled:j===R,className:"px-3 py-1 rounded-md "+(j===R?"bg-[#1A1A1A] text-zinc-500 cursor-not-allowed":"bg-[#363636] text-white hover:bg-[#4A4A4A]"),children:"›"}),t.jsx("button",{onClick:()=>I(R),disabled:j===R,className:"px-3 py-1 rounded-md "+(j===R?"bg-[#1A1A1A] text-zinc-500 cursor-not-allowed":"bg-[#363636] text-white hover:bg-[#4A4A4A]"),children:"»"})]})]})]}):t.jsxs("div",{className:"text-center py-10",children:[t.jsx("p",{className:"text-zinc-400 mb-4",children:s("products.noMatchingProducts")||"No products match your search"}),t.jsxs("div",{className:"flex justify-center space-x-4",children:[y&&t.jsx("button",{onClick:()=>v(""),className:"px-4 py-2 rounded-md bg-[#262626] border border-[#363636] text-white hover:bg-[#363636]",children:s("common.clearSearch")||"Clear Search"}),N.length>0&&t.jsx("button",{onClick:A,className:"px-4 py-2 rounded-md bg-[#262626] border border-[#363636] text-white hover:bg-[#363636]",children:s("common.clearCategories")||"Clear Categories"}),(y||N.length>0)&&t.jsx("button",{onClick:()=>{v(""),A()},className:"px-4 py-2 rounded-md bg-[#363636] border border-[#464646] text-white hover:bg-[#464646]",children:s("common.clearAll")||"Clear All Filters"})]})]})}):t.jsxs("div",{className:"text-center py-10",children:[t.jsx("p",{className:"text-zinc-400 mb-4",children:s("products.noProductsFound")}),t.jsxs("button",{onClick:()=>r("/inventory/products/add"),className:"px-4 py-2 rounded-md bg-gradient-to-r from-[#7E3FF2] to-[#3D9CF2] text-white inline-flex items-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M12 5v14M5 12h14"})}),s("products.addFirst")]})]})}),u&&t.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:t.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[t.jsx("div",{className:"fixed inset-0 bg-[#000000] bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:()=>!g&&m(!1)}),t.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),t.jsxs("div",{className:"inline-block align-bottom bg-[#1A1A1A] rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[t.jsx("div",{className:"bg-[#1A1A1A] px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:t.jsx("div",{className:"sm:flex sm:items-start",children:g?t.jsxs("div",{className:"w-full text-center py-4",children:[t.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-[#36F2A3]/10 mb-4",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-[#36F2A3]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),t.jsx("p",{className:"text-[#36F2A3] text-lg font-medium",children:s("products.deleteSuccess")||"Product deleted successfully"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-[#F23557]/10 sm:mx-0 sm:h-10 sm:w-10",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-[#F23557]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"17"})]})}),t.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[t.jsx("h3",{className:"text-lg leading-6 font-medium text-white",children:s("products.deleteConfirmation")||"Delete Product"}),t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-sm text-zinc-400",children:s("products.deleteWarning")||"Are you sure you want to delete this product? This action cannot be undone."}),h&&t.jsxs("div",{className:"mt-2 p-2 bg-[#262626] rounded-md",children:[t.jsx("p",{className:"text-sm text-white font-medium",children:h.name.en}),t.jsxs("p",{className:"text-xs text-zinc-400",children:["SKU: ",h.sku]})]}),x&&t.jsx("p",{className:"mt-2 text-sm text-[#F23557]",children:x})]})]})]})})}),!g&&t.jsxs("div",{className:"bg-[#262626] px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[t.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-[#F23557] text-base font-medium text-white hover:bg-[#FF5A77] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F23557] sm:ml-3 sm:w-auto sm:text-sm",onClick:async()=>{var e,t;if(h)try{await c(h._id),b(!0),f(null),setTimeout((()=>{m(!1),p(null),b(!1)}),1500)}catch(s){f((null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.error)||"Failed to delete product"),console.error("Error deleting product:",s)}},children:s("common.delete")||"Delete"}),t.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-[#363636] shadow-sm px-4 py-2 bg-[#262626] text-base font-medium text-white hover:bg-[#363636] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#363636] sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>m(!1),children:s("common.cancel")||"Cancel"})]})]})]})})]})},rt=({onSubmit:s,initialData:r={},onCancel:a,existingProducts:o=[]})=>{var i,l,c,d;const{t:u}=we(),{searchProducts:m}=Ve(),{categories:h}=Ge(),[p,x]=n.useState({sku:r.sku||"",barcode:r.barcode||"",name:{en:(null==(i=r.name)?void 0:i.en)||"",ku:(null==(l=r.name)?void 0:l.ku)||""},description:{en:(null==(c=r.description)?void 0:c.en)||"",ku:(null==(d=r.description)?void 0:d.ku)||""},category:r.category||"",price:r.price||"",cost:r.cost||"",quantity:r.quantity||1,reorderLevel:r.reorderLevel||"10",active:void 0===r.active||r.active,imageUrl:r.imageUrl||(r.images&&r.images.length>0?r.images[0]:""),...r}),[f,g]=n.useState({}),[b,y]=n.useState(!1),[v,j]=n.useState(!1),[w,N]=n.useState(""),[k,C]=n.useState([]),[S,F]=n.useState(!1),[D,M]=n.useState([]),[E,P]=n.useState({}),[L,T]=n.useState(""),[A,z]=n.useState([]),[O,$]=n.useState(0);n.useEffect((()=>{if(!h||!Array.isArray(h))return;const e=h.filter((e=>!e.parent)),t={};if(h.forEach((e=>{e.parent&&(t[e.parent]||(t[e.parent]=[]),t[e.parent].push(e))})),M(e),P(t),r.category){const e=h.find((e=>e._id===r.category));if(e)if(e.parent){const t=(e=>{const t=[];let s=h.find((t=>t._id===e));for(;s&&s.parent;)t.unshift(s.parent),s=h.find((e=>e._id===s.parent));return t})(e._id);t.length>0&&(T(t[0]),z([...t,e._id]),$(t.length))}else T(e._id),z([e._id]),$(0)}}),[h,r.category]);const W=e=>{const{name:t,value:s,type:r,checked:a}=e.target;if(t.includes(".")){const[e,r]=t.split(".");x({...p,[e]:{...p[e],[r]:s}})}else x({...p,[t]:"checkbox"===r?a:s});f[t]&&g({...f,[t]:""})},R=async()=>{try{const t=await e.get("/api/products/generate-barcode");t.data.barcode&&x({...p,barcode:t.data.barcode})}catch(t){console.error("Error generating barcode:",t),I()}},I=()=>{const e=`9990001${Math.floor(1e4+9e4*Math.random()).toString()}`;let t=0,s=0;for(let a=0;a<12;a++){const r=parseInt(e[a],10);a%2==0?t+=r:s+=r}const r=`${e}${(10-(t+3*s)%10)%10}`;x({...p,barcode:r})};return n.useEffect((()=>{r._id||p.barcode||R()}),[]),t.jsx("div",{className:"w-full overflow-hidden bg-gradient-to-br from-[#121212] to-[#1E1E1E] border border-[#262626] rounded-lg shadow-lg",children:t.jsx("div",{className:"relative p-6",children:t.jsxs("form",{onSubmit:async e=>{var t,a;if(e.preventDefault(),(()=>{const e={};return p.sku.trim()||(e.sku=u("validation.required")),p.barcode.trim()||(e.barcode=u("validation.required")),p.name.en.trim()||(e["name.en"]=u("validation.required")),L?p.category||x({...p,category:L}):e.category=u("validation.requiredCategory"),p.price?(isNaN(p.price)||Number(p.price)<0)&&(e.price=u("validation.invalidNumber")):e.price=u("validation.required"),p.cost?(isNaN(p.cost)||Number(p.cost)<0)&&(e.cost=u("validation.invalidNumber")):e.cost=u("validation.required"),g(e),0===Object.keys(e).length})()){y(!0);try{const e={sku:p.sku,barcode:p.barcode,name:{en:p.name.en,ku:p.name.ku||void 0},description:{en:p.description.en||void 0,ku:p.description.ku||void 0},category:p.category,price:Number(p.price),cost:Number(p.cost),quantity:Number(p.quantity),reorderLevel:Number(p.reorderLevel),active:p.active,isNewBarcode:p.isNewBarcode,imageUrl:p.imageUrl,images:p.imageUrl?[p.imageUrl]:[]};await s(e),r._id||(x({sku:"",barcode:"",name:{en:"",ku:""},description:{en:"",ku:""},category:"",price:"",cost:"",reorderLevel:"10",active:!0,imageUrl:""}),j(!1))}catch(n){console.error("Error submitting form:",n),(null==(a=null==(t=n.response)?void 0:t.data)?void 0:a.error)?g({...f,form:n.response.data.error}):g({...f,form:u("errors.generalError")})}finally{y(!1)}}},className:"space-y-6",children:[f.form&&t.jsx("div",{className:"bg-[#F23557]/10 border border-[#F23557]/20 text-[#F23557] px-4 py-3 rounded-md",children:f.form}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("h2",{className:"text-xl font-bold font-['Rajdhani',sans-serif] text-white flex items-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-[#7E3FF2]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z"})}),u("products.chooseSource")||"Choose Product Source"]}),t.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.jsxs("div",{className:"bg-[#262626] p-4 rounded-md",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx("input",{type:"checkbox",id:"existingProduct",checked:v,onChange:e=>j(e.target.checked),className:"w-4 h-4 text-[#7E3FF2] rounded border-[#363636] focus:ring-[#7E3FF2]/20 focus:ring-offset-[#121212]"}),t.jsx("label",{htmlFor:"existingProduct",className:"text-sm font-medium text-white",children:u("products.useExisting")||"Use existing product (copy product details and add new barcode)"})]}),v&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-zinc-300",children:u("products.searchProducts")||"Search Products"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:w,onChange:async e=>{const t=e.target.value;if(N(t),t.length<2)C([]);else{F(!0);try{const e=await m(t);C(e)}catch(s){console.error("Error searching products:",s)}finally{F(!1)}}},placeholder:u("products.searchPlaceholder")||"Search by name, SKU, or barcode...",className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"}),S&&t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-[#7E3FF2]"})})]}),k.length>0&&t.jsx("div",{className:"mt-2 max-h-60 overflow-y-auto bg-[#1A1A1A] border border-[#363636] rounded-md",children:k.map((e=>t.jsx("div",{onClick:()=>(e=>{var t,s,r,a,n;x({...e,barcode:"",_id:void 0,isNewBarcode:!0,name:{en:(null==(t=e.name)?void 0:t.en)||e.name||"",ku:(null==(s=e.name)?void 0:s.ku)||""},description:{en:(null==(r=e.description)?void 0:r.en)||e.description||"",ku:(null==(a=e.description)?void 0:a.ku)||""},category:(null==(n=e.category)?void 0:n._id)||e.category||"",price:e.price||0,cost:e.cost||0,reorderLevel:e.reorderLevel||10,active:void 0===e.active||e.active,imageUrl:e.images&&e.images.length>0?e.images[0]:e.imageUrl||""}),C([]),N(""),j(!0)})(e),className:"p-3 border-b border-[#363636] last:border-b-0 hover:bg-[#2A2A2A] cursor-pointer",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:e.name.en}),t.jsxs("p",{className:"text-xs text-zinc-400",children:["SKU: ",e.sku]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-[#36F2A3] font-bold",children:["$",e.price.toFixed(2)]}),t.jsxs("p",{className:"text-xs text-zinc-400",children:[u("products.stock"),": ",e.quantity]})]})]})},e._id)))})]})]})})]}),t.jsx("div",{className:"border-t border-[#363636] pt-4"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("h2",{className:"text-xl font-bold font-['Rajdhani',sans-serif] text-white flex items-center gap-2",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-[#7E3FF2]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),t.jsx("path",{d:"M7 7h.01"}),t.jsx("path",{d:"M17 7h.01"}),t.jsx("path",{d:"M7 17h.01"}),t.jsx("path",{d:"M17 17h.01"})]}),u("products.basicInfo")||"Basic Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:"sku",className:"block text-sm font-medium text-zinc-300",children:[u("products.sku")," ",t.jsx("span",{className:"text-[#F23557]",children:"*"})]}),t.jsx("input",{type:"text",id:"sku",name:"sku",value:p.sku,onChange:W,className:`w-full h-10 rounded-md border ${f.sku?"border-[#F23557]":"border-[#363636]"} bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]`}),f.sku&&t.jsx("p",{className:"text-[#F23557] text-xs mt-1",children:f.sku})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:"barcode",className:"block text-sm font-medium text-zinc-300",children:[u("products.barcode")," ",t.jsx("span",{className:"text-[#F23557]",children:"*"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("input",{type:"text",id:"barcode",name:"barcode",value:p.barcode,onChange:W,className:`w-full h-10 rounded-md border ${f.barcode?"border-[#F23557]":"border-[#363636]"} bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]`}),t.jsx("button",{type:"button",onClick:R,className:"px-3 h-10 bg-[#7E3FF2] hover:bg-[#6E2FE2] rounded-md text-white flex items-center justify-center flex-shrink-0",title:u("products.generateBarcode")||"Generate barcode",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M5 7V4h17v7"}),t.jsx("path",{d:"M12 20H2V8h14"}),t.jsx("path",{d:"M7 12v5"}),t.jsx("path",{d:"M6 13h2"}),t.jsx("rect",{width:"6",height:"6",x:"16",y:"16",rx:"1"})]})}),t.jsx("button",{type:"button",onClick:()=>x({...p,barcode:""}),className:"px-3 h-10 bg-[#444] hover:bg-[#333] rounded-md text-white flex items-center justify-center flex-shrink-0",title:u("products.clearBarcode")||"Clear barcode",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M18 6 6 18"}),t.jsx("path",{d:"m6 6 12 12"})]})})]}),f.barcode&&t.jsx("p",{className:"text-[#F23557] text-xs mt-1",children:f.barcode}),t.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:u("products.barcodeHint")||"Barcode is auto-generated for new products. You can generate a new one or enter manually."})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:"name.en",className:"block text-sm font-medium text-zinc-300",children:[u("products.nameEn")," ",t.jsx("span",{className:"text-[#F23557]",children:"*"})]}),t.jsx("input",{type:"text",id:"name.en",name:"name.en",value:p.name.en,onChange:W,className:`w-full h-10 rounded-md border ${f["name.en"]?"border-[#F23557]":"border-[#363636]"} bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]`}),f["name.en"]&&t.jsx("p",{className:"text-[#F23557] text-xs mt-1",children:f["name.en"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"name.ku",className:"block text-sm font-medium text-zinc-300",children:u("products.nameKu")}),t.jsx("input",{type:"text",id:"name.ku",name:"name.ku",value:p.name.ku,onChange:W,className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[t.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-zinc-300",children:[u("products.category")," ",t.jsx("span",{className:"text-[#F23557]",children:"*"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"parentCategory",className:"block text-xs text-zinc-400 mb-1",children:u("products.parentCategory")||"Parent Category"}),t.jsxs("select",{id:"parentCategory",name:"parentCategory",value:L,onChange:e=>{const t=e.target.value;T(t),z(t?[t]:[]),$(0),x({...p,category:t||""})},className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]",children:[t.jsx("option",{value:"",children:u("products.selectCategory")}),D.map((e=>t.jsx("option",{value:e._id,children:e.name.en},e._id)))]})]}),L&&A.map(((e,s)=>{const r=E[e]||[];return r.length>0&&s===O?t.jsxs("div",{children:[t.jsxs("label",{htmlFor:`category-level-${s+1}`,className:"block text-xs text-zinc-400 mb-1",children:[u("products.subCategory")||"Sub Category"," ",s+1]}),t.jsxs("select",{id:`category-level-${s+1}`,name:`category-level-${s+1}`,value:A[s+1]||"",onChange:e=>((e,t)=>{const s=e.target.value,r=[...A.slice(0,t),s];z(r),$(t),x({...p,category:s})})(e,s+1),className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]",children:[t.jsx("option",{value:"",children:u("products.selectSubCategory")||"Select Sub-Category"}),r.map((e=>t.jsx("option",{value:e._id,children:e.name.en},e._id)))]})]},`level-${s+1}`):null}))]}),f.category&&t.jsx("p",{className:"text-[#F23557] text-xs mt-1",children:f.category}),A.length>0&&t.jsx("div",{className:"mt-2",children:t.jsxs("p",{className:"text-xs text-zinc-400",children:[u("products.selectedCategory")||"Selected Category",":"," ",t.jsx("span",{className:"text-white",children:A.map(((e,s)=>{const r=h.find((t=>t._id===e));return r?t.jsxs("span",{children:[s>0&&" > ",r.name.en]},e):null}))})]})})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[t.jsx("label",{htmlFor:"productImage",className:"block text-sm font-medium text-zinc-300",children:u("products.image")||"Product Image"}),t.jsxs("div",{className:"flex items-center space-x-4",children:[p.imageUrl&&t.jsxs("div",{className:"relative w-20 h-20 rounded-md overflow-hidden border border-[#363636]",children:[t.jsx("img",{src:p.imageUrl,alt:p.name.en,className:"w-full h-full object-cover"}),t.jsx("button",{type:"button",onClick:()=>x({...p,imageUrl:""}),className:"absolute top-1 right-1 bg-[#262626] p-1 rounded-full",title:u("products.removeImage")||"Remove image",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M18 6 6 18"}),t.jsx("path",{d:"m6 6 12 12"})]})})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("input",{type:"text",id:"imageUrl",name:"imageUrl",placeholder:u("products.imageUrlPlaceholder")||"Enter image URL",value:p.imageUrl||"",onChange:W,className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"}),t.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:u("products.imageHint")||"Enter a URL for the product image. The image will be stored as a reference."})]})]})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[t.jsx("label",{htmlFor:"description.en",className:"block text-sm font-medium text-zinc-300",children:u("products.descriptionEn")}),t.jsx("textarea",{id:"description.en",name:"description.en",value:p.description.en,onChange:W,rows:"3",className:"w-full rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[t.jsx("label",{htmlFor:"description.ku",className:"block text-sm font-medium text-zinc-300",children:u("products.descriptionKu")}),t.jsx("textarea",{id:"description.ku",name:"description.ku",value:p.description.ku,onChange:W,rows:"3",className:"w-full rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"})]})]})]}),t.jsx("div",{className:"border-t border-[#363636] pt-4"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("h2",{className:"text-xl font-bold font-['Rajdhani',sans-serif] text-white flex items-center gap-2",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-[#36F2A3]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),t.jsx("path",{d:"M13 5v2"}),t.jsx("path",{d:"M13 17v2"}),t.jsx("path",{d:"M13 11v2"})]}),u("products.pricingInventory")||"Pricing & Inventory"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-zinc-300",children:[u("products.price")," ",t.jsx("span",{className:"text-[#F23557]",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",children:"$"}),t.jsx("input",{type:"number",id:"price",name:"price",min:"0",step:"0.01",value:p.price,onChange:W,className:`w-full h-10 rounded-md border ${f.price?"border-[#F23557]":"border-[#363636]"} bg-[#262626] text-white pl-8 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]`})]}),f.price&&t.jsx("p",{className:"text-[#F23557] text-xs mt-1",children:f.price})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:"cost",className:"block text-sm font-medium text-zinc-300",children:[u("products.cost")," ",t.jsx("span",{className:"text-[#F23557]",children:"*"}),v&&t.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(",u("products.batchCost")||"Batch Cost",")"]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",children:"$"}),t.jsx("input",{type:"number",id:"cost",name:"cost",min:"0",step:"0.01",value:p.cost,onChange:W,className:`w-full h-10 rounded-md border ${f.cost?"border-[#F23557]":"border-[#363636]"} bg-[#262626] text-white pl-8 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]`})]}),f.cost&&t.jsx("p",{className:"text-[#F23557] text-xs mt-1",children:f.cost}),v&&t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:u("products.costExplanation")||"This cost will be recorded for this specific batch of products. The average cost will be calculated automatically."})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-zinc-300",children:[u("products.quantity")," *"]}),t.jsx("input",{type:"number",id:"quantity",name:"quantity",min:"1",value:p.quantity,onChange:W,className:"w-full p-2 border rounded-md bg-[#1e1e1e] border-[#363636] focus:border-[#5e5e5e] focus:outline-none",required:!0}),f.quantity&&t.jsx("p",{className:"text-[#F23557] text-xs mt-1",children:f.quantity})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"reorderLevel",className:"block text-sm font-medium text-zinc-300",children:u("products.reorderLevel")}),t.jsx("input",{type:"number",id:"reorderLevel",name:"reorderLevel",min:"0",value:p.reorderLevel,onChange:W,className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"active",name:"active",checked:p.active,onChange:W,className:"w-4 h-4 text-[#7E3FF2] rounded border-[#363636] focus:ring-[#7E3FF2]/20 focus:ring-offset-[#121212]"}),t.jsx("label",{htmlFor:"active",className:"text-sm font-medium text-white",children:u("products.active")||"Active product (available for sale)"})]}),t.jsx("p",{className:"text-xs text-zinc-400",children:u("products.quantityNote")||"Note: Identical products (same SKU) share the same barcode and will be added to the existing quantity."})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a&&t.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 border border-[#363636] rounded-md shadow-sm text-sm font-medium text-white bg-[#262626] hover:bg-[#363636] hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#121212] focus:ring-[#7E3FF2]",children:u("common.cancel")}),t.jsx("button",{type:"button",onClick:()=>{x({sku:"",barcode:"",name:{en:"",ku:""},description:{en:"",ku:""},category:"",price:"",cost:"",quantity:1,reorderLevel:"10",active:!0,imageUrl:""}),j(!1),N(""),C([]),g({}),T(""),z([]),$(0)},className:"px-4 py-2 border border-[#363636] rounded-md shadow-sm text-sm font-medium text-white bg-[#262626] hover:bg-[#363636] hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#121212] focus:ring-[#7E3FF2]",children:u("common.reset")}),t.jsxs("button",{type:"submit",disabled:b,className:"relative overflow-hidden px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-[#7E3FF2] to-[#3D9CF2] hover:from-[#8F50FF] hover:to-[#4EADFF] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#121212] focus:ring-[#7E3FF2] disabled:opacity-70",children:[t.jsx("span",{className:"relative z-10",children:u(b?"common.submitting":"common.submit")}),t.jsx("span",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,0)_0%,rgba(255,255,255,0.1)_100%)] opacity-0 hover:opacity-100 transition-opacity duration-300"})]})]})]})})})},at=()=>{const{t:e}=we(),s=i(),{addProduct:r,incrementQuantity:a,products:o}=Ve(),[l,c]=n.useState(null),[d,u]=n.useState(!1);return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:e("products.addProduct")}),t.jsxs("button",{onClick:()=>s("/inventory/products"),className:"px-4 py-2 rounded-md border border-[#363636] bg-[#262626] hover:bg-[#363636] text-white flex items-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"m15 18-6-6 6-6"})}),e("common.back")]})]}),l&&t.jsx("div",{className:"bg-[#F23557]/10 border border-[#F23557]/20 text-[#F23557] px-4 py-3 rounded-md mb-6",children:l}),d&&t.jsx("div",{className:"bg-[#36F2A3]/10 border border-[#36F2A3]/20 text-[#36F2A3] px-4 py-3 rounded-md mb-6",children:e("products.addSuccess")}),t.jsx(rt,{onSubmit:async e=>{var t,n;try{c(null);const t=o.find((t=>t.sku===e.sku));if(t)return await a(t._id,{quantity:e.quantity||1,cost:e.cost}),u(!0),void setTimeout((()=>{s("/inventory/products")}),2e3);const n={...e,quantity:e.quantity||1};await r(n),u(!0),setTimeout((()=>{s("/inventory/products")}),2e3)}catch(i){c((null==(n=null==(t=i.response)?void 0:t.data)?void 0:n.error)||"Failed to add product"),console.error("Error adding product:",i)}},onCancel:()=>s("/inventory/products"),existingProducts:o})]})},nt=({costHistory:e=[]})=>{const{t:s}=we();if(!e||0===e.length)return t.jsx("div",{className:"text-sm text-gray-400 italic py-4",children:s("products.noCostHistory")||"No cost history available"});const r=[...e].sort(((e,t)=>new Date(t.date)-new Date(e.date)));return t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-[#363636]",children:[t.jsx("thead",{className:"bg-[#262626]",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider",children:s("products.date")||"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider",children:s("products.quantity")||"Quantity"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider",children:s("products.cost")||"Cost"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider",children:s("products.total")||"Total"})]})}),t.jsx("tbody",{className:"bg-[#1A1A1A] divide-y divide-[#363636]",children:r.map(((e,s)=>t.jsxs("tr",{className:"hover:bg-[#222222]",children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-white",children:new Date(e.date).toLocaleDateString()}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-white",children:e.quantity}),t.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-white",children:["$",e.cost.toFixed(2)]}),t.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-white",children:["$",(e.cost*e.quantity).toFixed(2)]})]},s)))})]})})},ot=()=>{const{t:e}=we(),s=i(),{id:r}=d(),{updateProduct:a,getProduct:o}=Ve(),[l,c]=n.useState(null),[u,m]=n.useState(!0),[h,p]=n.useState(null),[x,f]=n.useState(!1),[g,b]=n.useState(!1);n.useEffect((()=>{r&&(async()=>{var e,t;try{m(!0),p(null);const e=await o(r);c(e)}catch(s){p((null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.error)||"Failed to fetch product"),console.error("Error fetching product:",s)}finally{m(!1)}})()}),[r]);return u?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#7E3FF2]"})}):h?t.jsx("div",{className:"bg-[#F23557]/10 border border-[#F23557]/20 text-[#F23557] px-4 py-3 rounded-md",children:h}):l?t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:e("products.editProduct")}),t.jsxs("button",{onClick:()=>s("/inventory/products"),className:"px-4 py-2 rounded-md border border-[#363636] bg-[#262626] hover:bg-[#363636] text-white flex items-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"m15 18-6-6 6-6"})}),e("common.back")]})]}),h&&t.jsx("div",{className:"bg-[#F23557]/10 border border-[#F23557]/20 text-[#F23557] px-4 py-3 rounded-md mb-6",children:h}),x&&t.jsx("div",{className:"bg-[#36F2A3]/10 border border-[#36F2A3]/20 text-[#36F2A3] px-4 py-3 rounded-md mb-6",children:e("products.updateSuccess")}),l.costHistory&&l.costHistory.length>0&&t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold",children:e("products.costHistory")||"Cost History"}),t.jsx("button",{onClick:()=>b(!g),className:"px-3 py-1 rounded-md border border-[#363636] bg-[#262626] hover:bg-[#363636] text-white text-sm",children:g?e("common.hide")||"Hide":e("common.show")||"Show"})]}),g&&t.jsx(nt,{costHistory:l.costHistory})]}),t.jsx(rt,{onSubmit:async e=>{var t,n;try{p(null),await a(r,e),f(!0),setTimeout((()=>{s("/inventory/products")}),2e3)}catch(o){p((null==(n=null==(t=o.response)?void 0:t.data)?void 0:n.error)||"Failed to update product"),console.error("Error updating product:",o)}},initialData:l,onCancel:()=>s("/inventory/products")})]}):t.jsx("div",{className:"bg-[#F23557]/10 border border-[#F23557]/20 text-[#F23557] px-4 py-3 rounded-md",children:e("products.notFound")})},it=({onSubmit:e,initialData:s={},onCancel:r})=>{var a,o;const{t:i}=we(),{categories:l}=Ge(),[c,d]=n.useState({name:{en:(null==(a=s.name)?void 0:a.en)||"",ku:(null==(o=s.name)?void 0:o.ku)||""},parent:s.parent||"",image:s.image||"",active:void 0===s.active||s.active,...s}),[u,m]=n.useState({}),[h,p]=n.useState(!1),x=e=>{const{name:t,value:s,type:r,checked:a}=e.target;if(t.includes(".")){const[e,r]=t.split(".");d({...c,[e]:{...c[e],[r]:s}})}else d({...c,[t]:"checkbox"===r?a:s});u[t]&&m({...u,[t]:""})};return t.jsx("div",{className:"w-full overflow-hidden bg-gradient-to-br from-[#121212] to-[#1E1E1E] border border-[#262626] rounded-lg shadow-lg",children:t.jsx("div",{className:"relative p-6",children:t.jsxs("form",{onSubmit:async t=>{var r,a;if(t.preventDefault(),(()=>{const e={};return c.name.en.trim()||(e["name.en"]=i("validation.required")),m(e),0===Object.keys(e).length})()){p(!0);try{const t={name:{en:c.name.en,ku:c.name.ku||void 0},parent:c.parent||null,image:c.image||void 0,active:c.active};await e(t),s._id||d({name:{en:"",ku:""},parent:"",image:"",active:!0})}catch(n){console.error("Error submitting form:",n),(null==(a=null==(r=n.response)?void 0:r.data)?void 0:a.error)?m({...u,form:n.response.data.error}):m({...u,form:i("errors.generalError")})}finally{p(!1)}}},className:"space-y-6",children:[u.form&&t.jsx("div",{className:"bg-[#F23557]/10 border border-[#F23557]/20 text-[#F23557] px-4 py-3 rounded-md",children:u.form}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("h2",{className:"text-xl font-bold font-['Rajdhani',sans-serif] text-white flex items-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-[#F2B705]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M3 6h18M3 12h18M3 18h18"})}),i("categories.details")||"Category Details"]}),t.jsx("p",{className:"text-sm text-zinc-400",children:i("categories.detailsDescription")||"Enter category information below"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:"name.en",className:"block text-sm font-medium text-zinc-300",children:[i("categories.nameEn")||"Name (English)"," ",t.jsx("span",{className:"text-[#F23557]",children:"*"})]}),t.jsx("input",{type:"text",id:"name.en",name:"name.en",value:c.name.en,onChange:x,className:`w-full h-10 rounded-md border ${u["name.en"]?"border-[#F23557]":"border-[#363636]"} bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]`}),u["name.en"]&&t.jsx("p",{className:"text-[#F23557] text-xs mt-1",children:u["name.en"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"name.ku",className:"block text-sm font-medium text-zinc-300",children:i("categories.nameKu")||"Name (Kurdish)"}),t.jsx("input",{type:"text",id:"name.ku",name:"name.ku",value:c.name.ku,onChange:x,className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"parent",className:"block text-sm font-medium text-zinc-300",children:i("categories.parent")||"Parent Category"}),t.jsxs("select",{id:"parent",name:"parent",value:c.parent,onChange:x,className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]",children:[t.jsx("option",{value:"",children:i("categories.noParent")||"No Parent (Root Category)"}),l.filter((e=>!s._id||e._id!==s._id)).map((e=>t.jsx("option",{value:e._id,children:e.name.en},e._id)))]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-zinc-300",children:i("categories.image")||"Image URL"}),t.jsx("input",{type:"text",id:"image",name:"image",placeholder:"https://example.com/image.jpg",value:c.image,onChange:x,className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"active",name:"active",checked:c.active,onChange:x,className:"h-4 w-4 rounded border-[#363636] bg-[#262626] text-[#7E3FF2] focus:ring-[#7E3FF2]/20"}),t.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm font-medium text-zinc-300",children:i("categories.active")||"Active"})]}),t.jsx("p",{className:"text-xs text-zinc-400",children:i("categories.activeDescription")||"Inactive categories won't appear in selection dropdowns"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r&&t.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-[#363636] rounded-md shadow-sm text-sm font-medium text-white bg-[#262626] hover:bg-[#363636] hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#121212] focus:ring-[#7E3FF2]",children:i("common.cancel")}),t.jsx("button",{type:"button",onClick:()=>{d({name:{en:"",ku:""},parent:"",image:"",active:!0}),m({})},className:"px-4 py-2 border border-[#363636] rounded-md shadow-sm text-sm font-medium text-white bg-[#262626] hover:bg-[#363636] hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#121212] focus:ring-[#7E3FF2]",children:i("common.reset")}),t.jsxs("button",{type:"submit",disabled:h,className:"relative overflow-hidden px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-[#F2B705] to-[#F29F05] hover:from-[#F2C438] hover:to-[#F2A81F] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#121212] focus:ring-[#F2B705] disabled:opacity-70",children:[t.jsx("span",{className:"relative z-10",children:i(h?"common.submitting":"common.submit")}),t.jsx("span",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,0)_0%,rgba(255,255,255,0.1)_100%)] opacity-0 hover:opacity-100 transition-opacity duration-300"})]})]})]})})})},lt=()=>{const{t:e}=we(),s=i(),{addCategory:r}=Ge(),[a,o]=n.useState(null),[l,c]=n.useState(!1);return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:e("categories.addCategory")||"Add Category"}),t.jsxs("button",{onClick:()=>s("/inventory/products"),className:"px-4 py-2 rounded-md border border-[#363636] bg-[#262626] hover:bg-[#363636] text-white flex items-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"m15 18-6-6 6-6"})}),e("common.back")]})]}),a&&t.jsx("div",{className:"bg-[#F23557]/10 border border-[#F23557]/20 text-[#F23557] px-4 py-3 rounded-md mb-6",children:a}),l&&t.jsx("div",{className:"bg-[#36F2A3]/10 border border-[#36F2A3]/20 text-[#36F2A3] px-4 py-3 rounded-md mb-6",children:e("categories.addSuccess")||"Category added successfully!"}),t.jsx(it,{onSubmit:async e=>{var t,a;try{o(null),await r(e),c(!0),setTimeout((()=>{s("/inventory/products")}),2e3)}catch(n){o((null==(a=null==(t=n.response)?void 0:t.data)?void 0:a.error)||"Failed to add category"),console.error("Error adding category:",n)}},onCancel:()=>s("/inventory/products")})]})},ct=({onSubmit:e,initialData:s={},onCancel:r})=>{var a,o,i,l,c;const{t:d}=we(),[u,m]=n.useState({firstName:s.firstName||"",lastName:s.lastName||"",phone:s.phone||"",email:s.email||"",street:(null==(a=s.address)?void 0:a.street)||"",city:(null==(o=s.address)?void 0:o.city)||"",state:(null==(i=s.address)?void 0:i.state)||"",zipCode:(null==(l=s.address)?void 0:l.zipCode)||"",country:(null==(c=s.address)?void 0:c.country)||"Iraq",languagePreference:s.languagePreference||"en",...s}),[h,p]=n.useState({}),[x,f]=n.useState(!1),g=e=>{const{name:t,value:s}=e.target;m({...u,[t]:s}),h[t]&&p({...h,[t]:""})};return t.jsx("div",{className:"w-full overflow-hidden bg-gradient-to-br from-[#121212] to-[#1E1E1E] border border-[#262626] rounded-lg shadow-lg",children:t.jsx("div",{className:"relative p-6",children:t.jsxs("form",{onSubmit:async t=>{var r,a;if(t.preventDefault(),(()=>{const e={};return u.firstName.trim()||(e.firstName=d("validation.required")),u.lastName.trim()||(e.lastName=d("validation.required")),u.phone.trim()?/^(\+\d{1,3}[- ]?)?\d{10,14}$/.test(u.phone)||(e.phone=d("validation.invalidPhone")):e.phone=d("validation.required"),u.email&&!/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(u.email)&&(e.email=d("validation.invalidEmail")),p(e),0===Object.keys(e).length})()){f(!0);try{const t={firstName:u.firstName,lastName:u.lastName,phone:u.phone,email:u.email||void 0,address:{street:u.street||void 0,city:u.city||void 0,state:u.state||void 0,zipCode:u.zipCode||void 0,country:u.country},languagePreference:u.languagePreference};await e(t),s._id||m({firstName:"",lastName:"",phone:"",email:"",street:"",city:"",state:"",zipCode:"",country:"Iraq",languagePreference:"en"})}catch(n){console.error("Error submitting form:",n),(null==(a=null==(r=n.response)?void 0:r.data)?void 0:a.error)?p({...h,form:n.response.data.error}):p({...h,form:d("errors.generalError")})}finally{f(!1)}}},className:"space-y-6",children:[h.form&&t.jsx("div",{className:"bg-[#F23557]/10 border border-[#F23557]/20 text-[#F23557] px-4 py-3 rounded-md",children:h.form}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("h2",{className:"text-xl font-bold font-['Rajdhani',sans-serif] text-white flex items-center gap-2",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-[#7E3FF2]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),d("customers.personalInfo")||"Personal Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:"firstName",className:"block text-sm font-medium text-zinc-300",children:[d("customers.firstName")," ",t.jsx("span",{className:"text-[#F23557]",children:"*"})]}),t.jsx("input",{type:"text",id:"firstName",name:"firstName",value:u.firstName,onChange:g,className:`w-full h-10 rounded-md border ${h.firstName?"border-[#F23557]":"border-[#363636]"} bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]`}),h.firstName&&t.jsx("p",{className:"text-[#F23557] text-xs mt-1",children:h.firstName})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:"lastName",className:"block text-sm font-medium text-zinc-300",children:[d("customers.lastName")," ",t.jsx("span",{className:"text-[#F23557]",children:"*"})]}),t.jsx("input",{type:"text",id:"lastName",name:"lastName",value:u.lastName,onChange:g,className:`w-full h-10 rounded-md border ${h.lastName?"border-[#F23557]":"border-[#363636]"} bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]`}),h.lastName&&t.jsx("p",{className:"text-[#F23557] text-xs mt-1",children:h.lastName})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-zinc-300",children:[d("customers.phone")," ",t.jsx("span",{className:"text-[#F23557]",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),t.jsx("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:g,className:`w-full h-10 rounded-md border ${h.phone?"border-[#F23557]":"border-[#363636]"} bg-[#262626] text-white pl-10 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]`})]}),h.phone&&t.jsx("p",{className:"text-[#F23557] text-xs mt-1",children:h.phone})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-zinc-300",children:d("customers.email")}),t.jsxs("div",{className:"relative",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),t.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:g,className:`w-full h-10 rounded-md border ${h.email?"border-[#F23557]":"border-[#363636]"} bg-[#262626] text-white pl-10 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]`})]}),h.email&&t.jsx("p",{className:"text-[#F23557] text-xs mt-1",children:h.email})]})]})]}),t.jsx("div",{className:"border-t border-[#363636] pt-4"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("h2",{className:"text-xl font-bold font-['Rajdhani',sans-serif] text-white flex items-center gap-2",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-[#36F2A3]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),d("customers.address")]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-zinc-300",children:d("customers.street")}),t.jsx("input",{type:"text",id:"street",name:"street",value:u.street,onChange:g,className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-zinc-300",children:d("customers.city")}),t.jsxs("div",{className:"relative",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),t.jsx("input",{type:"text",id:"city",name:"city",value:u.city,onChange:g,className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white pl-10 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-zinc-300",children:d("customers.state")}),t.jsx("input",{type:"text",id:"state",name:"state",value:u.state,onChange:g,className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-zinc-300",children:d("customers.zipCode")}),t.jsx("input",{type:"text",id:"zipCode",name:"zipCode",value:u.zipCode,onChange:g,className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-zinc-300",children:d("customers.country")}),t.jsxs("div",{className:"relative",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),t.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),t.jsx("input",{type:"text",id:"country",name:"country",value:u.country,onChange:g,className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white pl-10 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"languagePreference",className:"block text-sm font-medium text-zinc-300",children:d("customers.language")}),t.jsxs("div",{className:"relative",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M2 5h7"}),t.jsx("path",{d:"M9 18h11"}),t.jsx("path",{d:"m5 11 4 7"}),t.jsx("path",{d:"m5 11-3 7"}),t.jsx("path",{d:"M15 7V5l2 2-2 2V7Z"}),t.jsx("path",{d:"M15 7h-3"})]}),t.jsxs("select",{id:"languagePreference",name:"languagePreference",value:u.languagePreference,onChange:g,className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white pl-10 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]",children:[t.jsx("option",{value:"en",children:d("language.english")}),t.jsx("option",{value:"ku",children:d("language.kurdish")})]})]})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r&&t.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-[#363636] rounded-md shadow-sm text-sm font-medium text-white bg-[#262626] hover:bg-[#363636] hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#121212] focus:ring-[#7E3FF2]",children:d("common.cancel")}),t.jsxs("button",{type:"submit",disabled:x,className:"relative overflow-hidden px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-[#7E3FF2] to-[#3D9CF2] hover:from-[#8F50FF] hover:to-[#4EADFF] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#121212] focus:ring-[#7E3FF2] disabled:opacity-70",children:[t.jsx("span",{className:"relative z-10",children:d(x?"common.submitting":"common.submit")}),t.jsx("span",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,0)_0%,rgba(255,255,255,0.1)_100%)] opacity-0 hover:opacity-100 transition-opacity duration-300"})]})]})]})})})},dt=({customers:e,onEdit:s,onDelete:r,isLoading:a,error:n})=>{const{t:o}=we();return a?t.jsxs("div",{className:"text-center py-10 text-gray-400",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#7E3FF2] mx-auto mb-4"}),t.jsx("p",{children:o("common.loading")})]}):n?t.jsx("div",{className:"bg-[#F23557]/10 border border-[#F23557]/20 text-[#F23557] px-4 py-3 rounded-md",children:t.jsx("p",{children:n})}):e&&0!==e.length?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-[#363636]",children:[t.jsx("thead",{className:"bg-[#262626]",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider",children:o("customers.name")}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider",children:o("customers.phone")}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider",children:o("customers.email")}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider",children:o("customers.loyaltyPoints")}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider",children:o("customers.totalSpent")}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-zinc-300 uppercase tracking-wider",children:o("customers.memberSince")}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-zinc-300 uppercase tracking-wider",children:o("common.actions")})]})}),t.jsx("tbody",{className:"bg-[#1A1A1A] divide-y divide-[#363636]",children:e.map((e=>t.jsxs("tr",{className:"hover:bg-[#222222]",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-medium text-white",children:[e.firstName," ",e.lastName]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-zinc-400",children:e.phone})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-zinc-400",children:e.email||"-"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-[#7E3FF2] font-medium",children:e.loyaltyPoints||0})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm text-[#36F2A3] font-medium",children:["$",e.totalSpent?e.totalSpent.toFixed(2):"0.00"]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-zinc-400",children:new Date(e.memberSince).toLocaleDateString()})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[t.jsx("button",{onClick:()=>s(e),className:"text-[#3D9CF2] hover:text-[#7E3FF2] mr-4",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 inline",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{onClick:()=>r(e._id),className:"text-[#F23557] hover:text-[#F25764]",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 inline",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 6h18"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),t.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},e._id)))})]})}):t.jsx("div",{className:"text-center py-10 text-gray-400",children:t.jsx("p",{children:o("customers.noCustomers")})})},ut=()=>{const{t:e}=we(),{customers:s,isLoading:r,error:a,addCustomer:o,updateCustomer:i,deleteCustomer:l}=Ze(),[c,d]=n.useState(!1),[u,m]=n.useState(null),[h,p]=n.useState(!1),[x,f]=n.useState(null),[g,b]=n.useState(""),y=s.filter((e=>{var t;const s=`${e.firstName} ${e.lastName}`.toLowerCase(),r=e.phone.toLowerCase(),a=(null==(t=e.email)?void 0:t.toLowerCase())||"",n=g.toLowerCase();return s.includes(n)||r.includes(n)||a.includes(n)}));return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:e("customers.customers")}),!c&&t.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 rounded-md bg-gradient-to-r from-[#7E3FF2] to-[#3D9CF2] hover:from-[#8F50FF] hover:to-[#4EADFF] text-white flex items-center gap-2",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),t.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),e("customers.addCustomer")]})]}),c&&t.jsxs("div",{className:"p-6 rounded-lg bg-secondary-bg border border-[#262626] shadow-lg mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:e(u?"customers.editCustomer":"customers.addCustomer")}),t.jsx(ct,{onSubmit:async e=>{try{u?await i(u._id,e):await o(e),d(!1),m(null)}catch(t){console.error("Error submitting form:",t)}},initialData:u||{},onCancel:()=>{d(!1),m(null)}})]}),!c&&t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:e("customers.searchPlaceholder"),className:"w-full h-10 rounded-md border border-[#363636] bg-[#262626] text-white px-10 py-2 focus:outline-none focus:ring-2 focus:ring-[#7E3FF2]/20 focus:border-[#7E3FF2]",value:g,onChange:e=>b(e.target.value)}),t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),g&&t.jsx("button",{onClick:()=>b(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M18 6 6 18"}),t.jsx("path",{d:"m6 6 12 12"})]})})]})}),t.jsx("div",{className:"card border border-[#262626] overflow-hidden rounded-lg",children:t.jsx(dt,{customers:y,onEdit:e=>{m(e),d(!0),window.scrollTo({top:0,behavior:"smooth"})},onDelete:e=>{f(e),p(!0)},isLoading:r,error:a})}),h&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-[#1A1A1A] p-6 rounded-lg border border-[#363636] shadow-xl max-w-md w-full",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:e("customers.confirmDelete")}),t.jsx("p",{className:"mb-6 text-gray-300",children:e("customers.deleteWarning")}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-[#363636] rounded-md shadow-sm text-sm font-medium text-white bg-[#262626] hover:bg-[#363636]",children:e("common.cancel")}),t.jsx("button",{onClick:async()=>{try{await l(x),p(!1),f(null)}catch(e){console.error("Error deleting customer:",e)}},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#F23557] hover:bg-[#E02447]",children:e("common.delete")})]})]})})]})},mt="/api/auth",ht=({onSubmit:e,initialData:s,onCancel:r})=>{const{t:a}=we(),[o,i]=n.useState({username:"",firstName:"",lastName:"",email:"",phone:"",password:"",role:"cashier",active:!0,languagePreference:"en"}),[l,c]=n.useState({});n.useEffect((()=>{if(s&&Object.keys(s).length>0){const{password:e,...t}=s;i(t)}}),[s]);const d=e=>{const{name:t,value:s,type:r,checked:a}=e.target;i((e=>({...e,[t]:"checkbox"===r?a:s}))),l[t]&&c((e=>({...e,[t]:""})))};return t.jsxs("form",{onSubmit:t=>{if(t.preventDefault(),(()=>{const e={};return o.username.trim()||(e.username=a("validation.required")),o.firstName.trim()||(e.firstName=a("validation.required")),o.lastName.trim()||(e.lastName=a("validation.required")),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(e.email=a("validation.invalidEmail")):e.email=a("validation.required"),s._id||o.password?!s._id&&o.password.length<6&&(e.password=a("validation.passwordLength")):e.password=a("validation.required"),o.phone&&!/^(\+\d{1,3}[- ]?)?\d{10,14}$/.test(o.phone)&&(e.phone=a("validation.invalidPhone")),c(e),0===Object.keys(e).length})())if(s._id&&!o.password){const{password:t,...s}=o;e(s)}else e(o)},children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:[a("staff.username")," *"]}),t.jsx("input",{type:"text",name:"username",value:o.username,onChange:d,className:"w-full p-2 border rounded-md bg-[#262626] text-white "+(l.username?"border-red-500":"border-[#363636]")}),l.username&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.username})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:[a("staff.role")," *"]}),t.jsxs("select",{name:"role",value:o.role,onChange:d,className:"w-full p-2 border border-[#363636] bg-[#262626] rounded-md text-white",children:[t.jsx("option",{value:"admin",children:a("staff.admin")}),t.jsx("option",{value:"manager",children:a("staff.manager")}),t.jsx("option",{value:"cashier",children:a("staff.cashier")})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:[a("staff.firstName")," *"]}),t.jsx("input",{type:"text",name:"firstName",value:o.firstName,onChange:d,className:"w-full p-2 border rounded-md bg-[#262626] text-white "+(l.firstName?"border-red-500":"border-[#363636]")}),l.firstName&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.firstName})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:[a("staff.lastName")," *"]}),t.jsx("input",{type:"text",name:"lastName",value:o.lastName,onChange:d,className:"w-full p-2 border rounded-md bg-[#262626] text-white "+(l.lastName?"border-red-500":"border-[#363636]")}),l.lastName&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.lastName})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:[a("staff.email")," *"]}),t.jsx("input",{type:"email",name:"email",value:o.email,onChange:d,className:"w-full p-2 border rounded-md bg-[#262626] text-white "+(l.email?"border-red-500":"border-[#363636]")}),l.email&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:a("staff.phone")}),t.jsx("input",{type:"text",name:"phone",value:o.phone||"",onChange:d,className:"w-full p-2 border rounded-md bg-[#262626] text-white "+(l.phone?"border-red-500":"border-[#363636]")}),l.phone&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.phone})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:[s._id?a("staff.newPassword"):a("staff.password"),!s._id&&" *"]}),t.jsx("input",{type:"password",name:"password",value:o.password||"",onChange:d,className:"w-full p-2 border rounded-md bg-[#262626] text-white "+(l.password?"border-red-500":"border-[#363636]")}),l.password&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.password}),s._id&&t.jsx("p",{className:"text-gray-400 text-xs mt-1",children:a("staff.leaveBlankPassword")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:a("staff.language")}),t.jsxs("select",{name:"languagePreference",value:o.languagePreference,onChange:d,className:"w-full p-2 border border-[#363636] bg-[#262626] rounded-md text-white",children:[t.jsx("option",{value:"en",children:a("languages.english")}),t.jsx("option",{value:"ku",children:a("languages.kurdish")})]})]}),t.jsxs("div",{className:"flex items-center mt-4",children:[t.jsx("input",{type:"checkbox",name:"active",id:"active",checked:o.active,onChange:d,className:"h-4 w-4 rounded border-[#363636] bg-[#262626] text-blue-600"}),t.jsx("label",{htmlFor:"active",className:"ml-2 text-sm text-gray-300",children:a("staff.activeAccount")})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[t.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 rounded-md border border-[#363636] bg-[#262626] hover:bg-[#363636] text-white",children:a("common.cancel")}),t.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md border border-transparent bg-[#262626] hover:bg-[#363636] text-white",children:s._id?a("common.update"):a("common.create")})]})]})},pt=6048e5,xt=Symbol.for("constructDateFrom");function ft(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&xt in e?e[xt](t):e instanceof Date?new e.constructor(t):new Date(t)}function gt(e,t){return ft(t||e,e)}function bt(e,t,s){const r=gt(e,null==s?void 0:s.in);return isNaN(t)?ft(e,NaN):t?(r.setDate(r.getDate()+t),r):r}function yt(e,t,s){const r=gt(e,null==s?void 0:s.in);if(isNaN(t))return ft(e,NaN);if(!t)return r;const a=r.getDate(),n=ft(e,r.getTime());n.setMonth(r.getMonth()+t+1,0);return a>=n.getDate()?n:(r.setFullYear(n.getFullYear(),n.getMonth(),a),r)}let vt={};function jt(){return vt}function wt(e,t){var s,r,a,n;const o=jt(),i=(null==t?void 0:t.weekStartsOn)??(null==(r=null==(s=null==t?void 0:t.locale)?void 0:s.options)?void 0:r.weekStartsOn)??o.weekStartsOn??(null==(n=null==(a=o.locale)?void 0:a.options)?void 0:n.weekStartsOn)??0,l=gt(e,null==t?void 0:t.in),c=l.getDay(),d=(c<i?7:0)+c-i;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function Nt(e,t){return wt(e,{...t,weekStartsOn:1})}function kt(e,t){const s=gt(e,null==t?void 0:t.in),r=s.getFullYear(),a=ft(s,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const n=Nt(a),o=ft(s,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Nt(o);return s.getTime()>=n.getTime()?r+1:s.getTime()>=i.getTime()?r:r-1}function Ct(e){const t=gt(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function St(e,...t){const s=ft.bind(null,t.find((e=>"object"==typeof e)));return t.map(s)}function Ft(e,t){const s=gt(e,null==t?void 0:t.in);return s.setHours(0,0,0,0),s}function Dt(e,t,s){const[r,a]=St(null==s||s.in,e,t),n=Ft(r),o=Ft(a),i=+n-Ct(n),l=+o-Ct(o);return Math.round((i-l)/864e5)}function Mt(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Et(e,t){const s=gt(e,null==t?void 0:t.in),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(23,59,59,999),s}function Pt(e,t){const{start:s,end:r}=function(e,t){const[s,r]=St(0,t.start,t.end);return{start:s,end:r}}(null==t||t.in,e);let a=+s>+r;const n=a?+s:+r,o=a?r:s;o.setHours(0,0,0,0),o.setDate(1);const i=[];for(;+o<=n;)i.push(ft(s,o)),o.setMonth(o.getMonth()+1);return a?i.reverse():i}function Lt(e,t){const s=gt(e,null==t?void 0:t.in);return s.setDate(1),s.setHours(0,0,0,0),s}function Tt(e,t){const s=gt(e,null==t?void 0:t.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function At(e,t){var s,r,a,n;const o=jt(),i=(null==t?void 0:t.weekStartsOn)??(null==(r=null==(s=null==t?void 0:t.locale)?void 0:s.options)?void 0:r.weekStartsOn)??o.weekStartsOn??(null==(n=null==(a=o.locale)?void 0:a.options)?void 0:n.weekStartsOn)??0,l=gt(e,null==t?void 0:t.in),c=l.getDay(),d=6+(c<i?-7:0)-(c-i);return l.setDate(l.getDate()+d),l.setHours(23,59,59,999),l}const zt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Ot(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const $t={date:Ot({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Ot({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Ot({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Wt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Rt(e){return(t,s)=>{let r;if("formatting"===((null==s?void 0:s.context)?String(s.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=(null==s?void 0:s.width)?String(s.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=(null==s?void 0:s.width)?String(s.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function It(e){return(t,s={})=>{const r=s.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],n=t.match(a);if(!n)return null;const o=n[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(i)?function(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s;return}(i,(e=>e.test(o))):function(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s;return}(i,(e=>e.test(o)));let c;c=e.valueCallback?e.valueCallback(l):l,c=s.valueCallback?s.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}var _t;const Bt={code:"en-US",formatDistance:(e,t,s)=>{let r;const a=zt[e];return r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),(null==s?void 0:s.addSuffix)?s.comparison&&s.comparison>0?"in "+r:r+" ago":r},formatLong:$t,formatRelative:(e,t,s,r)=>Wt[e],localize:{ordinalNumber:(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},era:Rt({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Rt({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Rt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Rt({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Rt({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(_t={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const s=e.match(_t.matchPattern);if(!s)return null;const r=s[0],a=e.match(_t.parsePattern);if(!a)return null;let n=_t.valueCallback?_t.valueCallback(a[0]):a[0];return n=t.valueCallback?t.valueCallback(n):n,{value:n,rest:e.slice(r.length)}}),era:It({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:It({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:It({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:It({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:It({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function qt(e,t){const s=gt(e,null==t?void 0:t.in),r=+Nt(s)-+function(e,t){const s=kt(e,t),r=ft(e,0);return r.setFullYear(s,0,4),r.setHours(0,0,0,0),Nt(r)}(s);return Math.round(r/pt)+1}function Ut(e,t){var s,r,a,n;const o=gt(e,null==t?void 0:t.in),i=o.getFullYear(),l=jt(),c=(null==t?void 0:t.firstWeekContainsDate)??(null==(r=null==(s=null==t?void 0:t.locale)?void 0:s.options)?void 0:r.firstWeekContainsDate)??l.firstWeekContainsDate??(null==(n=null==(a=l.locale)?void 0:a.options)?void 0:n.firstWeekContainsDate)??1,d=ft((null==t?void 0:t.in)||e,0);d.setFullYear(i+1,0,c),d.setHours(0,0,0,0);const u=wt(d,t),m=ft((null==t?void 0:t.in)||e,0);m.setFullYear(i,0,c),m.setHours(0,0,0,0);const h=wt(m,t);return+o>=+u?i+1:+o>=+h?i:i-1}function Yt(e,t){const s=gt(e,null==t?void 0:t.in),r=+wt(s,t)-+function(e,t){var s,r,a,n;const o=jt(),i=(null==t?void 0:t.firstWeekContainsDate)??(null==(r=null==(s=null==t?void 0:t.locale)?void 0:s.options)?void 0:r.firstWeekContainsDate)??o.firstWeekContainsDate??(null==(n=null==(a=o.locale)?void 0:a.options)?void 0:n.firstWeekContainsDate)??1,l=Ut(e,t),c=ft((null==t?void 0:t.in)||e,0);return c.setFullYear(l,0,i),c.setHours(0,0,0,0),wt(c,t)}(s,t);return Math.round(r/pt)+1}function Vt(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Ht={y(e,t){const s=e.getFullYear(),r=s>0?s:1-s;return Vt("yy"===t?r%100:r,t.length)},M(e,t){const s=e.getMonth();return"M"===t?String(s+1):Vt(s+1,2)},d:(e,t)=>Vt(e.getDate(),t.length),a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];default:return"am"===s?"a.m.":"p.m."}},h:(e,t)=>Vt(e.getHours()%12||12,t.length),H:(e,t)=>Vt(e.getHours(),t.length),m:(e,t)=>Vt(e.getMinutes(),t.length),s:(e,t)=>Vt(e.getSeconds(),t.length),S(e,t){const s=t.length,r=e.getMilliseconds();return Vt(Math.trunc(r*Math.pow(10,s-3)),t.length)}},Gt="midnight",Qt="noon",Zt="morning",Kt="afternoon",Xt="evening",Jt="night",es={G:function(e,t,s){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});default:return s.era(r,{width:"wide"})}},y:function(e,t,s){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return s.ordinalNumber(r,{unit:"year"})}return Ht.y(e,t)},Y:function(e,t,s,r){const a=Ut(e,r),n=a>0?a:1-a;if("YY"===t){return Vt(n%100,2)}return"Yo"===t?s.ordinalNumber(n,{unit:"year"}):Vt(n,t.length)},R:function(e,t){return Vt(kt(e),t.length)},u:function(e,t){return Vt(e.getFullYear(),t.length)},Q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Vt(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Vt(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,s){const r=e.getMonth();switch(t){case"M":case"MM":return Ht.M(e,t);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,s){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Vt(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,s,r){const a=Yt(e,r);return"wo"===t?s.ordinalNumber(a,{unit:"week"}):Vt(a,t.length)},I:function(e,t,s){const r=qt(e);return"Io"===t?s.ordinalNumber(r,{unit:"week"}):Vt(r,t.length)},d:function(e,t,s){return"do"===t?s.ordinalNumber(e.getDate(),{unit:"date"}):Ht.d(e,t)},D:function(e,t,s){const r=function(e,t){const s=gt(e,null==t?void 0:t.in);return Dt(s,Tt(s))+1}(e);return"Do"===t?s.ordinalNumber(r,{unit:"dayOfYear"}):Vt(r,t.length)},E:function(e,t,s){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,s,r){const a=e.getDay(),n=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(n);case"ee":return Vt(n,2);case"eo":return s.ordinalNumber(n,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,s,r){const a=e.getDay(),n=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(n);case"cc":return Vt(n,t.length);case"co":return s.ordinalNumber(n,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,s){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Vt(a,t.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,s){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,s){const r=e.getHours();let a;switch(a=12===r?Qt:0===r?Gt:r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,s){const r=e.getHours();let a;switch(a=r>=17?Xt:r>=12?Kt:r>=4?Zt:Jt,t){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,s){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),s.ordinalNumber(t,{unit:"hour"})}return Ht.h(e,t)},H:function(e,t,s){return"Ho"===t?s.ordinalNumber(e.getHours(),{unit:"hour"}):Ht.H(e,t)},K:function(e,t,s){const r=e.getHours()%12;return"Ko"===t?s.ordinalNumber(r,{unit:"hour"}):Vt(r,t.length)},k:function(e,t,s){let r=e.getHours();return 0===r&&(r=24),"ko"===t?s.ordinalNumber(r,{unit:"hour"}):Vt(r,t.length)},m:function(e,t,s){return"mo"===t?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ht.m(e,t)},s:function(e,t,s){return"so"===t?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Ht.s(e,t)},S:function(e,t){return Ht.S(e,t)},X:function(e,t,s){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return ss(r);case"XXXX":case"XX":return rs(r);default:return rs(r,":")}},x:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"x":return ss(r);case"xxxx":case"xx":return rs(r);default:return rs(r,":")}},O:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ts(r,":");default:return"GMT"+rs(r,":")}},z:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ts(r,":");default:return"GMT"+rs(r,":")}},t:function(e,t,s){return Vt(Math.trunc(+e/1e3),t.length)},T:function(e,t,s){return Vt(+e,t.length)}};function ts(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),n=r%60;return 0===n?s+String(a):s+String(a)+t+Vt(n,2)}function ss(e,t){if(e%60==0){return(e>0?"-":"+")+Vt(Math.abs(e)/60,2)}return rs(e,t)}function rs(e,t=""){const s=e>0?"-":"+",r=Math.abs(e);return s+Vt(Math.trunc(r/60),2)+t+Vt(r%60,2)}const as=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},ns=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},os={p:ns,P:(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],r=s[1],a=s[2];if(!a)return as(e,t);let n;switch(r){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",as(r,t)).replace("{{time}}",ns(a,t))}},is=/^D+$/,ls=/^Y+$/,cs=["D","DD","YY","YYYY"];const ds=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,us=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ms=/^'([^]*?)'?$/,hs=/''/g,ps=/[a-zA-Z]/;function xs(e,t,s){var r,a,n,o,i,l,c,d;const u=jt(),m=(null==s?void 0:s.locale)??u.locale??Bt,h=(null==s?void 0:s.firstWeekContainsDate)??(null==(a=null==(r=null==s?void 0:s.locale)?void 0:r.options)?void 0:a.firstWeekContainsDate)??u.firstWeekContainsDate??(null==(o=null==(n=u.locale)?void 0:n.options)?void 0:o.firstWeekContainsDate)??1,p=(null==s?void 0:s.weekStartsOn)??(null==(l=null==(i=null==s?void 0:s.locale)?void 0:i.options)?void 0:l.weekStartsOn)??u.weekStartsOn??(null==(d=null==(c=u.locale)?void 0:c.options)?void 0:d.weekStartsOn)??0,x=gt(e,null==s?void 0:s.in);if(!function(e){return!(!Mt(e)&&"number"!=typeof e||isNaN(+gt(e)))}(x))throw new RangeError("Invalid time value");let f=t.match(us).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,os[t])(e,m.formatLong)}return e})).join("").match(ds).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:fs(e)};if(es[t])return{isToken:!0,value:e};if(t.match(ps))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));m.localize.preprocessor&&(f=m.localize.preprocessor(x,f));const g={firstWeekContainsDate:h,weekStartsOn:p,locale:m};return f.map((r=>{if(!r.isToken)return r.value;const a=r.value;(!(null==s?void 0:s.useAdditionalWeekYearTokens)&&function(e){return ls.test(e)}(a)||!(null==s?void 0:s.useAdditionalDayOfYearTokens)&&function(e){return is.test(e)}(a))&&function(e,t,s){const r=function(e,t,s){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,s);if(console.warn(r),cs.includes(e))throw new RangeError(r)}(a,t,String(e));return(0,es[a[0]])(x,a,m.localize,g)})).join("")}function fs(e){const t=e.match(ms);return t?t[1].replace(hs,"'"):e}function gs(e,t,s){return bt(e,-t,s)}function bs(e,t,s){const r=gt(e,null==s?void 0:s.in),a=r.getFullYear(),n=r.getDate(),o=ft(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const i=function(e,t){const s=gt(e,null==t?void 0:t.in),r=s.getFullYear(),a=s.getMonth(),n=ft(s,0);return n.setFullYear(r,a+1,0),n.setHours(0,0,0,0),n.getDate()}(o);return r.setMonth(t,Math.min(n,i)),r}const ys=({users:e,onEdit:s,onDelete:r,onResetPassword:a,isLoading:n,error:o})=>{const{t:i}=we();if(n)return t.jsx("div",{className:"p-6 text-center text-gray-300",children:t.jsx("p",{children:i("common.loading")})});if(o)return t.jsx("div",{className:"p-6 text-center text-red-500",children:t.jsx("p",{children:o})});if(0===e.length)return t.jsx("div",{className:"p-6 text-center text-gray-400",children:t.jsx("p",{children:i("staff.noUsersFound")})});const l=e=>{switch(e){case"admin":return"bg-red-900 text-red-200";case"manager":return"bg-blue-900 text-blue-200";case"cashier":return"bg-green-900 text-green-200";default:return"bg-gray-900 text-gray-200"}};return t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-[#333333]",children:[t.jsx("thead",{className:"bg-[#222222]",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:i("staff.name")}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:i("staff.contact")}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:i("staff.role")}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:i("staff.status")}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:i("staff.lastLogin")}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:i("common.actions")})]})}),t.jsx("tbody",{className:"bg-[#1e1e1e] divide-y divide-[#333333]",children:e.map((e=>t.jsxs("tr",{className:"hover:bg-[#292929]",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-medium text-white",children:[e.firstName," ",e.lastName]}),t.jsx("div",{className:"text-sm text-gray-400",children:e.username})]})})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-white",children:e.email}),t.jsx("div",{className:"text-sm text-gray-400",children:e.phone})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${l(e.role)}`,children:i(`staff.${e.role}`)})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(e.active?"bg-green-900 text-green-200":"bg-red-900 text-red-200"),children:e.active?i("staff.active"):i("staff.inactive")})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:e.lastLogin?xs(new Date(e.lastLogin),"PPp"):i("staff.never")}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[t.jsx("button",{onClick:()=>s(e),className:"text-blue-400 hover:text-blue-300 mr-3",children:i("common.edit")}),t.jsx("button",{onClick:()=>a(e._id),className:"text-yellow-400 hover:text-yellow-300 mr-3",children:i("staff.resetPwd")}),t.jsx("button",{onClick:()=>r(e._id),className:"text-red-400 hover:text-red-300",children:i("common.delete")})]})]},e._id)))})]})})},vs=()=>{const{t:s}=we(),{users:r,isLoading:a,error:o,pagination:i,fetchUsers:l,addUser:c,updateUser:d,deleteUser:u,resetPassword:m}=(()=>{const[t,s]=n.useState([]),[r,a]=n.useState(!1),[o,i]=n.useState(null),[l,c]=n.useState({total:0,page:1,limit:10,pages:0}),d=n.useCallback((async(t={})=>{var r,n;a(!0),i(null);try{const r=await e.get(`${mt}/users`,{params:t});return s(r.data.data),c(r.data.pagination),r.data}catch(o){const e=(null==(n=null==(r=o.response)?void 0:r.data)?void 0:n.message)||"Failed to fetch users";throw i(e),console.error("Error fetching users:",o),new Error(e)}finally{a(!1)}}),[]);return n.useEffect((()=>{d()}),[d]),{users:t,isLoading:r,error:o,pagination:l,fetchUsers:d,getUser:async t=>{var s,r;a(!0),i(null);try{return(await e.get(`${mt}/users/${t}`)).data.data}catch(n){const e=(null==(r=null==(s=n.response)?void 0:s.data)?void 0:r.message)||"Failed to get user";throw i(e),console.error("Error getting user:",n),new Error(e)}finally{a(!1)}},addUser:async t=>{var r,n;a(!0),i(null);try{const r=await e.post(`${mt}/register`,t);return s((e=>[...e,r.data.data])),r.data.data}catch(o){const e=(null==(n=null==(r=o.response)?void 0:r.data)?void 0:n.message)||"Failed to add user";throw i(e),console.error("Error adding user:",o),new Error(e)}finally{a(!1)}},updateUser:async(t,r)=>{var n,o;a(!0),i(null);try{const a=await e.put(`${mt}/users/${t}`,r);return s((e=>e.map((e=>e._id===t?a.data.data:e)))),a.data.data}catch(l){const e=(null==(o=null==(n=l.response)?void 0:n.data)?void 0:o.message)||"Failed to update user";throw i(e),console.error("Error updating user:",l),new Error(e)}finally{a(!1)}},deleteUser:async t=>{var r,n;a(!0),i(null);try{await e.delete(`${mt}/users/${t}`),s((e=>e.filter((e=>e._id!==t))))}catch(o){const e=(null==(n=null==(r=o.response)?void 0:r.data)?void 0:n.message)||"Failed to delete user";throw i(e),console.error("Error deleting user:",o),new Error(e)}finally{a(!1)}},resetPassword:async(t,s)=>{var r,n;a(!0),i(null);try{return(await e.put(`${mt}/users/${t}/reset-password`,{newPassword:s})).data}catch(o){const e=(null==(n=null==(r=o.response)?void 0:r.data)?void 0:n.message)||"Failed to reset password";throw i(e),console.error("Error resetting password:",o),new Error(e)}finally{a(!1)}}}})(),[h,p]=n.useState(!1),[x,f]=n.useState(null),[g,b]=n.useState(!1),[y,v]=n.useState(null),[j,w]=n.useState(!1),[N,k]=n.useState(null),[C,S]=n.useState(""),[F,D]=n.useState(""),[M,E]=n.useState(""),[P,L]=n.useState(""),[T,A]=n.useState(1);return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:s("navigation.staff")}),!h&&t.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-2 rounded-md border border-[#363636] bg-[#262626] hover:bg-[#363636] text-white flex items-center gap-2",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),s("staff.addUser")]})]}),h&&t.jsxs("div",{className:"card bg-[#1e1e1e] p-6 rounded-md shadow-md mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:s(x?"staff.editUser":"staff.addUser")}),t.jsx(ht,{onSubmit:async e=>{try{x?await d(x._id,e):await c(e),p(!1),f(null)}catch(t){console.error("Error submitting form:",t)}},initialData:x||{},onCancel:()=>{p(!1),f(null)}})]}),!h&&t.jsx("div",{className:"card bg-[#1e1e1e] p-4 rounded-md shadow-md mb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"text",placeholder:s("staff.searchPlaceholder"),className:"w-full p-2 border border-[#363636] bg-[#262626] rounded-md text-white",value:F,onChange:e=>D(e.target.value)})}),t.jsx("div",{className:"md:w-1/4",children:t.jsxs("select",{className:"w-full p-2 border border-[#363636] bg-[#262626] rounded-md text-white",value:M,onChange:e=>E(e.target.value),children:[t.jsx("option",{value:"",children:s("staff.allRoles")}),t.jsx("option",{value:"admin",children:s("staff.admin")}),t.jsx("option",{value:"manager",children:s("staff.manager")}),t.jsx("option",{value:"cashier",children:s("staff.cashier")})]})}),t.jsx("div",{className:"md:w-1/4",children:t.jsxs("select",{className:"w-full p-2 border border-[#363636] bg-[#262626] rounded-md text-white",value:P,onChange:e=>L(e.target.value),children:[t.jsx("option",{value:"",children:s("staff.allStatus")}),t.jsx("option",{value:"true",children:s("staff.active")}),t.jsx("option",{value:"false",children:s("staff.inactive")})]})}),t.jsx("div",{children:t.jsx("button",{onClick:()=>{const e={page:T,search:F,...M&&{role:M},...""!==P&&{active:"true"===P}};l(e)},className:"w-full md:w-auto px-4 py-2 rounded-md border border-[#363636] bg-[#262626] hover:bg-[#363636] text-white",children:s("common.search")})})]})}),t.jsxs("div",{className:"card bg-[#1e1e1e] rounded-md shadow-md",children:[t.jsx(ys,{users:r,onEdit:e=>{f(e),p(!0),window.scrollTo({top:0,behavior:"smooth"})},onDelete:e=>{v(e),b(!0)},onResetPassword:e=>{k(e),S(""),w(!0)},isLoading:a,error:o}),i.pages>1&&t.jsx("div",{className:"flex justify-center p-4",children:t.jsx("nav",{className:"flex space-x-1",children:[...Array(i.pages).keys()].map((e=>t.jsx("button",{onClick:()=>(e=>{A(e),l({page:e,search:F,...M&&{role:M},...""!==P&&{active:"true"===P}})})(e+1),className:"px-4 py-2 rounded-md "+(T===e+1?"bg-[#363636] text-white":"bg-[#262626] text-gray-300 hover:bg-[#2e2e2e]"),children:e+1},e+1)))})})]}),g&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-[#1e1e1e] p-6 rounded-md shadow-lg max-w-md w-full",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:s("staff.confirmDelete")}),t.jsx("p",{className:"mb-6 text-gray-300",children:s("staff.deleteWarning")}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 rounded-md border border-[#363636] bg-[#262626] hover:bg-[#363636] text-white",children:s("common.cancel")}),t.jsx("button",{onClick:async()=>{try{await u(y),b(!1),v(null)}catch(e){console.error("Error deleting user:",e)}},className:"px-4 py-2 rounded-md border border-transparent bg-red-600 hover:bg-red-700 text-white",children:s("common.delete")})]})]})}),j&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-[#1e1e1e] p-6 rounded-md shadow-lg max-w-md w-full",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:s("staff.resetPassword")}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:s("staff.newPassword")}),t.jsx("input",{type:"password",className:"w-full p-2 border border-[#363636] bg-[#262626] rounded-md text-white",value:C,onChange:e=>S(e.target.value),minLength:6})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 rounded-md border border-[#363636] bg-[#262626] hover:bg-[#363636] text-white",children:s("common.cancel")}),t.jsx("button",{onClick:async()=>{try{await m(N,C),w(!1),k(null),S("")}catch(e){console.error("Error resetting password:",e)}},disabled:C.length<6,className:"px-4 py-2 rounded-md border border-transparent text-white "+(C.length<6?"bg-gray-600 cursor-not-allowed":"bg-yellow-600 hover:bg-yellow-700"),children:s("common.confirm")})]})]})})]})},js=({title:e,description:s,children:r,onExportPDF:a,onExportCSV:n,loading:o=!1,error:i=null})=>{const{t:l}=we();return t.jsxs("div",{className:"bg-base-100 rounded-lg",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-base-300 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:e}),s&&t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s})]}),t.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[t.jsxs("button",{onClick:a,disabled:o,className:"btn btn-outline btn-sm px-3 py-2 flex items-center gap-2 transition-all hover:bg-primary/10",title:l("reports.exportPDF"),children:[t.jsx(ne,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:l("reports.pdf")})]}),t.jsxs("button",{onClick:n,disabled:o,className:"btn btn-outline btn-sm px-3 py-2 flex items-center gap-2 transition-all hover:bg-primary/10",title:l("reports.exportCSV"),children:[t.jsx(oe,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:l("reports.csv")})]})]})]}),t.jsx("div",{className:"p-6",children:o?t.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-primary",children:[t.jsx(ie,{className:"h-12 w-12 animate-spin opacity-70"}),t.jsx("p",{className:"mt-4 text-base-content/70 font-medium",children:l("common.loading")})]}):i?t.jsxs("div",{className:"bg-error/10 border border-error/20 text-error p-4 rounded-lg flex items-center",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{children:i})]}):r})]})};le.register(...ce);const ws=({type:e="bar",data:s={labels:[],datasets:[]},options:r={},height:a=300,width:o=null})=>{const i=n.useRef(null),l=n.useRef(null),{t:c}=we();return n.useEffect((()=>{const t=["rgba(99, 102, 241, 0.7)","rgba(16, 185, 129, 0.7)","rgba(245, 158, 11, 0.7)","rgba(239, 68, 68, 0.7)","rgba(59, 130, 246, 0.7)","rgba(236, 72, 153, 0.7)","rgba(139, 92, 246, 0.7)","rgba(20, 184, 166, 0.7)"],a="'Inter', -apple-system, BlinkMacSystemFont, system-ui, sans-serif",n={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",align:"start",labels:{color:"#374151",usePointStyle:!0,padding:15,boxWidth:8,boxHeight:8,font:{family:a,weight:500,size:12}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#4b5563",borderColor:"rgba(229, 231, 235, 1)",borderWidth:1,padding:10,boxPadding:4,cornerRadius:8,bodyFont:{family:a,size:12},titleFont:{family:a,size:13,weight:600},boxWidth:8,boxHeight:8,usePointStyle:!0}},scales:{x:{ticks:{color:"#6b7280",font:{family:a,size:11},padding:5},grid:{display:!1,drawBorder:!1},border:{display:!1}},y:{ticks:{color:"#6b7280",font:{family:a,size:11},padding:8,maxTicksLimit:6},grid:{color:"rgba(243, 244, 246, 0.8)",drawBorder:!1,borderDash:[2,4],lineWidth:1},border:{display:!1}}},elements:{line:{tension:.3},point:{radius:3,hoverRadius:5},bar:{borderRadius:4}},layout:{padding:{top:10,bottom:10}}},o={...s,datasets:s.datasets.map(((s,r)=>({...s,backgroundColor:s.backgroundColor||t[r%t.length],borderColor:s.borderColor||("line"===e?t[r%t.length].replace("0.7","1"):"transparent"),borderWidth:s.borderWidth||("line"===e?2:0),hoverBackgroundColor:t[r%t.length].replace("0.7","0.8")})))},c={...n,...r,plugins:{...n.plugins,...r.plugins||{}},scales:{...n.scales,...r.scales||{}}};return l.current&&l.current.destroy(),i.current&&(l.current=new le(i.current,{type:e,data:o,options:c})),()=>{l.current&&l.current.destroy()}}),[e,s,r,c]),t.jsx("div",{className:"bg-white p-4 rounded-lg border border-base-200",style:{height:`${a}px`,width:o?`${o}px`:"100%"},children:t.jsx("canvas",{ref:i})})},Ns=({columns:e,data:s,pagination:r=!0,itemsPerPage:a=10})=>{const{t:o}=we(),[i,l]=n.useState(1),[c,d]=n.useState({key:null,direction:"asc"}),u=r?Math.ceil(s.length/a):1,m=[...r?s.slice((i-1)*a,i*a):s].sort(((e,t)=>{if(!c.key)return 0;const s=e[c.key],r=t[c.key];return s<r?"asc"===c.direction?-1:1:s>r?"asc"===c.direction?1:-1:0})),h=e=>{l(e)};return 0===s.length?t.jsxs("div",{className:"bg-base-200/50 p-8 rounded-lg text-center",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"bg-base-200 p-4 rounded-full",children:t.jsx(oe,{className:"h-8 w-8 text-muted-foreground"})})}),t.jsx("h3",{className:"mt-4 text-base font-medium",children:o("common.noDataAvailable")}),t.jsx("p",{className:"mt-1 text-sm text-muted-foreground max-w-md mx-auto",children:o("common.noDataDescription")})]}):t.jsxs("div",{className:"rounded-md border border-base-300 bg-white",children:[t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsxs("table",{className:"w-full caption-bottom text-sm",children:[t.jsx("thead",{className:"border-b border-base-300 bg-base-50",children:t.jsx("tr",{children:e.map((e=>t.jsx("th",{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground "+(e.sortable?"cursor-pointer hover:text-primary":""),onClick:e.sortable?()=>(e=>{let t="asc";c.key===e&&"asc"===c.direction&&(t="desc"),d({key:e,direction:t})})(e.key):void 0,children:t.jsxs("div",{className:"flex items-center gap-1",children:[e.label,e.sortable&&t.jsx("div",{className:"ml-1",children:c.key===e.key?"asc"===c.direction?t.jsx(de,{className:"h-3 w-3 text-primary"}):t.jsx(ue,{className:"h-3 w-3 text-primary"}):t.jsx("div",{className:"h-3 w-3 text-transparent",children:"•"})})]})},e.key)))})}),t.jsx("tbody",{children:m.map(((s,r)=>t.jsx("tr",{className:"border-b border-base-200 transition-colors hover:bg-base-50",children:e.map((e=>t.jsx("td",{className:"p-4",children:e.render?e.render(s):s[e.key]},`${r}-${e.key}`)))},r)))})]})}),(()=>{if(!r||u<=1)return null;const e=[];let n=Math.max(1,i-1),l=Math.min(u,n+2);l-n<2&&(n=Math.max(1,l-2)),e.push(t.jsx("button",{className:"join-item btn btn-sm btn-outline border-base-300",disabled:1===i,onClick:()=>h(i-1),"aria-label":"Previous page",children:t.jsx(k,{className:"h-4 w-4"})},"prev")),n>1&&(e.push(t.jsx("button",{className:"join-item btn btn-sm btn-outline border-base-300",onClick:()=>h(1),children:"1"},1)),n>2&&e.push(t.jsx("button",{className:"join-item btn btn-sm btn-outline border-base-300",disabled:!0,children:"..."},"start-ellipsis")));for(let s=n;s<=l;s++)e.push(t.jsx("button",{className:"join-item btn btn-sm "+(i===s?"btn-primary text-white":"btn-outline border-base-300"),onClick:()=>h(s),children:s},s));return l<u&&(l<u-1&&e.push(t.jsx("button",{className:"join-item btn btn-sm btn-outline border-base-300",disabled:!0,children:"..."},"end-ellipsis")),e.push(t.jsx("button",{className:"join-item btn btn-sm btn-outline border-base-300",onClick:()=>h(u),children:u},u))),e.push(t.jsx("button",{className:"join-item btn btn-sm btn-outline border-base-300",disabled:i===u,onClick:()=>h(i+1),"aria-label":"Next page",children:t.jsx(N,{className:"h-4 w-4"})},"next")),t.jsxs("div",{className:"flex items-center justify-between mt-4 px-2",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:[o("common.showing")," ",(i-1)*a+1,"-",Math.min(i*a,s.length)," ",o("common.of")," ",s.length]}),t.jsx("div",{className:"join",children:e})]})})()]})},ks=()=>{const[t,s]=n.useState(null),[r,a]=n.useState(null),[o,i]=n.useState(null),[l,c]=n.useState(null),[d,u]=n.useState(!1),[m,h]=n.useState(null),p=n.useRef({sales:{},inventory:{},staff:{},customers:{}}),x=n.useCallback((()=>{s(null),a(null),i(null),c(null),u(!1),h(null)}),[]),f=e=>`${e.startDate||""}_${e.endDate||""}`;return{salesData:t,inventoryData:r,staffData:o,customerData:l,loading:d,error:m,clearAllReportData:x,fetchSalesReport:n.useCallback((async(t={})=>{var r,a;h(null),u(!0);const n=f(t);if(p.current.sales[n]){const{data:e,timestamp:t}=p.current.sales[n];if(t>Date.now()-3e5)return s(e),u(!1),void console.log("[SalesReport] Using cached data:",e)}try{const r=await e.get("/api/reports/sales",{params:t});if(console.log("[SalesReport] API response:",r),r.data.success){const e=r.data.data;s(e),p.current.sales[n]={data:e,timestamp:Date.now()}}else h(r.data.message||"Failed to fetch sales report"),s(null),console.error("[SalesReport] API error:",r.data.message)}catch(o){h((null==(a=null==(r=o.response)?void 0:r.data)?void 0:a.message)||"An error occurred while fetching sales report"),s(null),console.error("[SalesReport] Exception:",o)}finally{u(!1)}}),[]),fetchInventoryReport:n.useCallback((async(t={})=>{var s,r;h(null),u(!0);const n=f(t);if(p.current.inventory[n]){const{data:e,timestamp:t}=p.current.inventory[n];if(t>Date.now()-3e5)return a(e),u(!1),void console.log("[InventoryReport] Using cached data:",e)}try{const s=await e.get("/api/reports/inventory",{params:t});if(console.log("[InventoryReport] API response:",s),s.data.success){const e=s.data.data;a(e),p.current.inventory[n]={data:e,timestamp:Date.now()}}else h(s.data.message||"Failed to fetch inventory report"),a(null),console.error("[InventoryReport] API error:",s.data.message)}catch(o){h((null==(r=null==(s=o.response)?void 0:s.data)?void 0:r.message)||"An error occurred while fetching inventory report"),a(null),console.error("[InventoryReport] Exception:",o)}finally{u(!1)}}),[]),fetchStaffReport:n.useCallback((async(t={})=>{var s,r;h(null),u(!0);const a=f(t);if(p.current.staff[a]){const{data:e,timestamp:t}=p.current.staff[a];if(t>Date.now()-3e5)return i(e),u(!1),void console.log("[StaffReport] Using cached data:",e)}try{const s=await e.get("/api/reports/staff",{params:t});if(console.log("[StaffReport] API response:",s),s.data.success){const e=s.data.data;i(e),p.current.staff[a]={data:e,timestamp:Date.now()}}else h(s.data.message||"Failed to fetch staff report"),i(null),console.error("[StaffReport] API error:",s.data.message)}catch(n){h((null==(r=null==(s=n.response)?void 0:s.data)?void 0:r.message)||"An error occurred while fetching staff report"),i(null),console.error("[StaffReport] Exception:",n)}finally{u(!1)}}),[]),fetchCustomerReport:n.useCallback((async(t={})=>{var s,r;h(null),u(!0);const a=f(t);if(p.current.customers[a]){const{data:e,timestamp:t}=p.current.customers[a];if(t>Date.now()-3e5)return c(e),u(!1),void console.log("[CustomerReport] Using cached data:",e)}try{const s=await e.get("/api/reports/customers",{params:t});if(console.log("[CustomerReport] API response:",s),s.data.success){const e=s.data.data;c(e),p.current.customers[a]={data:e,timestamp:Date.now()}}else h(s.data.message||"Failed to fetch customer report"),c(null),console.error("[CustomerReport] API error:",s.data.message)}catch(n){h((null==(r=null==(s=n.response)?void 0:s.data)?void 0:r.message)||"An error occurred while fetching customer report"),c(null),console.error("[CustomerReport] Exception:",n)}finally{u(!1)}}),[]),exportReportToPDF:n.useCallback((async(t,s={})=>{var r,a;u(!0),h(null);try{const r=await e.get(`/api/reports/${t}/export/pdf`,{params:s,responseType:"blob"}),a=window.URL.createObjectURL(new Blob([r.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",`${t}-report.pdf`),document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(n){h((null==(a=null==(r=n.response)?void 0:r.data)?void 0:a.message)||"An error occurred while exporting the report")}finally{u(!1)}}),[]),exportReportToCSV:n.useCallback((async(t,s={})=>{var r,a;u(!0),h(null);try{const r=await e.get(`/api/reports/${t}/export/csv`,{params:s,responseType:"blob"}),a=window.URL.createObjectURL(new Blob([r.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",`${t}-report.csv`),document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(n){h((null==(a=null==(r=n.response)?void 0:r.data)?void 0:a.message)||"An error occurred while exporting the report")}finally{u(!1)}}),[])}},Cs=({dateRange:e})=>{const{t:s}=we(),{salesData:r,loading:a,error:o,fetchSalesReport:i,exportReportToPDF:l,exportReportToCSV:c}=ks(),[d,u]=n.useState({labels:[],datasets:[]}),[m,h]=n.useState([]),p=n.useRef(null);n.useEffect((()=>{const t=p.current;(!t||t.startDate!==e.startDate||t.endDate!==e.endDate)&&(i(e),p.current={...e})}),[e,i]),n.useEffect((()=>{console.log("SalesData changed:",r);let e=!0;return(()=>{if(e&&r)try{if(console.log("Processing sales data:",{hasSalesData:Boolean(r),hasSalesByDate:Boolean(r.salesByDate),hasTopProducts:Boolean(r.topProducts),hasSummary:Boolean(r.summary)}),Array.isArray(r.salesByDate)&&r.salesByDate.length>0){console.log("Sales by date:",r.salesByDate);const e=r.salesByDate.map((e=>e.date)),t=r.salesByDate.map((e=>e.total));u({labels:e,datasets:[{label:s("reports.sales.totalSales"),data:t,borderColor:"rgba(126, 63, 242, 1)",backgroundColor:"rgba(126, 63, 242, 0.1)",tension:.4,fill:!0}]})}else u({labels:[],datasets:[]});Array.isArray(r.topProducts)&&r.topProducts.length>0?(console.log("Top products:",r.topProducts.slice(0,2)),h(r.topProducts.map((e=>{var t;return{productName:(null==(t=e.name)?void 0:t.en)||e.name,sku:e.sku,quantity:e.quantity,revenue:e.revenue,profit:e.profit}})))):h([])}catch(t){console.error("Error processing sales data:",t),u({labels:[],datasets:[]}),h([])}else e&&(console.log("No sales data, clearing states"),u({labels:[],datasets:[]}),h([]))})(),()=>{console.log("SalesReport useEffect cleanup"),e=!1}}),[r,s]);const x=[{key:"productName",label:s("reports.sales.productName"),sortable:!0},{key:"sku",label:"SKU",sortable:!0},{key:"quantity",label:s("reports.sales.quantity"),sortable:!0,render:e=>null!=e.quantity?e.quantity.toLocaleString():"0"},{key:"revenue",label:s("reports.sales.revenue"),sortable:!0,render:e=>`$${null!=e.revenue?e.revenue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}`},{key:"profit",label:s("reports.sales.profit"),sortable:!0,render:e=>`$${null!=e.profit?e.profit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}`}];return t.jsx(t.Fragment,{children:t.jsx(js,{title:s("reports.sales.title"),description:s("reports.sales.description"),onExportPDF:()=>{l("sales",e)},onExportCSV:()=>{c("sales",e)},loading:a,error:o,children:r&&t.jsxs("div",{children:[(()=>{if(!r||!r.summary)return null;const{totalSales:e,totalTransactions:a,averageOrderValue:n,grossProfit:o}=r.summary;return t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"card bg-accent/10 p-4 rounded-lg",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.sales.totalSales")}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",null!=e?e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"]})]}),t.jsxs("div",{className:"card bg-success/10 p-4 rounded-lg",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.sales.totalTransactions")}),t.jsx("p",{className:"text-2xl font-bold",children:null!=a?a.toLocaleString():"0"})]}),t.jsxs("div",{className:"card bg-warning/10 p-4 rounded-lg",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.sales.averageOrderValue")}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",null!=n?n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"]})]}),t.jsxs("div",{className:"card bg-info/10 p-4 rounded-lg",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.sales.grossProfit")}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",null!=o?o.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"]})]})]})})(),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-medium mb-4",children:s("reports.sales.salesOverTime")}),t.jsx(ws,{type:"line",data:d,height:300})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-4",children:s("reports.sales.topProducts")}),t.jsx(Ns,{columns:x,data:m,pagination:!0,itemsPerPage:10})]})]})})})},Ss=({dateRange:e})=>{const{t:s}=we(),{inventoryData:r,loading:a,error:o,fetchInventoryReport:i,exportReportToPDF:l,exportReportToCSV:c}=ks(),[d,u]=n.useState({labels:[],datasets:[]}),[m,h]=n.useState([]),[p,x]=n.useState([]),f=n.useRef(null);n.useEffect((()=>{const t=f.current;(!t||t.startDate!==e.startDate||t.endDate!==e.endDate)&&(i(e),f.current={...e})}),[e,i]),n.useEffect((()=>{console.log("InventoryData changed:",r);let e=!0;return(()=>{if(e&&r)try{if(console.log("Processing inventory data:",{hasInventoryData:Boolean(r),hasCategoryInventory:Boolean(r.categoryInventory),hasProducts:Boolean(r.products),hasLowStockItems:Boolean(r.lowStockItems),summary:r.summary}),Array.isArray(r.categoryInventory)&&r.categoryInventory.length>0){console.log("Category inventory:",r.categoryInventory);const e=r.categoryInventory.map((e=>e.categoryName&&"object"==typeof e.categoryName?e.categoryName.en||Object.values(e.categoryName)[0]||s("common.uncategorized"):e.categoryName||s("common.uncategorized"))),t=r.categoryInventory.map((e=>e.productCount));u({labels:e,datasets:[{label:s("reports.inventory.productCount"),data:t,backgroundColor:["rgba(126, 63, 242, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)"],borderWidth:1}]})}else u({labels:[],datasets:[]});Array.isArray(r.products)&&r.products.length>0?(console.log("Products data:",r.products.slice(0,2)),h(r.products.map((e=>{var t,r,a,n,o;return{name:(null==(t=e.name)?void 0:t.en)||("object"==typeof e.name?Object.values(e.name)[0]:e.name),sku:e.sku,category:(null==(a=null==(r=e.category)?void 0:r.name)?void 0:a.en)||((null==(n=e.category)?void 0:n.name)&&"object"==typeof e.category.name?Object.values(e.category.name)[0]:null==(o=e.category)?void 0:o.name)||s("common.uncategorized"),quantity:e.quantity,price:e.price,cost:e.cost,value:e.value,costValue:e.costValue}})))):h([]),Array.isArray(r.lowStockItems)&&r.lowStockItems.length>0?(console.log("Low stock items:",r.lowStockItems.slice(0,2)),x(r.lowStockItems.map((e=>{var t;return{name:(null==(t=e.name)?void 0:t.en)||("object"==typeof e.name?Object.values(e.name)[0]:e.name),sku:e.sku,quantity:e.quantity,threshold:e.lowStockThreshold||e.reorderLevel}})))):x([])}catch(t){console.error("Error processing inventory data:",t),u({labels:[],datasets:[]}),h([]),x([])}})(),()=>{console.log("InventoryReport useEffect cleanup"),e=!1}}),[r,s]);const g=[{key:"name",label:s("reports.inventory.productName"),sortable:!0},{key:"sku",label:s("reports.inventory.sku"),sortable:!0},{key:"category",label:s("reports.inventory.category"),sortable:!0},{key:"quantity",label:s("reports.inventory.quantity"),sortable:!0,render:e=>null!=e.quantity?e.quantity.toLocaleString():"0"},{key:"price",label:s("reports.inventory.price"),sortable:!0,render:e=>`$${null!=e.price?e.price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}`},{key:"cost",label:s("reports.inventory.cost"),sortable:!0,render:e=>`$${null!=e.cost?e.cost.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}`},{key:"value",label:s("reports.inventory.value"),sortable:!0,render:e=>`$${null!=e.value?e.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}`},{key:"costValue",label:s("reports.inventory.costValue"),sortable:!0,render:e=>`$${null!=e.costValue?e.costValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}`}],b=[{key:"name",label:s("reports.inventory.productName"),sortable:!0},{key:"sku",label:s("reports.inventory.sku"),sortable:!0},{key:"quantity",label:s("reports.inventory.quantity"),sortable:!0,render:e=>null!=e.quantity?e.quantity.toLocaleString():"0"},{key:"threshold",label:s("reports.inventory.lowStockThreshold"),sortable:!0,render:e=>null!=e.threshold?e.threshold.toLocaleString():"0"}];return t.jsx(t.Fragment,{children:t.jsx(js,{title:s("reports.inventory.title"),description:s("reports.inventory.description"),onExportPDF:()=>{l("inventory",e)},onExportCSV:()=>{c("inventory",e)},loading:a,error:o,children:r&&t.jsxs("div",{children:[(()=>{if(!r||!r.summary)return null;const{totalProducts:e,totalQuantity:a,totalInventoryValue:n,totalInventoryCost:o,lowStockItems:i,outOfStockItems:l}=r.summary;return t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-6",children:[t.jsxs("div",{className:"card bg-primary/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.inventory.totalProducts")}),t.jsx("p",{className:"text-2xl font-bold",children:null!=e?e.toLocaleString():"0"})]}),t.jsxs("div",{className:"card bg-blue-500/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.inventory.totalQuantity")}),t.jsx("p",{className:"text-2xl font-bold",children:null!=a?a.toLocaleString():"0"})]}),t.jsxs("div",{className:"card bg-success/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.inventory.inventoryValue")}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",null!=n?n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"]})]}),t.jsxs("div",{className:"card bg-indigo-600/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.inventory.inventoryCost")}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",null!=o?o.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"]})]}),t.jsxs("div",{className:"card bg-warning/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.inventory.lowStockItems")}),t.jsx("p",{className:"text-2xl font-bold",children:null!=i?i.toLocaleString():"0"})]}),t.jsxs("div",{className:"card bg-error/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.inventory.outOfStockItems")}),t.jsx("p",{className:"text-2xl font-bold",children:null!=l?l.toLocaleString():"0"})]})]})})(),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-4",children:s("reports.inventory.productsByCategory")}),t.jsx(ws,{type:"doughnut",data:d,height:300,options:{plugins:{legend:{position:"right"}}}})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-4",children:s("reports.inventory.lowStockAlerts")}),p.length>0?t.jsx(Ns,{columns:b,data:p,pagination:!0,itemsPerPage:5}):t.jsx("div",{className:"bg-success/10 p-4 rounded-lg text-center",children:t.jsx("p",{className:"text-success",children:s("reports.inventory.noLowStockItems")})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-4",children:s("reports.inventory.inventoryDetails")}),t.jsx(Ns,{columns:g,data:m,pagination:!0,itemsPerPage:10})]})]})})})},Fs=({dateRange:e})=>{const{t:s}=we(),{staffData:r,loading:a,error:o,fetchStaffReport:i,exportReportToPDF:l,exportReportToCSV:c}=ks(),[d,u]=n.useState({labels:[],datasets:[]}),[m,h]=n.useState({labels:[],datasets:[]}),[p,x]=n.useState([]),[f,g]=n.useState([]),b=n.useRef(null);n.useEffect((()=>{const t=b.current;(!t||t.startDate!==e.startDate||t.endDate!==e.endDate)&&(i(e),b.current={...e})}),[e,i]),n.useEffect((()=>{console.log("StaffData changed:",r);let e=!0;return(()=>{if(e&&r)try{if(console.log("Processing staff data:",{hasStaffData:Boolean(r),hasStaffSales:Boolean(r.staffSales),hasStaffActivity:Boolean(r.staffActivity),hasActivityTimeline:Boolean(r.activityTimeline)}),Array.isArray(r.staffSales)&&r.staffSales.length>0){console.log("Staff sales:",r.staffSales.slice(0,2));const e=r.staffSales.map((e=>e.name)),t=r.staffSales.map((e=>e.totalSales)),a=r.staffSales.map((e=>e.transactionCount));u({labels:e,datasets:[{label:s("reports.staff.totalSales"),data:t,backgroundColor:"rgba(126, 63, 242, 0.7)",borderColor:"rgba(126, 63, 242, 1)",borderWidth:1,yAxisID:"y"},{label:s("reports.staff.transactions"),data:a,backgroundColor:"rgba(54, 242, 163, 0.7)",borderColor:"rgba(54, 242, 163, 1)",borderWidth:1,yAxisID:"y1",type:"line"}]}),x(r.staffSales.map((e=>({name:e.name,role:e.role||"-",totalSales:e.totalSales,transactionCount:e.transactionCount,averageTicket:e.averageTicket,hoursWorked:e.hoursWorked||0}))))}else u({labels:[],datasets:[]}),x([]);r.staffActivity&&Array.isArray(r.staffActivity)&&r.staffActivity.length>0&&console.log("Staff activity:",r.staffActivity.slice(0,2)),r.staffExpenses&&Array.isArray(r.staffExpenses)&&r.staffExpenses.length>0?(console.log("Staff expenses:",r.staffExpenses.slice(0,2)),g(r.staffExpenses.map((e=>({name:e.staff?`${e.staff.firstName} ${e.staff.lastName}`:"-",type:e.type,amount:e.amount,description:e.description,date:e.date?new Date(e.date).toLocaleDateString():"-",status:e.status}))))):g([])}catch(t){console.error("Error processing staff data:",t),u({labels:[],datasets:[]}),h({labels:[],datasets:[]}),x([]),g([])}else e&&(console.log("No staff data, clearing states"),u({labels:[],datasets:[]}),h({labels:[],datasets:[]}),x([]),g([]))})(),()=>{console.log("StaffReport useEffect cleanup"),e=!1}}),[r,s]);const y=[{key:"name",label:s("reports.staff.staffName"),sortable:!0},{key:"role",label:s("reports.staff.role"),sortable:!0},{key:"totalSales",label:s("reports.staff.totalSales"),sortable:!0,render:e=>`$${null!=e.totalSales?e.totalSales.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}`},{key:"transactionCount",label:s("reports.staff.transactions"),sortable:!0,render:e=>null!=e.transactionCount?e.transactionCount.toLocaleString():"0"},{key:"averageOrderValue",label:s("reports.staff.averageOrderValue"),sortable:!0,render:e=>`$${null!=e.averageOrderValue?e.averageOrderValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}`},{key:"hoursWorked",label:s("reports.staff.hoursWorked"),sortable:!0,render:e=>null!=e.hoursWorked?e.hoursWorked.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1}):"0.0"}],v=[{key:"name",label:s("reports.staff.staffName"),sortable:!0},{key:"type",label:s("reports.staff.expenseType"),sortable:!0,render:e=>s(`reports.staff.expenseTypes.${e.type}`)},{key:"amount",label:s("reports.staff.amount"),sortable:!0,render:e=>`$${null!=e.amount?e.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}`},{key:"description",label:s("reports.staff.description"),sortable:!0},{key:"date",label:s("reports.staff.date"),sortable:!0},{key:"status",label:s("reports.staff.status"),sortable:!0,render:e=>t.jsx("span",{className:"approved"===e.status?"text-success":"rejected"===e.status?"text-error":"text-warning",children:s(`reports.staff.statusTypes.${e.status}`)})}];return t.jsx(t.Fragment,{children:t.jsx(js,{title:s("reports.staff.title"),description:s("reports.staff.description"),onExportPDF:()=>{l("staff",e)},onExportCSV:()=>{c("staff",e)},loading:a,error:o,children:r&&t.jsxs("div",{children:[(()=>{if(!r||!r.summary)return null;const{totalStaff:e,totalSales:a,totalTransactions:n,totalHours:o}=r.summary;return t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"card bg-primary/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.staff.totalStaff")}),t.jsx("p",{className:"text-2xl font-bold",children:null!=e?e:"0"})]}),t.jsxs("div",{className:"card bg-success/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.staff.periodSales")}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",null!=a?a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"]})]}),t.jsxs("div",{className:"card bg-warning/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.staff.totalTransactions")}),t.jsx("p",{className:"text-2xl font-bold",children:null!=n?n.toLocaleString():"0"})]}),t.jsxs("div",{className:"card bg-info/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.staff.hoursWorked")}),t.jsx("p",{className:"text-2xl font-bold",children:null!=o?o.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1}):"0.0"})]})]})})(),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-medium mb-4",children:s("reports.staff.performanceComparison")}),t.jsx(ws,{type:"bar",data:d,height:350,options:{scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:s("reports.staff.totalSales"),color:"#9ca3af"}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:s("reports.staff.transactions"),color:"#9ca3af"}}}}})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-4",children:s("reports.staff.activityByType")}),t.jsx(ws,{type:"pie",data:m,height:300,options:{plugins:{legend:{position:"right"}}}})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-4",children:s("reports.staff.staffPerformance")}),t.jsx(Ns,{columns:y,data:p,pagination:!1})]})]}),f.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-4",children:s("reports.staff.expensesAndLoans")}),t.jsx(Ns,{columns:v,data:f,pagination:!0,itemsPerPage:10})]})]})})})},Ds=({dateRange:e})=>{const{t:s}=we(),{customerData:r,loading:a,error:o,fetchCustomerReport:i,exportReportToPDF:l,exportReportToCSV:c}=ks(),[d,u]=n.useState({labels:[],datasets:[]}),[m,h]=n.useState({labels:[],datasets:[]}),[p,x]=n.useState([]),f=n.useRef(null);n.useEffect((()=>{const t=f.current;(!t||t.startDate!==e.startDate||t.endDate!==e.endDate)&&(i(e),f.current={...e})}),[e,i]),n.useEffect((()=>{console.log("CustomerData changed:",r);let e=!0;return(()=>{if(e&&r)try{if(console.log("Processing customer data:",{hasCustomerData:Boolean(r),hasSummary:Boolean(r.summary),hasTopCustomers:Boolean(r.topCustomers),hasNewCustomersOverTime:Boolean(r.newCustomersOverTime)}),r.purchaseFrequency&&Object.keys(r.purchaseFrequency).length>0){console.log("Purchase frequency:",r.purchaseFrequency);const e=Object.keys(r.purchaseFrequency).map((e=>{switch(e){case"oneTime":return s("reports.customer.oneTime");case"occasional":return s("reports.customer.occasional");case"regular":return s("reports.customer.regular");case"frequent":return s("reports.customer.frequent");default:return e}})),t=Object.values(r.purchaseFrequency);u({labels:e,datasets:[{label:s("reports.customer.customerCount"),data:t,backgroundColor:["rgba(242, 53, 87, 0.7)","rgba(242, 183, 5, 0.7)","rgba(54, 242, 163, 0.7)","rgba(126, 63, 242, 0.7)"],borderColor:["rgba(242, 53, 87, 1)","rgba(242, 183, 5, 1)","rgba(54, 242, 163, 1)","rgba(126, 63, 242, 1)"],borderWidth:1}]})}else u({labels:[],datasets:[]});if(Array.isArray(r.loyaltyDistribution)&&r.loyaltyDistribution.length>0){console.log("Loyalty distribution:",r.loyaltyDistribution);const e=r.loyaltyDistribution.map((e=>e.range)),t=r.loyaltyDistribution.map((e=>e.count));h({labels:e,datasets:[{label:s("reports.customer.customerCount"),data:t,backgroundColor:"rgba(61, 156, 242, 0.7)",borderColor:"rgba(61, 156, 242, 1)",borderWidth:1}]})}else h({labels:[],datasets:[]});Array.isArray(r.topCustomers)&&r.topCustomers.length>0?(console.log("Top customers:",r.topCustomers.slice(0,2)),x(r.topCustomers.map((e=>({name:e.customerName||`${e.firstName||""} ${e.lastName||""}`.trim()||"Unknown",totalSpent:e.totalSpent,purchaseCount:e.purchaseCount,loyaltyPoints:e.loyaltyPoints,lastPurchase:e.lastPurchase?new Date(e.lastPurchase).toLocaleDateString():"-",averageOrderValue:e.totalSpent/Math.max(e.purchaseCount||1,1)}))))):x([])}catch(t){console.error("Error processing customer data:",t),u({labels:[],datasets:[]}),h({labels:[],datasets:[]}),x([])}else e&&(console.log("No customer data, clearing states"),u({labels:[],datasets:[]}),h({labels:[],datasets:[]}),x([]))})(),()=>{console.log("CustomerReport useEffect cleanup"),e=!1}}),[r,s]);const g=[{key:"name",label:s("reports.customer.customerName"),sortable:!0},{key:"totalSpent",label:s("reports.customer.totalSpent"),sortable:!0,render:e=>`$${null!=e.totalSpent?e.totalSpent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}`},{key:"purchaseCount",label:s("reports.customer.purchaseCount"),sortable:!0,render:e=>null!=e.purchaseCount?e.purchaseCount.toLocaleString():"0"},{key:"averageOrderValue",label:s("reports.customer.averageOrderValue"),sortable:!0,render:e=>`$${null!=e.averageOrderValue?e.averageOrderValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"}`},{key:"loyaltyPoints",label:s("reports.customer.loyaltyPoints"),sortable:!0,render:e=>null!=e.loyaltyPoints?e.loyaltyPoints.toLocaleString():"0"},{key:"lastPurchase",label:s("reports.customer.lastPurchase"),sortable:!0}];return t.jsx(t.Fragment,{children:t.jsx(js,{title:s("reports.customer.title"),description:s("reports.customer.description"),onExportPDF:()=>{l("customers",e)},onExportCSV:()=>{c("customers",e)},loading:a,error:o,children:r&&t.jsxs("div",{children:[(()=>{if(!r||!r.summary)return null;const{totalCustomers:e,newCustomers:a,activeCustomers:n,totalLoyaltyPoints:o}=r.summary;return t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"card bg-primary/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.customer.totalCustomers")}),t.jsx("p",{className:"text-2xl font-bold",children:null!=e?e.toLocaleString():"0"})]}),t.jsxs("div",{className:"card bg-success/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.customer.newCustomers")}),t.jsx("p",{className:"text-2xl font-bold",children:null!=a?a.toLocaleString():"0"})]}),t.jsxs("div",{className:"card bg-info/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.customer.activeCustomers")}),t.jsx("p",{className:"text-2xl font-bold",children:null!=n?n.toLocaleString():"0"})]}),t.jsxs("div",{className:"card bg-warning/10 p-4",children:[t.jsx("h3",{className:"text-sm text-gray-400",children:s("reports.customer.totalLoyaltyPoints")}),t.jsx("p",{className:"text-2xl font-bold",children:null!=o?o.toLocaleString():"0"})]})]})})(),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-4",children:s("reports.customer.purchaseFrequency")}),t.jsx(ws,{type:"pie",data:d,height:300,options:{plugins:{legend:{position:"right"}}}})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-4",children:s("reports.customer.loyaltyPointsDistribution")}),t.jsx(ws,{type:"bar",data:m,height:300})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-4",children:s("reports.customer.topCustomers")}),t.jsx(Ns,{columns:g,data:p,pagination:!0,itemsPerPage:10})]})]})})})};var Ms,Es,Ps,Ls,Ts,As,zs,Os;(Es=Ms||(Ms={})).Root="root",Es.Chevron="chevron",Es.Day="day",Es.DayButton="day_button",Es.CaptionLabel="caption_label",Es.Dropdowns="dropdowns",Es.Dropdown="dropdown",Es.DropdownRoot="dropdown_root",Es.Footer="footer",Es.MonthGrid="month_grid",Es.MonthCaption="month_caption",Es.MonthsDropdown="months_dropdown",Es.Month="month",Es.Months="months",Es.Nav="nav",Es.NextMonthButton="button_next",Es.PreviousMonthButton="button_previous",Es.Week="week",Es.Weeks="weeks",Es.Weekday="weekday",Es.Weekdays="weekdays",Es.WeekNumber="week_number",Es.WeekNumberHeader="week_number_header",Es.YearsDropdown="years_dropdown",(Ls=Ps||(Ps={})).disabled="disabled",Ls.hidden="hidden",Ls.outside="outside",Ls.focused="focused",Ls.today="today",(As=Ts||(Ts={})).range_end="range_end",As.range_middle="range_middle",As.range_start="range_start",As.selected="selected",(Os=zs||(zs={})).weeks_before_enter="weeks_before_enter",Os.weeks_before_exit="weeks_before_exit",Os.weeks_after_enter="weeks_after_enter",Os.weeks_after_exit="weeks_after_exit",Os.caption_after_enter="caption_after_enter",Os.caption_after_exit="caption_after_exit",Os.caption_before_enter="caption_before_enter",Os.caption_before_exit="caption_before_exit";const $s={},Ws={};function Rs(e,t){try{const s=($s[e]||($s[e]=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format))(t).split("GMT")[1]||"";return s in Ws?Ws[s]:_s(s,s.split(":"))}catch{if(e in Ws)return Ws[e];const t=null==e?void 0:e.match(Is);return t?_s(e,t.slice(1)):NaN}}const Is=/([+-]\d\d):?(\d\d)?/;function _s(e,t){const s=+t[0],r=+(t[1]||0);return Ws[e]=s>0?60*s+r:60*s-r}class Bs extends Date{constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Rs(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),Ys(this),Us(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new Bs(...t,e):new Bs(Date.now(),e)}withTimeZone(e){return new Bs(+this,e)}getTimezoneOffset(){return-Rs(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Us(this),+this}[Symbol.for("constructDateFrom")](e){return new Bs(+new Date(e),this.timeZone)}}const qs=/^(get|set)(?!UTC)/;function Us(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function Ys(e){const t=Rs(e.timeZone,e),s=new Date(+e);s.setUTCHours(s.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),a=r- -new Date(+s).getTimezoneOffset(),n=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&n&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const o=r-t;o&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+o);const i=Rs(e.timeZone,e),l=-new Date(+e).getTimezoneOffset()-i-o;if(i!==t&&l){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+l);const t=i-Rs(e.timeZone,e);t&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+t),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+t))}}Object.getOwnPropertyNames(Date.prototype).forEach((e=>{if(!qs.test(e))return;const t=e.replace(qs,"$1UTC");Bs.prototype[t]&&(e.startsWith("get")?Bs.prototype[e]=function(){return this.internal[t]()}:(Bs.prototype[e]=function(){var e;return Date.prototype[t].apply(this.internal,arguments),e=this,Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),Ys(e),+this},Bs.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Us(this),+this}))}));class Vs extends Bs{static tz(e,...t){return t.length?new Vs(...t,e):new Vs(Date.now(),e)}toISOString(){const[e,t,s]=this.tzComponents(),r=`${e}${t}:${s}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,s,r]=this.internal.toUTCString().split(" ");return`${null==e?void 0:e.slice(0,-1)} ${s} ${t} ${r}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,s,r]=this.tzComponents();return`${e} GMT${t}${s}${r} (${a=this.timeZone,n=this,new Intl.DateTimeFormat("en-GB",{timeZone:a,timeZoneName:"long"}).format(n).slice(12)})`;var a,n}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:(null==t?void 0:t.timeZone)||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:(null==t?void 0:t.timeZone)||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:(null==t?void 0:t.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset();return[e>0?"-":"+",String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),String(Math.abs(e)%60).padStart(2,"0")]}withTimeZone(e){return new Vs(+this,e)}[Symbol.for("constructDateFrom")](e){return new Vs(+new Date(e),this.timeZone)}}function Hs(e,t){const s=t.startOfMonth(e),r=s.getDay();return 1===r?s:0===r?t.addDays(s,-6):t.addDays(s,-1*(r-1))}class Gs{constructor(e,t){this.Date=Date,this.today=()=>{var e;return(null==(e=this.overrides)?void 0:e.today)?this.overrides.today():this.options.timeZone?Vs.tz(this.options.timeZone):new this.Date},this.newDate=(e,t,s)=>{var r;return(null==(r=this.overrides)?void 0:r.newDate)?this.overrides.newDate(e,t,s):this.options.timeZone?new Vs(e,t,s,this.options.timeZone):new Date(e,t,s)},this.addDays=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.addDays)?this.overrides.addDays(e,t):bt(e,t)},this.addMonths=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.addMonths)?this.overrides.addMonths(e,t):yt(e,t)},this.addWeeks=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.addWeeks)?this.overrides.addWeeks(e,t):function(e,t,s){return bt(e,7*t,s)}(e,t)},this.addYears=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.addYears)?this.overrides.addYears(e,t):function(e,t,s){return yt(e,12*t,s)}(e,t)},this.differenceInCalendarDays=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.differenceInCalendarDays)?this.overrides.differenceInCalendarDays(e,t):Dt(e,t)},this.differenceInCalendarMonths=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.differenceInCalendarMonths)?this.overrides.differenceInCalendarMonths(e,t):function(e,t,s){const[r,a]=St(null==s||s.in,e,t);return 12*(r.getFullYear()-a.getFullYear())+(r.getMonth()-a.getMonth())}(e,t)},this.eachMonthOfInterval=e=>{var t;return(null==(t=this.overrides)?void 0:t.eachMonthOfInterval)?this.overrides.eachMonthOfInterval(e):Pt(e)},this.endOfBroadcastWeek=e=>{var t;return(null==(t=this.overrides)?void 0:t.endOfBroadcastWeek)?this.overrides.endOfBroadcastWeek(e,this):function(e,t){const s=Hs(e,t),r=function(e,t){const s=t.startOfMonth(e),r=s.getDay()>0?s.getDay():7,a=t.addDays(e,1-r),n=t.addDays(a,34);return t.getMonth(e)===t.getMonth(n)?5:4}(e,t);return t.addDays(s,7*r-1)}(e,this)},this.endOfISOWeek=e=>{var t;return(null==(t=this.overrides)?void 0:t.endOfISOWeek)?this.overrides.endOfISOWeek(e):function(e,t){return At(e,{...t,weekStartsOn:1})}(e)},this.endOfMonth=e=>{var t;return(null==(t=this.overrides)?void 0:t.endOfMonth)?this.overrides.endOfMonth(e):Et(e)},this.endOfWeek=e=>{var t;return(null==(t=this.overrides)?void 0:t.endOfWeek)?this.overrides.endOfWeek(e,this.options):At(e,this.options)},this.endOfYear=e=>{var t;return(null==(t=this.overrides)?void 0:t.endOfYear)?this.overrides.endOfYear(e):function(e,t){const s=gt(e,null==t?void 0:t.in),r=s.getFullYear();return s.setFullYear(r+1,0,0),s.setHours(23,59,59,999),s}(e)},this.format=(e,t)=>{var s;const r=(null==(s=this.overrides)?void 0:s.format)?this.overrides.format(e,t,this.options):xs(e,t,this.options);return this.options.numerals&&"latn"!==this.options.numerals?this.replaceDigits(r):r},this.getISOWeek=e=>{var t;return(null==(t=this.overrides)?void 0:t.getISOWeek)?this.overrides.getISOWeek(e):qt(e)},this.getMonth=e=>{var t;return(null==(t=this.overrides)?void 0:t.getMonth)?this.overrides.getMonth(e,this.options):function(e,t){return gt(e,null==t?void 0:t.in).getMonth()}(e,this.options)},this.getYear=e=>{var t;return(null==(t=this.overrides)?void 0:t.getYear)?this.overrides.getYear(e,this.options):function(e,t){return gt(e,null==t?void 0:t.in).getFullYear()}(e,this.options)},this.getWeek=e=>{var t;return(null==(t=this.overrides)?void 0:t.getWeek)?this.overrides.getWeek(e,this.options):Yt(e,this.options)},this.isAfter=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.isAfter)?this.overrides.isAfter(e,t):function(e,t){return+gt(e)>+gt(t)}(e,t)},this.isBefore=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.isBefore)?this.overrides.isBefore(e,t):function(e,t){return+gt(e)<+gt(t)}(e,t)},this.isDate=e=>{var t;return(null==(t=this.overrides)?void 0:t.isDate)?this.overrides.isDate(e):Mt(e)},this.isSameDay=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.isSameDay)?this.overrides.isSameDay(e,t):function(e,t,s){const[r,a]=St(null==s||s.in,e,t);return+Ft(r)==+Ft(a)}(e,t)},this.isSameMonth=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.isSameMonth)?this.overrides.isSameMonth(e,t):function(e,t,s){const[r,a]=St(null==s||s.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}(e,t)},this.isSameYear=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.isSameYear)?this.overrides.isSameYear(e,t):function(e,t,s){const[r,a]=St(null==s||s.in,e,t);return r.getFullYear()===a.getFullYear()}(e,t)},this.max=e=>{var t;return(null==(t=this.overrides)?void 0:t.max)?this.overrides.max(e):function(e,t){let s,r=null==t?void 0:t.in;return e.forEach((e=>{r||"object"!=typeof e||(r=ft.bind(null,e));const t=gt(e,r);(!s||s<t||isNaN(+t))&&(s=t)})),ft(r,s||NaN)}(e)},this.min=e=>{var t;return(null==(t=this.overrides)?void 0:t.min)?this.overrides.min(e):function(e,t){let s,r=null==t?void 0:t.in;return e.forEach((e=>{r||"object"!=typeof e||(r=ft.bind(null,e));const t=gt(e,r);(!s||s>t||isNaN(+t))&&(s=t)})),ft(r,s||NaN)}(e)},this.setMonth=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.setMonth)?this.overrides.setMonth(e,t):bs(e,t)},this.setYear=(e,t)=>{var s;return(null==(s=this.overrides)?void 0:s.setYear)?this.overrides.setYear(e,t):function(e,t,s){const r=gt(e,null==s?void 0:s.in);return isNaN(+r)?ft(e,NaN):(r.setFullYear(t),r)}(e,t)},this.startOfBroadcastWeek=e=>{var t;return(null==(t=this.overrides)?void 0:t.startOfBroadcastWeek)?this.overrides.startOfBroadcastWeek(e,this):Hs(e,this)},this.startOfDay=e=>{var t;return(null==(t=this.overrides)?void 0:t.startOfDay)?this.overrides.startOfDay(e):Ft(e)},this.startOfISOWeek=e=>{var t;return(null==(t=this.overrides)?void 0:t.startOfISOWeek)?this.overrides.startOfISOWeek(e):Nt(e)},this.startOfMonth=e=>{var t;return(null==(t=this.overrides)?void 0:t.startOfMonth)?this.overrides.startOfMonth(e):Lt(e)},this.startOfWeek=e=>{var t;return(null==(t=this.overrides)?void 0:t.startOfWeek)?this.overrides.startOfWeek(e,this.options):wt(e,this.options)},this.startOfYear=e=>{var t;return(null==(t=this.overrides)?void 0:t.startOfYear)?this.overrides.startOfYear(e):Tt(e)},this.options={locale:Bt,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),s={};for(let r=0;r<10;r++)s[r.toString()]=t.format(r);return s}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,(e=>t[e]||e))}formatNumber(e){return this.replaceDigits(e.toString())}}const Qs=new Gs;const Zs=n.createContext(void 0);function Ks(){const e=n.useContext(Zs);if(void 0===e)throw new Error("useDayPicker() must be used within a custom component.");return e}const Xs=Object.freeze(Object.defineProperty({__proto__:null,Button:function(e){return u.createElement("button",{...e})},CaptionLabel:function(e){return u.createElement("span",{...e})},Chevron:function(e){const{size:t=24,orientation:s="left",className:r}=e;return u.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},"up"===s&&u.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),"down"===s&&u.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),"left"===s&&u.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),"right"===s&&u.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))},Day:function(e){const{day:t,modifiers:s,...r}=e;return u.createElement("td",{...r})},DayButton:function(e){const{day:t,modifiers:s,...r}=e,a=u.useRef(null);return u.useEffect((()=>{var e;s.focused&&(null==(e=a.current)||e.focus())}),[s.focused]),u.createElement("button",{ref:a,...r})},Dropdown:function(e){const{options:t,className:s,components:r,classNames:a,...n}=e,o=[a[Ms.Dropdown],s].join(" "),i=null==t?void 0:t.find((({value:e})=>e===n.value));return u.createElement("span",{"data-disabled":n.disabled,className:a[Ms.DropdownRoot]},u.createElement(r.Select,{className:o,...n},null==t?void 0:t.map((({value:e,label:t,disabled:s})=>u.createElement(r.Option,{key:e,value:e,disabled:s},t)))),u.createElement("span",{className:a[Ms.CaptionLabel],"aria-hidden":!0},null==i?void 0:i.label,u.createElement(r.Chevron,{orientation:"down",size:18,className:a[Ms.Chevron]})))},DropdownNav:function(e){return u.createElement("div",{...e})},Footer:function(e){return u.createElement("div",{...e})},Month:function(e){const{calendarMonth:t,displayIndex:s,...r}=e;return u.createElement("div",{...r},e.children)},MonthCaption:function(e){const{calendarMonth:t,displayIndex:s,...r}=e;return u.createElement("div",{...r})},MonthGrid:function(e){return u.createElement("table",{...e})},Months:function(e){return u.createElement("div",{...e})},MonthsDropdown:function(e){const{components:t}=Ks();return u.createElement(t.Dropdown,{...e})},Nav:function(e){const{onPreviousClick:t,onNextClick:s,previousMonth:r,nextMonth:a,...o}=e,{components:i,classNames:l,labels:{labelPrevious:c,labelNext:d}}=Ks(),m=n.useCallback((e=>{a&&(null==s||s(e))}),[a,s]),h=n.useCallback((e=>{r&&(null==t||t(e))}),[r,t]);return u.createElement("nav",{...o},u.createElement(i.PreviousMonthButton,{type:"button",className:l[Ms.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":!r||void 0,"aria-label":c(r),onClick:h},u.createElement(i.Chevron,{disabled:!r||void 0,className:l[Ms.Chevron],orientation:"left"})),u.createElement(i.NextMonthButton,{type:"button",className:l[Ms.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":!a||void 0,"aria-label":d(a),onClick:m},u.createElement(i.Chevron,{disabled:!a||void 0,orientation:"right",className:l[Ms.Chevron]})))},NextMonthButton:function(e){const{components:t}=Ks();return u.createElement(t.Button,{...e})},Option:function(e){return u.createElement("option",{...e})},PreviousMonthButton:function(e){const{components:t}=Ks();return u.createElement(t.Button,{...e})},Root:function(e){const{rootRef:t,...s}=e;return u.createElement("div",{...s,ref:t})},Select:function(e){return u.createElement("select",{...e})},Week:function(e){const{week:t,...s}=e;return u.createElement("tr",{...s})},WeekNumber:function(e){const{week:t,...s}=e;return u.createElement("th",{...s})},WeekNumberHeader:function(e){return u.createElement("th",{...e})},Weekday:function(e){return u.createElement("th",{...e})},Weekdays:function(e){return u.createElement("thead",{"aria-hidden":!0},u.createElement("tr",{...e}))},Weeks:function(e){return u.createElement("tbody",{...e})},YearsDropdown:function(e){const{components:t}=Ks();return u.createElement(t.Dropdown,{...e})}},Symbol.toStringTag,{value:"Module"}));function Js(){const e={};for(const t in Ms)e[Ms[t]]=`rdp-${Ms[t]}`;for(const t in Ps)e[Ps[t]]=`rdp-${Ps[t]}`;for(const t in Ts)e[Ts[t]]=`rdp-${Ts[t]}`;for(const t in zs)e[zs[t]]=`rdp-${zs[t]}`;return e}function er(e,t,s){return(s??new Gs(t)).format(e,"LLLL y")}const tr=er;function sr(e,t=Qs){return t.format(e,"yyyy")}const rr=sr,ar=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:er,formatDay:function(e,t,s){return(s??new Gs(t)).format(e,"d")},formatMonthCaption:tr,formatMonthDropdown:function(e,t=Qs){return t.format(e,"LLLL")},formatWeekNumber:function(e){return e<10?`0${e.toLocaleString()}`:`${e.toLocaleString()}`},formatWeekNumberHeader:function(){return""},formatWeekdayName:function(e,t,s){return(s??new Gs(t)).format(e,"cccccc")},formatYearCaption:rr,formatYearDropdown:sr},Symbol.toStringTag,{value:"Module"}));function nr(e,t,s){return(s??new Gs(t)).format(e,"LLLL y")}const or=nr;function ir(e,t,s,r){let a=(r??new Gs(s)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const lr=ir;const cr=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:or,labelDay:lr,labelDayButton:ir,labelGrid:nr,labelGridcell:function(e,t,s,r){let a=(r??new Gs(s)).format(e,"PPPP");return(null==t?void 0:t.today)&&(a=`Today, ${a}`),a},labelMonthDropdown:function(e){return"Choose the Month"},labelNav:function(){return""},labelNext:function(e){return"Go to the Next Month"},labelPrevious:function(e){return"Go to the Previous Month"},labelWeekNumber:function(e,t){return`Week ${e}`},labelWeekNumberHeader:function(e){return"Week Number"},labelWeekday:function(e,t,s){return(s??new Gs(t)).format(e,"cccc")},labelYearDropdown:function(e){return"Choose the Year"}},Symbol.toStringTag,{value:"Module"})),dr=e=>e instanceof HTMLElement?e:null,ur=e=>[...e.querySelectorAll("[data-animated-month]")??[]],mr=e=>dr(e.querySelector("[data-animated-caption]")),hr=e=>dr(e.querySelector("[data-animated-weeks]"));function pr(e,t,{classNames:s,months:r,focused:a,dateLib:o}){const i=n.useRef(null),l=n.useRef(r),c=n.useRef(!1);n.useLayoutEffect((()=>{const n=l.current;if(l.current=r,!(t&&e.current&&e.current instanceof HTMLElement&&0!==r.length&&0!==n.length&&r.length===n.length))return;const d=o.isSameMonth(r[0].date,n[0].date),u=o.isAfter(r[0].date,n[0].date),m=u?s[zs.caption_after_enter]:s[zs.caption_before_enter],h=u?s[zs.weeks_after_enter]:s[zs.weeks_before_enter],p=i.current,x=e.current.cloneNode(!0);if(x instanceof HTMLElement){ur(x).forEach((e=>{if(!(e instanceof HTMLElement))return;const t=dr(e.querySelector("[data-animated-month]"));t&&e.contains(t)&&e.removeChild(t);const s=mr(e);s&&s.classList.remove(m);const r=hr(e);r&&r.classList.remove(h)})),i.current=x}else i.current=null;if(c.current||d||a)return;const f=p instanceof HTMLElement?ur(p):[],g=ur(e.current);if(g&&g.every((e=>e instanceof HTMLElement))&&f&&f.every((e=>e instanceof HTMLElement))){c.current=!0,e.current.style.isolation="isolate";const t=(b=e.current,dr(b.querySelector("[data-animated-nav]")));t&&(t.style.zIndex="1"),g.forEach(((r,a)=>{const n=f[a];if(!n)return;r.style.position="relative",r.style.overflow="hidden";const o=mr(r);o&&o.classList.add(m);const i=hr(r);i&&i.classList.add(h);const l=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),t&&(t.style.zIndex=""),o&&o.classList.remove(m),i&&i.classList.remove(h),r.style.position="",r.style.overflow="",r.contains(n)&&r.removeChild(n)};n.style.pointerEvents="none",n.style.position="absolute",n.style.overflow="hidden",n.setAttribute("aria-hidden","true");const d=(e=>dr(e.querySelector("[data-animated-weekdays]")))(n);d&&(d.style.opacity="0");const p=mr(n);p&&(p.classList.add(u?s[zs.caption_before_exit]:s[zs.caption_after_exit]),p.addEventListener("animationend",l));const x=hr(n);x&&x.classList.add(u?s[zs.weeks_before_exit]:s[zs.weeks_after_exit]),r.insertBefore(n,r.firstChild)}))}var b}))}function xr(e,t){const{month:s,defaultMonth:r,today:a=t.today(),numberOfMonths:n=1,endMonth:o,startMonth:i,timeZone:l}=e;let c=s||r||a;const{differenceInCalendarMonths:d,addMonths:u,startOfMonth:m}=t;if(o&&d(o,c)<0){c=u(o,-1*(n-1))}return i&&d(c,i)<0&&(c=i),c=l?new Vs(c,l):c,m(c)}class fr{constructor(e,t,s=Qs){this.date=e,this.displayMonth=t,this.outside=Boolean(t&&!s.isSameMonth(e,t)),this.dateLib=s}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class gr{constructor(e,t){this.date=e,this.weeks=t}}class br{constructor(e,t){this.days=t,this.weekNumber=e}}function yr(e,t){const[s,r]=n.useState(e);return[void 0===t?s:t,r]}function vr(e,t){const[s,r]=function(e,t){let{startMonth:s,endMonth:r}=e;const{startOfYear:a,startOfDay:n,startOfMonth:o,endOfMonth:i,addYears:l,endOfYear:c,newDate:d,today:u}=t,{fromYear:m,toYear:h,fromMonth:p,toMonth:x}=e;!s&&p&&(s=p),!s&&m&&(s=t.newDate(m,0,1)),!r&&x&&(r=x),!r&&h&&(r=d(h,11,31));const f="dropdown"===e.captionLayout||"dropdown-years"===e.captionLayout;return s?s=o(s):m?s=d(m,0,1):!s&&f&&(s=a(l(e.today??u(),-100))),r?r=i(r):h?r=d(h,11,31):!r&&f&&(r=c(e.today??u())),[s?n(s):s,r?n(r):r]}(e,t),{startOfMonth:a,endOfMonth:o}=t,i=xr(e,t),[l,c]=yr(i,e.month?i:void 0);n.useEffect((()=>{const s=xr(e,t);c(s)}),[e.timeZone]);const d=function(e,t,s,r){const{numberOfMonths:a=1}=s,n=[];for(let o=0;o<a;o++){const s=r.addMonths(e,o);if(t&&s>t)break;n.push(s)}return n}(l,r,e,t),u=function(e,t,s,r){const a=e[0],n=e[e.length-1],{ISOWeek:o,fixedWeeks:i,broadcastCalendar:l}=s??{},{addDays:c,differenceInCalendarDays:d,differenceInCalendarMonths:u,endOfBroadcastWeek:m,endOfISOWeek:h,endOfMonth:p,endOfWeek:x,isAfter:f,startOfBroadcastWeek:g,startOfISOWeek:b,startOfWeek:y}=r,v=l?g(a,r):o?b(a):y(a),j=d(l?m(n,r):o?h(p(n)):x(p(n)),v),w=u(n,a)+1,N=[];for(let C=0;C<=j;C++){const e=c(v,C);if(t&&f(e,t))break;N.push(e)}const k=(l?35:42)*w;if(i&&N.length<k){const e=k-N.length;for(let t=0;t<e;t++){const e=c(N[N.length-1],1);N.push(e)}}return N}(d,e.endMonth?o(e.endMonth):void 0,e,t),m=function(e,t,s,r){const{addDays:a,endOfBroadcastWeek:n,endOfISOWeek:o,endOfMonth:i,endOfWeek:l,getISOWeek:c,getWeek:d,startOfBroadcastWeek:u,startOfISOWeek:m,startOfWeek:h}=r,p=e.reduce(((e,p)=>{const x=s.broadcastCalendar?u(p,r):s.ISOWeek?m(p):h(p),f=s.broadcastCalendar?n(p,r):s.ISOWeek?o(i(p)):l(i(p)),g=t.filter((e=>e>=x&&e<=f)),b=s.broadcastCalendar?35:42;if(s.fixedWeeks&&g.length<b){const e=t.filter((e=>{const t=b-g.length;return e>f&&e<=a(f,t)}));g.push(...e)}const y=g.reduce(((e,t)=>{const a=s.ISOWeek?c(t):d(t),n=e.find((e=>e.weekNumber===a)),o=new fr(t,p,r);return n?n.days.push(o):e.push(new br(a,[o])),e}),[]),v=new gr(p,y);return e.push(v),e}),[]);return s.reverseMonths?p.reverse():p}(d,u,e,t),h=function(e){return e.reduce(((e,t)=>[...e,...t.weeks]),[])}(m),p=m.reduce(((e,t)=>[...e,...t.weeks.reduce(((e,t)=>[...e,...t.days]),[])]),[]);const x=function(e,t,s,r){if(s.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:n}=s,{startOfMonth:o,addMonths:i,differenceInCalendarMonths:l}=r,c=a?n??1:1,d=o(e);return t&&l(d,t)<=0?void 0:i(d,-c)}(l,s,e,t),f=function(e,t,s,r){if(s.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:n=1}=s,{startOfMonth:o,addMonths:i,differenceInCalendarMonths:l}=r,c=a?n:1,d=o(e);return t&&l(t,e)<n?void 0:i(d,c)}(l,r,e,t),{disableNavigation:g,onMonthChange:b}=e,y=e=>{if(g)return;let t=a(e);s&&t<a(s)&&(t=a(s)),r&&t>a(r)&&(t=a(r)),c(t),null==b||b(t)};return{months:m,weeks:h,days:p,navStart:s,navEnd:r,previousMonth:x,nextMonth:f,goToMonth:y,goToDay:e=>{(e=>h.some((t=>t.days.some((t=>t.isEqualTo(e))))))(e)||y(e.date)}}}var jr,wr;function Nr(e){return!e[Ps.disabled]&&!e[Ps.hidden]&&!e[Ps.outside]}function kr(e,t,s=!1,r=Qs){let{from:a,to:n}=e;const{differenceInCalendarDays:o,isSameDay:i}=r;if(a&&n){o(n,a)<0&&([a,n]=[n,a]);return o(t,a)>=(s?1:0)&&o(n,t)>=(s?1:0)}return!s&&n?i(n,t):!(s||!a)&&i(a,t)}function Cr(e){return Boolean(e&&"object"==typeof e&&"before"in e&&"after"in e)}function Sr(e){return Boolean(e&&"object"==typeof e&&"from"in e)}function Fr(e){return Boolean(e&&"object"==typeof e&&"after"in e)}function Dr(e){return Boolean(e&&"object"==typeof e&&"before"in e)}function Mr(e){return Boolean(e&&"object"==typeof e&&"dayOfWeek"in e)}function Er(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Pr(e,t,s=Qs){const r=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:n,isAfter:o}=s;return r.some((t=>{if("boolean"==typeof t)return t;if(s.isDate(t))return a(e,t);if(Er(t,s))return t.includes(e);if(Sr(t))return kr(t,e,!1,s);if(Mr(t))return Array.isArray(t.dayOfWeek)?t.dayOfWeek.includes(e.getDay()):t.dayOfWeek===e.getDay();if(Cr(t)){const s=n(t.before,e)>0,r=n(t.after,e)<0;return o(t.before,t.after)?r&&s:s||r}return Fr(t)?n(e,t.after)>0:Dr(t)?n(t.before,e)>0:"function"==typeof t&&t(e)}))}function Lr(e,t,s,r,a,n,o,i=0){if(i>365)return;const l=function(e,t,s,r,a,n,o){const{ISOWeek:i,broadcastCalendar:l}=n,{addDays:c,addMonths:d,addWeeks:u,addYears:m,endOfBroadcastWeek:h,endOfISOWeek:p,endOfWeek:x,max:f,min:g,startOfBroadcastWeek:b,startOfISOWeek:y,startOfWeek:v}=o;let j={day:c,week:u,month:d,year:m,startOfWeek:e=>l?b(e,o):i?y(e):v(e),endOfWeek:e=>l?h(e,o):i?p(e):x(e)}[e](s,"after"===t?1:-1);return"before"===t&&r?j=f([r,j]):"after"===t&&a&&(j=g([a,j])),j}(e,t,s.date,r,a,n,o),c=Boolean(n.disabled&&Pr(l,n.disabled,o)),d=Boolean(n.hidden&&Pr(l,n.hidden,o)),u=new fr(l,l,o);return c||d?Lr(e,t,u,r,a,n,o,i+1):u}function Tr(e,t,s,r,a){const{autoFocus:o}=e,[i,l]=n.useState(),c=function(e,t,s,r){let a,n=-1;for(const o of e){const e=t(o);Nr(e)&&(e[Ps.focused]&&n<jr.FocusedModifier?(a=o,n=jr.FocusedModifier):(null==r?void 0:r.isEqualTo(o))&&n<jr.LastFocused?(a=o,n=jr.LastFocused):s(o.date)&&n<jr.Selected?(a=o,n=jr.Selected):e[Ps.today]&&n<jr.Today&&(a=o,n=jr.Today))}return a||(a=e.find((e=>Nr(t(e))))),a}(t.days,s,r||(()=>!1),i),[d,u]=n.useState(o?c:void 0);return{isFocusTarget:e=>Boolean(null==c?void 0:c.isEqualTo(e)),setFocused:u,focused:d,blur:()=>{l(d),u(void 0)},moveFocus:(s,r)=>{if(!d)return;const n=Lr(s,r,d,t.navStart,t.navEnd,e,a);n&&(t.goToDay(n),u(n))}}}function Ar(e,t,s=Qs){return kr(e,t.from,!1,s)||kr(e,t.to,!1,s)||kr(t,e.from,!1,s)||kr(t,e.to,!1,s)}function zr(e,t,s=Qs){const r=Array.isArray(t)?t:[t];if(r.filter((e=>"function"!=typeof e)).some((t=>{if("boolean"==typeof t)return t;if(s.isDate(t))return kr(e,t,!1,s);if(Er(t,s))return t.some((t=>kr(e,t,!1,s)));if(Sr(t))return!(!t.from||!t.to)&&Ar(e,{from:t.from,to:t.to},s);if(Mr(t))return function(e,t,s=Qs){const r=Array.isArray(t)?t:[t];let a=e.from;const n=s.differenceInCalendarDays(e.to,e.from),o=Math.min(n,6);for(let i=0;i<=o;i++){if(r.includes(a.getDay()))return!0;a=s.addDays(a,1)}return!1}(e,t.dayOfWeek,s);if(Cr(t)){return s.isAfter(t.before,t.after)?Ar(e,{from:s.addDays(t.after,1),to:s.addDays(t.before,-1)},s):Pr(e.from,t,s)||Pr(e.to,t,s)}return!(!Fr(t)&&!Dr(t))&&(Pr(e.from,t,s)||Pr(e.to,t,s))})))return!0;const a=r.filter((e=>"function"==typeof e));if(a.length){let t=e.from;const r=s.differenceInCalendarDays(e.to,e.from);for(let e=0;e<=r;e++){if(a.some((e=>e(t))))return!0;t=s.addDays(t,1)}}return!1}function Or(e,t){const{disabled:s,excludeDisabled:r,selected:a,required:n,onSelect:o}=e,[i,l]=yr(a,o?a:void 0),c=o?a:i;return{selected:c,select:(a,i,d)=>{const{min:u,max:m}=e,h=a?function(e,t,s=0,r=0,a=!1,n=Qs){const{from:o,to:i}=t||{},{isSameDay:l,isAfter:c,isBefore:d}=n;let u;if(o||i){if(o&&!i)u=l(o,e)?a?{from:o,to:void 0}:void 0:d(e,o)?{from:e,to:o}:{from:o,to:e};else if(o&&i)if(l(o,e)&&l(i,e))u=a?{from:o,to:i}:void 0;else if(l(o,e))u={from:o,to:s>0?void 0:e};else if(l(i,e))u={from:e,to:s>0?void 0:e};else if(d(e,o))u={from:e,to:i};else if(c(e,o))u={from:o,to:e};else{if(!c(e,i))throw new Error("Invalid range");u={from:o,to:e}}}else u={from:e,to:s>0?void 0:e};if((null==u?void 0:u.from)&&(null==u?void 0:u.to)){const t=n.differenceInCalendarDays(u.to,u.from);(r>0&&t>r||s>1&&t<s)&&(u={from:e,to:void 0})}return u}(a,c,u,m,n,t):void 0;return r&&s&&(null==h?void 0:h.from)&&h.to&&zr({from:h.from,to:h.to},s,t)&&(h.from=a,h.to=void 0),o||l(h),null==o||o(h,a,i,d),h},isSelected:e=>c&&kr(c,e,!1,t)}}function $r(e,t){const s=function(e,t){const{selected:s,required:r,onSelect:a}=e,[n,o]=yr(s,a?s:void 0),i=a?s:n,{isSameDay:l}=t;return{selected:i,select:(e,t,s)=>{let n=e;return!r&&i&&i&&l(e,i)&&(n=void 0),a||o(n),null==a||a(n,e,t,s),n},isSelected:e=>!!i&&l(i,e)}}(e,t),r=function(e,t){const{selected:s,required:r,onSelect:a}=e,[n,o]=yr(s,a?s:void 0),i=a?s:n,{isSameDay:l}=t,c=e=>(null==i?void 0:i.some((t=>l(t,e))))??!1,{min:d,max:u}=e;return{selected:i,select:(e,t,s)=>{let n=[...i??[]];if(c(e)){if((null==i?void 0:i.length)===d)return;if(r&&1===(null==i?void 0:i.length))return;n=null==i?void 0:i.filter((t=>!l(t,e)))}else n=(null==i?void 0:i.length)===u?[e]:[...n,e];return a||o(n),null==a||a(n,e,t,s),n},isSelected:c}}(e,t),a=Or(e,t);switch(e.mode){case"single":return s;case"multiple":return r;case"range":return a;default:return}}function Wr(e){const{components:t,formatters:s,labels:r,dateLib:a,locale:o,classNames:i}=n.useMemo((()=>{const t={...Bt,...e.locale};return{dateLib:new Gs({locale:t,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:(r=e.components,{...Xs,...r}),formatters:(s=e.formatters,(null==s?void 0:s.formatMonthCaption)&&!s.formatCaption&&(s.formatCaption=s.formatMonthCaption),(null==s?void 0:s.formatYearCaption)&&!s.formatYearDropdown&&(s.formatYearDropdown=s.formatYearCaption),{...ar,...s}),labels:{...cr,...e.labels},locale:t,classNames:{...Js(),...e.classNames}};var s,r}),[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:l,mode:c,onDayBlur:d,onDayClick:m,onDayFocus:h,onDayKeyDown:p,onDayMouseEnter:x,onDayMouseLeave:f,onNextClick:g,onPrevClick:b,showWeekNumber:y,styles:v}=e,{formatCaption:j,formatDay:w,formatMonthDropdown:N,formatWeekNumber:k,formatWeekNumberHeader:C,formatWeekdayName:S,formatYearDropdown:F}=s,D=vr(e,a),{days:M,months:E,navStart:P,navEnd:L,previousMonth:T,nextMonth:A,goToMonth:z}=D,O=function(e,t,s){const{disabled:r,hidden:a,modifiers:n,showOutsideDays:o,broadcastCalendar:i,today:l}=t,{isSameDay:c,isSameMonth:d,startOfMonth:u,isBefore:m,endOfMonth:h,isAfter:p}=s,x=t.startMonth&&u(t.startMonth),f=t.endMonth&&h(t.endMonth),g={[Ps.focused]:[],[Ps.outside]:[],[Ps.disabled]:[],[Ps.hidden]:[],[Ps.today]:[]},b={};for(const y of e){const{date:e,displayMonth:t}=y,u=Boolean(t&&!d(e,t)),h=Boolean(x&&m(e,x)),v=Boolean(f&&p(e,f)),j=Boolean(r&&Pr(e,r,s)),w=Boolean(a&&Pr(e,a,s))||h||v||!i&&!o&&u||i&&!1===o&&u,N=c(e,l??s.today());u&&g.outside.push(y),j&&g.disabled.push(y),w&&g.hidden.push(y),N&&g.today.push(y),n&&Object.keys(n).forEach((t=>{const r=null==n?void 0:n[t];r&&Pr(e,r,s)&&(b[t]?b[t].push(y):b[t]=[y])}))}return e=>{const t={[Ps.focused]:!1,[Ps.disabled]:!1,[Ps.hidden]:!1,[Ps.outside]:!1,[Ps.today]:!1},s={};for(const r in g){const s=g[r];t[r]=s.some((t=>t===e))}for(const r in b)s[r]=b[r].some((t=>t===e));return{...t,...s}}}(M,e,a),{isSelected:$,select:W,selected:R}=$r(e,a)??{},{blur:I,focused:_,isFocusTarget:B,moveFocus:q,setFocused:U}=Tr(e,D,O,$??(()=>!1),a),{labelDayButton:Y,labelGridcell:V,labelGrid:H,labelMonthDropdown:G,labelNav:Q,labelWeekday:Z,labelWeekNumber:K,labelWeekNumberHeader:X,labelYearDropdown:J}=r,ee=n.useMemo((()=>function(e,t){const s=e.today(),r=t?e.startOfISOWeek(s):e.startOfWeek(s),a=[];for(let n=0;n<7;n++){const t=e.addDays(r,n);a.push(t)}return a}(a,e.ISOWeek)),[a,e.ISOWeek]),te=void 0!==c||void 0!==m,se=n.useCallback((()=>{T&&(z(T),null==b||b(T))}),[T,z,b]),re=n.useCallback((()=>{A&&(z(A),null==g||g(A))}),[z,A,g]),ae=n.useCallback(((e,t)=>s=>{s.preventDefault(),s.stopPropagation(),U(e),null==W||W(e.date,t,s),null==m||m(e.date,t,s)}),[W,m,U]),ne=n.useCallback(((e,t)=>s=>{U(e),null==h||h(e.date,t,s)}),[h,U]),oe=n.useCallback(((e,t)=>s=>{I(),null==d||d(e.date,t,s)}),[I,d]),ie=n.useCallback(((t,s)=>r=>{const a={ArrowLeft:["day","rtl"===e.dir?"after":"before"],ArrowRight:["day","rtl"===e.dir?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[r.shiftKey?"year":"month","before"],PageDown:[r.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(a[r.key]){r.preventDefault(),r.stopPropagation();const[e,t]=a[r.key];q(e,t)}null==p||p(t.date,s,r)}),[q,p,e.dir]),le=n.useCallback(((e,t)=>s=>{null==x||x(e.date,t,s)}),[x]),ce=n.useCallback(((e,t)=>s=>{null==f||f(e.date,t,s)}),[f]),de=n.useCallback((e=>t=>{const s=Number(t.target.value),r=a.setMonth(a.startOfMonth(e),s);z(r)}),[a,z]),ue=n.useCallback((e=>t=>{const s=Number(t.target.value),r=a.setYear(a.startOfMonth(e),s);z(r)}),[a,z]),{className:me,style:he}=n.useMemo((()=>({className:[i[Ms.Root],e.className].filter(Boolean).join(" "),style:{...null==v?void 0:v[Ms.Root],...e.style}})),[i,e.className,e.style,v]),pe=function(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0};return Object.entries(e).forEach((([e,s])=>{e.startsWith("data-")&&(t[e]=s)})),t}(e),xe=n.useRef(null);pr(xe,Boolean(e.animate),{classNames:i,months:E,focused:_,dateLib:a});const fe={dayPickerProps:e,selected:R,select:W,isSelected:$,months:E,nextMonth:A,previousMonth:T,goToMonth:z,getModifiers:O,components:t,classNames:i,styles:v,labels:r,formatters:s};return u.createElement(Zs.Provider,{value:fe},u.createElement(t.Root,{rootRef:e.animate?xe:void 0,className:me,style:he,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...pe},u.createElement(t.Months,{className:i[Ms.Months],style:null==v?void 0:v[Ms.Months]},!e.hideNavigation&&u.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:i[Ms.Nav],style:null==v?void 0:v[Ms.Nav],"aria-label":Q(),onPreviousClick:se,onNextClick:re,previousMonth:T,nextMonth:A}),E.map(((r,n)=>{const d=function(e,t,s,r,a){const{startOfMonth:n,startOfYear:o,endOfYear:i,eachMonthOfInterval:l,getMonth:c}=a;return l({start:o(e),end:i(e)}).map((e=>{const o=r.formatMonthDropdown(e,a);return{value:c(e),label:o,disabled:t&&e<n(t)||s&&e>n(s)||!1}}))}(r.date,P,L,s,a),m=function(e,t,s,r){if(!e)return;if(!t)return;const{startOfYear:a,endOfYear:n,addYears:o,getYear:i,isBefore:l,isSameYear:c}=r,d=a(e),u=n(t),m=[];let h=d;for(;l(h,u)||c(h,u);)m.push(h),h=o(h,1);return m.map((e=>{const t=s.formatYearDropdown(e,r);return{value:i(e),label:t,disabled:!1}}))}(P,L,s,a);return u.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:i[Ms.Month],style:null==v?void 0:v[Ms.Month],key:n,displayIndex:n,calendarMonth:r},u.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:i[Ms.MonthCaption],style:null==v?void 0:v[Ms.MonthCaption],calendarMonth:r,displayIndex:n},(null==l?void 0:l.startsWith("dropdown"))?u.createElement(t.DropdownNav,{className:i[Ms.Dropdowns],style:null==v?void 0:v[Ms.Dropdowns]},"dropdown"===l||"dropdown-months"===l?u.createElement(t.MonthsDropdown,{className:i[Ms.MonthsDropdown],"aria-label":G(),classNames:i,components:t,disabled:Boolean(e.disableNavigation),onChange:de(r.date),options:d,style:null==v?void 0:v[Ms.Dropdown],value:a.getMonth(r.date)}):u.createElement("span",null,N(r.date,a)),"dropdown"===l||"dropdown-years"===l?u.createElement(t.YearsDropdown,{className:i[Ms.YearsDropdown],"aria-label":J(a.options),classNames:i,components:t,disabled:Boolean(e.disableNavigation),onChange:ue(r.date),options:m,style:null==v?void 0:v[Ms.Dropdown],value:a.getYear(r.date)}):u.createElement("span",null,F(r.date,a)),u.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},j(r.date,a.options,a))):u.createElement(t.CaptionLabel,{className:i[Ms.CaptionLabel],role:"status","aria-live":"polite"},j(r.date,a.options,a))),u.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":"multiple"===c||"range"===c,"aria-label":H(r.date,a.options,a)||void 0,className:i[Ms.MonthGrid],style:null==v?void 0:v[Ms.MonthGrid]},!e.hideWeekdays&&u.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:i[Ms.Weekdays],style:null==v?void 0:v[Ms.Weekdays]},y&&u.createElement(t.WeekNumberHeader,{"aria-label":X(a.options),className:i[Ms.WeekNumberHeader],style:null==v?void 0:v[Ms.WeekNumberHeader],scope:"col"},C()),ee.map(((e,s)=>u.createElement(t.Weekday,{"aria-label":Z(e,a.options,a),className:i[Ms.Weekday],key:s,style:null==v?void 0:v[Ms.Weekday],scope:"col"},S(e,a.options,a))))),u.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:i[Ms.Weeks],style:null==v?void 0:v[Ms.Weeks]},r.weeks.map(((s,r)=>u.createElement(t.Week,{className:i[Ms.Week],key:s.weekNumber,style:null==v?void 0:v[Ms.Week],week:s},y&&u.createElement(t.WeekNumber,{week:s,style:null==v?void 0:v[Ms.WeekNumber],"aria-label":K(s.weekNumber,{locale:o}),className:i[Ms.WeekNumber],scope:"row",role:"rowheader"},k(s.weekNumber)),s.days.map((s=>{const{date:r}=s,n=O(s);if(n[Ps.focused]=!n.hidden&&Boolean(null==_?void 0:_.isEqualTo(s)),n[Ts.selected]=(null==$?void 0:$(r))||n.selected,Sr(R)){const{from:e,to:t}=R;n[Ts.range_start]=Boolean(e&&t&&a.isSameDay(r,e)),n[Ts.range_end]=Boolean(e&&t&&a.isSameDay(r,t)),n[Ts.range_middle]=kr(R,r,!0,a)}const o=function(e,t={},s={}){let r={...null==t?void 0:t[Ms.Day]};return Object.entries(e).filter((([,e])=>!0===e)).forEach((([e])=>{r={...r,...null==s?void 0:s[e]}})),r}(n,v,e.modifiersStyles),l=function(e,t,s={}){return Object.entries(e).filter((([,e])=>!0===e)).reduce(((e,[r])=>(s[r]?e.push(s[r]):t[Ps[r]]?e.push(t[Ps[r]]):t[Ts[r]]&&e.push(t[Ts[r]]),e)),[t[Ms.Day]])}(n,i,e.modifiersClassNames),c=te||n.hidden?void 0:V(r,n,a.options,a);return u.createElement(t.Day,{key:`${a.format(r,"yyyy-MM-dd")}_${a.format(s.displayMonth,"yyyy-MM")}`,day:s,modifiers:n,className:l.join(" "),style:o,role:"gridcell","aria-selected":n.selected||void 0,"aria-label":c,"data-day":a.format(r,"yyyy-MM-dd"),"data-month":s.outside?a.format(r,"yyyy-MM"):void 0,"data-selected":n.selected||void 0,"data-disabled":n.disabled||void 0,"data-hidden":n.hidden||void 0,"data-outside":s.outside||void 0,"data-focused":n.focused||void 0,"data-today":n.today||void 0},!n.hidden&&te?u.createElement(t.DayButton,{className:i[Ms.DayButton],style:null==v?void 0:v[Ms.DayButton],type:"button",day:s,modifiers:n,disabled:n.disabled||void 0,tabIndex:B(s)?0:-1,"aria-label":Y(r,n,a.options,a),onClick:ae(s,n),onBlur:oe(s,n),onFocus:ne(s,n),onKeyDown:ie(s,n),onMouseEnter:le(s,n),onMouseLeave:ce(s,n)},w(r,a.options,a)):!n.hidden&&w(s.date,a.options,a))}))))))))}))),e.footer&&u.createElement(t.Footer,{className:i[Ms.Footer],style:null==v?void 0:v[Ms.Footer],role:"status","aria-live":"polite"},e.footer)))}(wr=jr||(jr={}))[wr.Today=0]="Today",wr[wr.Selected=1]="Selected",wr[wr.LastFocused=2]="LastFocused",wr[wr.FocusedModifier=3]="FocusedModifier";const Rr=({onFilterChange:e})=>{const{t:s}=we(),[r,a]=n.useState(!1),[o,i]=n.useState("presets"),[l,c]=n.useState(null),[d,m]=n.useState(new Date),h=u.useRef(null),p=[{id:"today",name:s("reports.dateRanges.today"),getValue:()=>{const e=new Date;return{from:e,to:e}}},{id:"yesterday",name:s("reports.dateRanges.yesterday"),getValue:()=>{const e=gs(new Date,1);return{from:e,to:e}}},{id:"last7days",name:s("reports.dateRanges.last7days"),getValue:()=>{const e=new Date;return{from:gs(e,6),to:e}}},{id:"last30days",name:s("reports.dateRanges.last30days"),getValue:()=>{const e=new Date;return{from:gs(e,29),to:e}}},{id:"thisMonth",name:s("reports.dateRanges.thisMonth"),getValue:()=>{const e=new Date;return{from:Lt(e),to:e}}},{id:"lastMonth",name:s("reports.dateRanges.lastMonth"),getValue:()=>{const e=yt(new Date,-1,t);var t;return{from:Lt(e),to:Et(e)}}}];n.useEffect((()=>{const e=p.find((e=>"last7days"===e.id));if(e){const t=e.getValue();c(t),x(t)}}),[]),n.useEffect((()=>{function e(e){h.current&&!h.current.contains(e.target)&&a(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const x=t=>{if(c(t),t&&t.from){m(t.from);const s=xs(t.from,"yyyy-MM-dd"),r=t.to?xs(t.to,"yyyy-MM-dd"):s;e({startDate:s,endDate:r})}};return t.jsxs("div",{className:"relative w-full",children:[t.jsxs("button",{onClick:()=>a(!r),className:"flex w-full items-center justify-between rounded-md border border-gray-700 bg-secondary-bg py-2 px-3 text-white hover:bg-accent/10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(me,{className:"h-4 w-4 text-accent"}),t.jsx("span",{children:(null==l?void 0:l.from)?l.to&&l.to.getTime()!==l.from.getTime()?t.jsxs(t.Fragment,{children:[xs(l.from,"MMM dd, yyyy")," -"," ",xs(l.to,"MMM dd, yyyy")]}):xs(l.from,"MMM dd, yyyy"):t.jsx("span",{children:s("reports.selectDateRange")})})]}),t.jsx(he,{className:"h-4 w-4 text-gray-400"})]}),r&&t.jsxs("div",{ref:h,className:"absolute right-0 z-50 mt-2 w-80 rounded-md border border-gray-800 bg-secondary-bg p-4 shadow-lg animate-in",children:[t.jsx("div",{className:"mb-4",children:t.jsx("h3",{className:"text-base font-medium text-white",children:s("reports.selectDateRange")})}),t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex rounded-md bg-gray-800/40 p-1",children:[t.jsx("button",{onClick:()=>i("presets"),className:"flex-1 rounded-md py-1.5 text-sm font-medium transition-colors "+("presets"===o?"bg-accent/20 text-white":"text-gray-400 hover:text-white"),children:s("reports.dateRanges.presets")}),t.jsx("button",{onClick:()=>i("custom"),className:"flex-1 rounded-md py-1.5 text-sm font-medium transition-colors "+("custom"===o?"bg-accent/20 text-white":"text-gray-400 hover:text-white"),children:s("reports.dateRanges.custom")})]})}),"presets"===o?t.jsx("div",{className:"max-h-[300px] space-y-1 overflow-y-auto",children:p.map((e=>t.jsx("button",{className:"w-full rounded-md px-3 py-2 text-left text-sm text-white hover:bg-accent/10",onClick:()=>(e=>{const t=e.getValue();x(t),a(!1)})(e),children:e.name},e.id)))}):t.jsx("div",{className:"border-t border-gray-800 pt-3",children:t.jsx(Wr,{mode:"range",selected:l,onSelect:x,month:d,onMonthChange:m,numberOfMonths:1,disabled:[{after:new Date}],className:"rounded-md border border-gray-800",classNames:{day_selected:"bg-accent text-white",day_today:"border border-accent text-accent",day:"text-white hover:bg-accent/20",day_range_middle:"bg-accent/20 text-white",day_range_start:"bg-accent text-white rounded-l-md",day_range_end:"bg-accent text-white rounded-r-md",head_cell:"text-gray-400 font-normal",caption_label:"text-white font-medium",nav_button:"text-white opacity-70 hover:opacity-100",nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1"},styles:{caption:{color:"white"},day_selected:{backgroundColor:"#7E3FF2"},day_today:{borderColor:"#7E3FF2",color:"#7E3FF2"}}})})]})]})};function Ir(e){var t,s,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=Ir(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}const _r=e=>{const t=Yr(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const s=e.split("-");return""===s[0]&&1!==s.length&&s.shift(),Br(s,t)||Ur(e)},getConflictingClassGroupIds:(e,t)=>{const a=s[e]||[];return t&&r[e]?[...a,...r[e]]:a}}},Br=(e,t)=>{var s;if(0===e.length)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),n=a?Br(e.slice(1),a):void 0;if(n)return n;if(0===t.validators.length)return;const o=e.join("-");return null==(s=t.validators.find((({validator:e})=>e(o))))?void 0:s.classGroupId},qr=/^\[(.+)\]$/,Ur=e=>{if(qr.test(e)){const t=qr.exec(e)[1],s=null==t?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},Yr=e=>{const{theme:t,classGroups:s}=e,r={nextPart:new Map,validators:[]};for(const a in s)Vr(s[a],r,a,t);return r},Vr=(e,t,s,r)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return Gr(e)?void Vr(e(r),t,s,r):void t.validators.push({validator:e,classGroupId:s});Object.entries(e).forEach((([e,a])=>{Vr(a,Hr(t,e),s,r)}))}else{(""===e?t:Hr(t,e)).classGroupId=s}}))},Hr=(e,t)=>{let s=e;return t.split("-").forEach((e=>{s.nextPart.has(e)||s.nextPart.set(e,{nextPart:new Map,validators:[]}),s=s.nextPart.get(e)})),s},Gr=e=>e.isThemeGetter,Qr=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const a=(a,n)=>{s.set(a,n),t++,t>e&&(t=0,r=s,s=new Map)};return{get(e){let t=s.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(a(e,t),t):void 0},set(e,t){s.has(e)?s.set(e,t):a(e,t)}}},Zr=e=>{const{prefix:t,experimentalParseClassName:s}=e;let r=e=>{const t=[];let s,r=0,a=0,n=0;for(let l=0;l<e.length;l++){let o=e[l];if(0===r&&0===a){if(":"===o){t.push(e.slice(n,l)),n=l+1;continue}if("/"===o){s=l;continue}}"["===o?r++:"]"===o?r--:"("===o?a++:")"===o&&a--}const o=0===t.length?e:e.substring(n),i=Kr(o);return{modifiers:t,hasImportantModifier:i!==o,baseClassName:i,maybePostfixModifierPosition:s&&s>n?s-n:void 0}};if(t){const e=t+":",s=r;r=t=>t.startsWith(e)?s(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(s){const e=r;r=t=>s({className:t,parseClassName:e})}return r},Kr=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,Xr=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map((e=>[e,!0])));return e=>{if(e.length<=1)return e;const s=[];let r=[];return e.forEach((e=>{"["===e[0]||t[e]?(s.push(...r.sort(),e),r=[]):r.push(e)})),s.push(...r.sort()),s}},Jr=/\s+/;function ea(){let e,t,s=0,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=ta(e))&&(r&&(r+=" "),r+=t);return r}const ta=e=>{if("string"==typeof e)return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=ta(e[r]))&&(s&&(s+=" "),s+=t);return s};function sa(e,...t){let s,r,a,n=function(i){const l=t.reduce(((e,t)=>t(e)),e());return s=(e=>({cache:Qr(e.cacheSize),parseClassName:Zr(e),sortModifiers:Xr(e),..._r(e)}))(l),r=s.cache.get,a=s.cache.set,n=o,o(i)};function o(e){const t=r(e);if(t)return t;const n=((e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:n}=t,o=[],i=e.trim().split(Jr);let l="";for(let c=i.length-1;c>=0;c-=1){const e=i[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:h}=s(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!h,x=r(p?m.substring(0,h):m);if(!x){if(!p){l=e+(l.length>0?" "+l:l);continue}if(x=r(m),!x){l=e+(l.length>0?" "+l:l);continue}p=!1}const f=n(d).join(":"),g=u?f+"!":f,b=g+x;if(o.includes(b))continue;o.push(b);const y=a(x,p);for(let s=0;s<y.length;++s){const e=y[s];o.push(g+e)}l=e+(l.length>0?" "+l:l)}return l})(e,s);return a(e,n),n}return function(){return n(ea.apply(null,arguments))}}const ra=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},aa=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,na=/^\((?:(\w[\w-]*):)?(.+)\)$/i,oa=/^\d+\/\d+$/,ia=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,la=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ca=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,da=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ua=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ma=e=>oa.test(e),ha=e=>!!e&&!Number.isNaN(Number(e)),pa=e=>!!e&&Number.isInteger(Number(e)),xa=e=>e.endsWith("%")&&ha(e.slice(0,-1)),fa=e=>ia.test(e),ga=()=>!0,ba=e=>la.test(e)&&!ca.test(e),ya=()=>!1,va=e=>da.test(e),ja=e=>ua.test(e),wa=e=>!ka(e)&&!Ea(e),Na=e=>$a(e,_a,ya),ka=e=>aa.test(e),Ca=e=>$a(e,Ba,ba),Sa=e=>$a(e,qa,ha),Fa=e=>$a(e,Ra,ya),Da=e=>$a(e,Ia,ja),Ma=e=>$a(e,Ya,va),Ea=e=>na.test(e),Pa=e=>Wa(e,Ba),La=e=>Wa(e,Ua),Ta=e=>Wa(e,Ra),Aa=e=>Wa(e,_a),za=e=>Wa(e,Ia),Oa=e=>Wa(e,Ya,!0),$a=(e,t,s)=>{const r=aa.exec(e);return!!r&&(r[1]?t(r[1]):s(r[2]))},Wa=(e,t,s=!1)=>{const r=na.exec(e);return!!r&&(r[1]?t(r[1]):s)},Ra=e=>"position"===e||"percentage"===e,Ia=e=>"image"===e||"url"===e,_a=e=>"length"===e||"size"===e||"bg-size"===e,Ba=e=>"length"===e,qa=e=>"number"===e,Ua=e=>"family-name"===e,Ya=e=>"shadow"===e,Va=sa((()=>{const e=ra("color"),t=ra("font"),s=ra("text"),r=ra("font-weight"),a=ra("tracking"),n=ra("leading"),o=ra("breakpoint"),i=ra("container"),l=ra("spacing"),c=ra("radius"),d=ra("shadow"),u=ra("inset-shadow"),m=ra("text-shadow"),h=ra("drop-shadow"),p=ra("blur"),x=ra("perspective"),f=ra("aspect"),g=ra("ease"),b=ra("animate"),y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Ea,ka],v=()=>[Ea,ka,l],j=()=>[ma,"full","auto",...v()],w=()=>[pa,"none","subgrid",Ea,ka],N=()=>["auto",{span:["full",pa,Ea,ka]},pa,Ea,ka],k=()=>[pa,"auto",Ea,ka],C=()=>["auto","min","max","fr",Ea,ka],S=()=>["auto",...v()],F=()=>[ma,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],D=()=>[e,Ea,ka],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Ta,Fa,{position:[Ea,ka]}],E=()=>["auto","cover","contain",Aa,Na,{size:[Ea,ka]}],P=()=>[xa,Pa,Ca],L=()=>["","none","full",c,Ea,ka],T=()=>["",ha,Pa,Ca],A=()=>[ha,xa,Ta,Fa],z=()=>["","none",p,Ea,ka],O=()=>["none",ha,Ea,ka],$=()=>["none",ha,Ea,ka],W=()=>[ha,Ea,ka],R=()=>[ma,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fa],breakpoint:[fa],color:[ga],container:[fa],"drop-shadow":[fa],ease:["in","out","in-out"],font:[wa],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fa],shadow:[fa],spacing:["px",ha],text:[fa],"text-shadow":[fa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ma,ka,Ea,f]}],container:["container"],columns:[{columns:[ha,ka,Ea,i]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[pa,"auto",Ea,ka]}],basis:[{basis:[ma,"full","auto",i,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ha,ma,"auto","initial","none",ka]}],grow:[{grow:["",ha,Ea,ka]}],shrink:[{shrink:["",ha,Ea,ka]}],order:[{order:[pa,"first","last","none",Ea,ka]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[i,"screen",...F()]}],"min-w":[{"min-w":[i,"screen","none",...F()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[o]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",s,Pa,Ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ea,Sa]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xa,ka]}],"font-family":[{font:[La,ka,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ea,ka]}],"line-clamp":[{"line-clamp":[ha,"none",Ea,Sa]}],leading:[{leading:[n,...v()]}],"list-image":[{"list-image":["none",Ea,ka]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ea,ka]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[ha,"from-font","auto",Ea,Ca]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[ha,"auto",Ea,ka]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ea,ka]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ea,ka]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:E()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},pa,Ea,ka],radial:["",Ea,ka],conic:[pa,Ea,ka]},za,Da]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:T()}],"border-w-x":[{"border-x":T()}],"border-w-y":[{"border-y":T()}],"border-w-s":[{"border-s":T()}],"border-w-e":[{"border-e":T()}],"border-w-t":[{"border-t":T()}],"border-w-r":[{"border-r":T()}],"border-w-b":[{"border-b":T()}],"border-w-l":[{"border-l":T()}],"divide-x":[{"divide-x":T()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":T()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[ha,Ea,ka]}],"outline-w":[{outline:["",ha,Pa,Ca]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",d,Oa,Ma]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",u,Oa,Ma]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[ha,Ca]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":T()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",m,Oa,Ma]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[ha,Ea,ka]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ha]}],"mask-image-linear-from-pos":[{"mask-linear-from":A()}],"mask-image-linear-to-pos":[{"mask-linear-to":A()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":A()}],"mask-image-t-to-pos":[{"mask-t-to":A()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":A()}],"mask-image-r-to-pos":[{"mask-r-to":A()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":A()}],"mask-image-b-to-pos":[{"mask-b-to":A()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":A()}],"mask-image-l-to-pos":[{"mask-l-to":A()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":A()}],"mask-image-x-to-pos":[{"mask-x-to":A()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":A()}],"mask-image-y-to-pos":[{"mask-y-to":A()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[Ea,ka]}],"mask-image-radial-from-pos":[{"mask-radial-from":A()}],"mask-image-radial-to-pos":[{"mask-radial-to":A()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[ha]}],"mask-image-conic-from-pos":[{"mask-conic-from":A()}],"mask-image-conic-to-pos":[{"mask-conic-to":A()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:E()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ea,ka]}],filter:[{filter:["","none",Ea,ka]}],blur:[{blur:z()}],brightness:[{brightness:[ha,Ea,ka]}],contrast:[{contrast:[ha,Ea,ka]}],"drop-shadow":[{"drop-shadow":["","none",h,Oa,Ma]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",ha,Ea,ka]}],"hue-rotate":[{"hue-rotate":[ha,Ea,ka]}],invert:[{invert:["",ha,Ea,ka]}],saturate:[{saturate:[ha,Ea,ka]}],sepia:[{sepia:["",ha,Ea,ka]}],"backdrop-filter":[{"backdrop-filter":["","none",Ea,ka]}],"backdrop-blur":[{"backdrop-blur":z()}],"backdrop-brightness":[{"backdrop-brightness":[ha,Ea,ka]}],"backdrop-contrast":[{"backdrop-contrast":[ha,Ea,ka]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ha,Ea,ka]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ha,Ea,ka]}],"backdrop-invert":[{"backdrop-invert":["",ha,Ea,ka]}],"backdrop-opacity":[{"backdrop-opacity":[ha,Ea,ka]}],"backdrop-saturate":[{"backdrop-saturate":[ha,Ea,ka]}],"backdrop-sepia":[{"backdrop-sepia":["",ha,Ea,ka]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ea,ka]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ha,"initial",Ea,ka]}],ease:[{ease:["linear","initial",g,Ea,ka]}],delay:[{delay:[ha,Ea,ka]}],animate:[{animate:["none",b,Ea,ka]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ea,ka]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:O()}],"rotate-x":[{"rotate-x":O()}],"rotate-y":[{"rotate-y":O()}],"rotate-z":[{"rotate-z":O()}],scale:[{scale:$()}],"scale-x":[{"scale-x":$()}],"scale-y":[{"scale-y":$()}],"scale-z":[{"scale-z":$()}],"scale-3d":["scale-3d"],skew:[{skew:W()}],"skew-x":[{"skew-x":W()}],"skew-y":[{"skew-y":W()}],transform:[{transform:[Ea,ka,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:R()}],"translate-x":[{"translate-x":R()}],"translate-y":[{"translate-y":R()}],"translate-z":[{"translate-z":R()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ea,ka]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ea,ka]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[ha,Pa,Ca,Sa]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}));function Ha(...e){return Va(function(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=Ir(e))&&(r&&(r+=" "),r+=t);return r}(e))}const Ga=n.createContext({value:"",onValueChange:()=>{}}),Qa=n.forwardRef((({className:e,value:s,onValueChange:r,defaultValue:a,children:o,...i},l)=>{const[c,d]=n.useState(s||a||"");n.useEffect((()=>{void 0!==s&&d(s)}),[s]);const u=n.useCallback((e=>{d(e),r&&r(e)}),[r]),m=n.useMemo((()=>({value:c,onValueChange:u})),[c,u]);return t.jsx(Ga.Provider,{value:m,children:t.jsx("div",{ref:l,className:Ha("w-full",e),...i,children:o})})}));Qa.displayName="Tabs";const Za=()=>n.useContext(Ga),Ka=n.forwardRef((({className:e,...s},r)=>t.jsx("div",{ref:r,role:"tablist",className:Ha("flex flex-wrap bg-secondary-bg rounded-md",e),...s})));Ka.displayName="TabsList";const Xa=n.forwardRef((({className:e,value:s,...r},a)=>{const{value:n,onValueChange:o}=Za(),i=n===s;return t.jsx("button",{ref:a,type:"button",role:"tab","aria-selected":i,"data-state":i?"active":"inactive",onClick:()=>o(s),className:Ha("inline-flex items-center justify-center whitespace-nowrap px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-accent/10 data-[state=active]:text-white",e),...r})}));Xa.displayName="TabsTrigger";const Ja=n.forwardRef((({className:e,value:s,...r},a)=>{const{value:n}=Za(),o=n===s;return o?t.jsx("div",{ref:a,role:"tabpanel",tabIndex:0,"data-state":o?"active":"inactive",className:Ha("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2",e),...r}):null}));Ja.displayName="TabsContent";const en=n.forwardRef((({className:e,...s},r)=>t.jsx("div",{ref:r,className:Ha("rounded-lg border border-gray-800 bg-secondary-bg text-white shadow-sm",e),...s})));en.displayName="Card";n.forwardRef((({className:e,...s},r)=>t.jsx("div",{ref:r,className:Ha("flex flex-col space-y-1.5 p-6",e),...s}))).displayName="CardHeader";n.forwardRef((({className:e,...s},r)=>t.jsx("h3",{ref:r,className:Ha("text-2xl font-semibold leading-none tracking-tight",e),...s}))).displayName="CardTitle";n.forwardRef((({className:e,...s},r)=>t.jsx("p",{ref:r,className:Ha("text-sm text-gray-400",e),...s}))).displayName="CardDescription";const tn=n.forwardRef((({className:e,...s},r)=>t.jsx("div",{ref:r,className:Ha("p-6 pt-0",e),...s})));tn.displayName="CardContent";n.forwardRef((({className:e,...s},r)=>t.jsx("div",{ref:r,className:Ha("flex items-center p-6 pt-0",e),...s}))).displayName="CardFooter";const sn=()=>{const{t:e}=we(),{clearAllReportData:s}=ks(),[r,a]=n.useState("sales"),[o,i]=n.useState({startDate:(new Date).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0]}),[l,c]=n.useState(null);return n.useEffect((()=>()=>{c(null)}),[]),t.jsxs("div",{className:"container py-6 space-y-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6 items-start md:items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-1",children:e("navigation.reports")}),t.jsx("p",{className:"text-gray-400",children:e("reports.description")})]}),t.jsx("div",{className:"w-full md:w-64",children:t.jsx(Rr,{onFilterChange:e=>{i(e)}})})]}),l&&t.jsx("div",{className:"bg-error/10 border border-error/20 text-error p-4 rounded-lg mb-4",children:l}),t.jsxs(Qa,{value:r,onValueChange:e=>{try{console.log("Tab changing from",r,"to",e),console.log("Clearing report data"),s(),console.log("Setting active tab to",e),a(e),c(null)}catch(t){console.error("Error switching tabs:",t),c("Error switching tabs. Please try again.")}},className:"w-full",children:[t.jsxs(Ka,{className:"h-auto bg-secondary-bg border border-gray-800 rounded-lg p-1 mb-6 flex overflow-x-auto",children:[t.jsxs(Xa,{value:"sales",className:"flex-1 flex items-center justify-center gap-2 py-2.5 px-4 data-[state=active]:bg-accent/10 data-[state=active]:text-white font-medium",children:[t.jsx(S,{className:"h-4 w-4"}),e("reports.tabs.sales")]}),t.jsxs(Xa,{value:"inventory",className:"flex-1 flex items-center justify-center gap-2 py-2.5 px-4 data-[state=active]:bg-accent/10 data-[state=active]:text-white font-medium",children:[t.jsx(F,{className:"h-4 w-4"}),e("reports.tabs.inventory")]}),t.jsxs(Xa,{value:"staff",className:"flex-1 flex items-center justify-center gap-2 py-2.5 px-4 data-[state=active]:bg-accent/10 data-[state=active]:text-white font-medium",children:[t.jsx(D,{className:"h-4 w-4"}),e("reports.tabs.staff")]}),t.jsxs(Xa,{value:"customers",className:"flex-1 flex items-center justify-center gap-2 py-2.5 px-4 data-[state=active]:bg-accent/10 data-[state=active]:text-white font-medium",children:[t.jsx(pe,{className:"h-4 w-4"}),e("reports.tabs.customers")]})]}),t.jsx(Ja,{value:"sales",className:"mt-0",children:t.jsx(en,{className:"bg-secondary-bg border-gray-800",children:t.jsx(tn,{className:"p-6",children:t.jsx(Cs,{dateRange:o},`sales-${o.startDate}-${o.endDate}`)})})}),t.jsx(Ja,{value:"inventory",className:"mt-0",children:t.jsx(en,{className:"bg-secondary-bg border-gray-800",children:t.jsx(tn,{className:"p-6",children:t.jsx(Ss,{dateRange:o},`inventory-${o.startDate}-${o.endDate}`)})})}),t.jsx(Ja,{value:"staff",className:"mt-0",children:t.jsx(en,{className:"bg-secondary-bg border-gray-800",children:t.jsx(tn,{className:"p-6",children:t.jsx(Fs,{dateRange:o},`staff-${o.startDate}-${o.endDate}`)})})}),t.jsx(Ja,{value:"customers",className:"mt-0",children:t.jsx(en,{className:"bg-secondary-bg border-gray-800",children:t.jsx(tn,{className:"p-6",children:t.jsx(Ds,{dateRange:o},`customers-${o.startDate}-${o.endDate}`)})})})]})]})},rn=()=>{const{t:e}=we(),s=[{id:"general",name:e("settings.general.title","General Settings"),description:e("settings.general.description","Store information, language, and regional settings"),icon:xe,path:"/settings/general"},{id:"loyalty",name:e("settings.loyalty.title","Loyalty Program"),description:e("settings.loyalty.description","Configure points, rewards, and customer tiers"),icon:Q,path:"/settings/loyalty"},{id:"payments",name:e("settings.payments.title","Payment Methods"),description:e("settings.payments.description","Configure payment options and processors"),icon:ee,path:"/settings/payments"},{id:"receipts",name:e("settings.receipts.title","Receipts & Printing"),description:e("settings.receipts.description","Receipt templates and printer settings"),icon:V,path:"/settings/receipts"},{id:"users",name:e("settings.users.title","User Permissions"),description:e("settings.users.description","Manage role-based access control"),icon:D,path:"/settings/users"},{id:"notifications",name:e("settings.notifications.title","Notifications"),description:e("settings.notifications.description","Configure alerts and automated messages"),icon:fe,path:"/settings/notifications"}];return t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold mb-6",children:[t.jsx(P,{className:"inline-block mr-2",size:24}),e("navigation.settings")]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((e=>t.jsx(c,{to:e.path,className:"card bg-base-200 shadow-md hover:shadow-lg transition-shadow duration-300",children:t.jsxs("div",{className:"card-body",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(e.icon,{className:"text-primary mr-3",size:24}),t.jsx("h2",{className:"card-title text-lg",children:e.name})]}),t.jsx(N,{size:20,className:"text-gray-500"})]}),t.jsx("p",{className:"text-sm text-gray-400 mt-2",children:e.description})]})},e.id)))}),t.jsx("div",{className:"mt-8 p-4 bg-base-200 rounded-lg border border-gray-700",children:t.jsx("p",{className:"text-gray-400 text-center",children:e("settings.someNotImplemented","Some settings pages are not fully implemented yet")})})]})},an=()=>{var s,r,a,o,i,l,d;const{t:u}=we(),[m,h]=n.useState(null),[p,x]=n.useState(!0),[g,b]=n.useState(!1),[y,v]=n.useState(null);n.useEffect((()=>{(async()=>{try{x(!0),v(null);const t=await e.get("/api/loyalty/settings");h(t.data.data)}catch(t){console.error("Error fetching loyalty settings:",t),v(u("settings.loyalty.fetchError","Failed to load loyalty settings")),ye.error(u("settings.loyalty.fetchError","Failed to load loyalty settings"))}finally{x(!1)}})()}),[u]);const j=(e,t)=>{h((s=>({...s,[e]:t})))},w=(e,t,s)=>{const r=[...m.tiers];r[e]={...r[e],[t]:s},h((e=>({...e,tiers:r})))};return p?t.jsxs("div",{className:"container mx-auto p-6",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsxs(c,{to:"/settings",className:"mr-3 btn btn-sm btn-ghost",children:[t.jsx(ge,{size:18}),t.jsx("span",{className:"ml-1",children:u("common.back")})]}),t.jsx("h1",{className:"text-2xl font-bold",children:u("settings.loyalty.title")})]}),t.jsx("div",{className:"flex justify-center items-center h-48",children:t.jsx("div",{className:"loading loading-spinner loading-lg"})})]}):y||!m?t.jsxs("div",{className:"container mx-auto p-6",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsxs(c,{to:"/settings",className:"mr-3 btn btn-sm btn-ghost",children:[t.jsx(ge,{size:18}),t.jsx("span",{className:"ml-1",children:u("common.back")})]}),t.jsx("h1",{className:"text-2xl font-bold",children:u("settings.loyalty.title")})]}),t.jsxs("div",{className:"p-6 bg-error/10 text-error rounded-lg",children:[t.jsx("p",{children:y||u("settings.loyalty.noSettings","No settings found")}),t.jsx("button",{className:"btn btn-outline btn-error btn-sm mt-4",onClick:()=>window.location.reload(),children:u("common.retry","Retry")})]})]}):t.jsxs("div",{className:"container mx-auto p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs(c,{to:"/settings",className:"mr-3 btn btn-sm btn-ghost",children:[t.jsx(ge,{size:18}),t.jsx("span",{className:"ml-1",children:u("common.back")})]}),t.jsx("h1",{className:"text-2xl font-bold",children:u("settings.loyalty.title")})]}),t.jsxs("button",{className:"btn btn-primary flex items-center gap-2",onClick:async()=>{try{b(!0),await e.put("/api/loyalty/settings",m),ye.success(u("settings.loyalty.saveSuccess","Settings saved successfully"))}catch(t){console.error("Error saving loyalty settings:",t),ye.error(u("settings.loyalty.saveError","Failed to save settings"))}finally{b(!1)}},disabled:g,children:[g?t.jsx("span",{className:"loading loading-spinner loading-sm"}):t.jsx(be,{size:18}),t.jsx("span",{children:u("common.save")})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"card bg-base-200 shadow-md p-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:u("settings.loyalty.basicSettings")}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.enabled")})}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"toggle toggle-primary",checked:m.enabled,onChange:e=>j("enabled",e.target.checked)}),t.jsx("span",{className:"ml-2",children:m.enabled?u("settings.loyalty.programActive"):u("settings.loyalty.programInactive")})]})]}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.pointsPerDollar")})}),t.jsx("input",{type:"number",className:"input input-bordered",value:m.pointsPerDollar,onChange:e=>j("pointsPerDollar",parseFloat(e.target.value)),min:"0",step:"0.1"}),t.jsx("label",{className:"label",children:t.jsxs("span",{className:"label-text-alt text-info flex items-center",children:[t.jsx(f,{size:14,className:"mr-1"}),u("settings.loyalty.pointsPerDollarHelp")]})})]}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.redemptionRate")})}),t.jsx("input",{type:"number",className:"input input-bordered",value:m.redemptionRate,onChange:e=>j("redemptionRate",parseFloat(e.target.value)),min:"0",step:"0.001"}),t.jsx("label",{className:"label",children:t.jsxs("span",{className:"label-text-alt text-info flex items-center",children:[t.jsx(f,{size:14,className:"mr-1"}),u("settings.loyalty.redemptionRateHelp")]})})]}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.minimumPoints")})}),t.jsx("input",{type:"number",className:"input input-bordered",value:m.minimumPoints,onChange:e=>j("minimumPoints",parseInt(e.target.value)),min:"0"})]}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.minimumRedemption")})}),t.jsx("input",{type:"number",className:"input input-bordered",value:m.minimumRedemption,onChange:e=>j("minimumRedemption",parseInt(e.target.value)),min:"0"})]}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.maximumRedemptionValue")})}),t.jsx("input",{type:"number",className:"input input-bordered",value:m.maximumRedemptionValue,onChange:e=>j("maximumRedemptionValue",parseFloat(e.target.value)),min:"0"})]})]}),t.jsxs("div",{className:"card bg-base-200 shadow-md p-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:u("settings.loyalty.statusTiers")}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.silverThreshold")})}),t.jsx("input",{type:"number",className:"input input-bordered",value:(null==(s=m.statusTiers)?void 0:s.silver)||0,onChange:e=>j("statusTiers",{...m.statusTiers,silver:parseFloat(e.target.value)}),min:"0"})]}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.goldThreshold")})}),t.jsx("input",{type:"number",className:"input input-bordered",value:(null==(r=m.statusTiers)?void 0:r.gold)||0,onChange:e=>j("statusTiers",{...m.statusTiers,gold:parseFloat(e.target.value)}),min:"0"})]}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.platinumThreshold")})}),t.jsx("input",{type:"number",className:"input input-bordered",value:(null==(a=m.statusTiers)?void 0:a.platinum)||0,onChange:e=>j("statusTiers",{...m.statusTiers,platinum:parseFloat(e.target.value)}),min:"0"})]}),t.jsx("h3",{className:"text-lg font-semibold mt-6 mb-4",children:u("settings.loyalty.statusMultipliers")}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.standardMultiplier")})}),t.jsx("input",{type:"number",className:"input input-bordered",value:(null==(o=m.statusMultipliers)?void 0:o.standard)||1,onChange:e=>j("statusMultipliers",{...m.statusMultipliers,standard:parseFloat(e.target.value)}),min:"1",step:"0.1"})]}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.silverMultiplier")})}),t.jsx("input",{type:"number",className:"input input-bordered",value:(null==(i=m.statusMultipliers)?void 0:i.silver)||1,onChange:e=>j("statusMultipliers",{...m.statusMultipliers,silver:parseFloat(e.target.value)}),min:"1",step:"0.1"})]}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.goldMultiplier")})}),t.jsx("input",{type:"number",className:"input input-bordered",value:(null==(l=m.statusMultipliers)?void 0:l.gold)||1,onChange:e=>j("statusMultipliers",{...m.statusMultipliers,gold:parseFloat(e.target.value)}),min:"1",step:"0.1"})]}),t.jsxs("div",{className:"form-control mb-4",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:u("settings.loyalty.platinumMultiplier")})}),t.jsx("input",{type:"number",className:"input input-bordered",value:(null==(d=m.statusMultipliers)?void 0:d.platinum)||1,onChange:e=>j("statusMultipliers",{...m.statusMultipliers,platinum:parseFloat(e.target.value)}),min:"1",step:"0.1"})]})]})]}),t.jsxs("div",{className:"card bg-base-200 shadow-md p-6 mt-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold",children:u("settings.loyalty.purchaseTiers")}),t.jsxs("button",{className:"btn btn-sm btn-primary flex items-center gap-1",onClick:()=>{const e={threshold:0,bonusType:"fixed",bonusValue:0};h((t=>({...t,tiers:[...t.tiers||[],e]})))},children:[t.jsx(X,{size:16}),t.jsx("span",{children:u("settings.loyalty.addTier")})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"table w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:u("settings.loyalty.threshold")}),t.jsx("th",{children:u("settings.loyalty.bonusType")}),t.jsx("th",{children:u("settings.loyalty.bonusValue")}),t.jsx("th",{})]})}),t.jsx("tbody",{children:m.tiers&&m.tiers.length>0?m.tiers.map(((e,s)=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("input",{type:"number",className:"input input-bordered w-full",value:e.threshold,onChange:e=>w(s,"threshold",parseFloat(e.target.value)),min:"0"})}),t.jsx("td",{children:t.jsxs("select",{className:"select select-bordered w-full",value:e.bonusType,onChange:e=>w(s,"bonusType",e.target.value),children:[t.jsx("option",{value:"fixed",children:u("settings.loyalty.fixed")}),t.jsx("option",{value:"percentage",children:u("settings.loyalty.percentage")})]})}),t.jsx("td",{children:t.jsx("input",{type:"number",className:"input input-bordered w-full",value:e.bonusValue,onChange:e=>w(s,"bonusValue",parseFloat(e.target.value)),min:"0",step:(e.bonusType,"1")})}),t.jsx("td",{children:t.jsx("button",{className:"btn btn-sm btn-error",onClick:()=>(e=>{const t=[...m.tiers];t.splice(e,1),h((e=>({...e,tiers:t})))})(s),children:t.jsx(J,{size:16})})})]},s))):t.jsx("tr",{children:t.jsx("td",{colSpan:"4",className:"text-center py-4",children:u("settings.loyalty.noTiers")})})})]})}),t.jsx("div",{className:"mt-4 text-sm text-gray-500",children:t.jsxs("p",{className:"flex items-center",children:[t.jsx(f,{size:14,className:"mr-1"}),u("settings.loyalty.tiersHelp")]})})]})]})},nn=()=>{const{t:e}=we();return t.jsx("div",{className:"min-h-screen bg-primary-bg flex flex-col items-center justify-center text-center p-4",children:t.jsxs("div",{className:"space-y-6 max-w-md",children:[t.jsx("h1",{className:"text-9xl font-bold text-accent",children:"404"}),t.jsx("h2",{className:"text-2xl font-medium",children:e("common.error")}),t.jsx("p",{className:"text-gray-400",children:"The page you are looking for doesn't exist or has been moved."}),t.jsxs(c,{to:"/",className:"btn btn-primary inline-flex items-center space-x-2",children:[t.jsx(ve,{size:20}),t.jsx("span",{children:"Go to Homepage"})]})]})})};function on(){const{isAuthenticated:e,user:s}=Pe(),{i18n:r}=we();return n.useEffect((()=>{(null==s?void 0:s.languagePreference)&&(r.changeLanguage(s.languagePreference),"ku"===s.languagePreference?document.documentElement.classList.add("rtl"):document.documentElement.classList.remove("rtl"))}),[s,r]),t.jsxs(t.Fragment,{children:[t.jsx(je,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"}}}),t.jsx(Le,{}),t.jsxs(m,{children:[t.jsx(h,{element:t.jsx(Te,{}),children:t.jsx(h,{path:"/login",element:e?t.jsx(p,{to:"/"}):t.jsx(Ie,{})})}),t.jsxs(h,{element:t.jsx(Re,{}),children:[t.jsx(h,{path:"/",element:e?t.jsx(Ue,{}):t.jsx(p,{to:"/login"})}),t.jsx(h,{path:"/pos",element:e?t.jsx(tt,{}):t.jsx(p,{to:"/login"})}),t.jsx(h,{path:"/inventory/products",element:e?t.jsx(st,{}):t.jsx(p,{to:"/login"})}),t.jsx(h,{path:"/inventory/products/add",element:e?t.jsx(at,{}):t.jsx(p,{to:"/login"})}),t.jsx(h,{path:"/inventory/products/edit/:id",element:e?t.jsx(ot,{}):t.jsx(p,{to:"/login"})}),t.jsx(h,{path:"/inventory/categories/add",element:e?t.jsx(lt,{}):t.jsx(p,{to:"/login"})}),t.jsx(h,{path:"/inventory",element:e?t.jsx(p,{to:"/inventory/products"}):t.jsx(p,{to:"/login"})}),t.jsx(h,{path:"/customers",element:e?t.jsx(ut,{}):t.jsx(p,{to:"/login"})}),t.jsx(h,{path:"/staff",element:e?t.jsx(vs,{}):t.jsx(p,{to:"/login"})}),t.jsx(h,{path:"/reports",element:e?t.jsx(sn,{}):t.jsx(p,{to:"/login"})}),t.jsx(h,{path:"/settings",element:e?t.jsx(rn,{}):t.jsx(p,{to:"/login"})}),t.jsx(h,{path:"/settings/loyalty",element:e?t.jsx(an,{}):t.jsx(p,{to:"/login"})})]}),t.jsx(h,{path:"*",element:t.jsx(nn,{})})]})]})}const ln={en:{translation:{app:{title:"Lîstik",tagline:"Comprehensive Point-of-Sale System"},auth:{login:"Login",logout:"Logout",username:"Username",password:"Password",rememberMe:"Remember me",forgotPassword:"Forgot password?",loginButton:"Sign In",invalidCredentials:"Invalid username or password"},dashboard:{welcome:"Welcome",todaySales:"Today's Sales",totalProducts:"Total Products",lowStock:"Low Stock Items",activeUsers:"Active Users",recentTransactions:"Recent Transactions",topProducts:"Top Products",quickActions:"Quick Actions",newSale:"New Sale",addProduct:"Add Product",addCustomer:"Add Customer",refresh:"Refresh",loading:"Loading data...",viewAll:"View All",noTransactions:"No recent transactions found"},navigation:{dashboard:"Dashboard",pos:"Point of Sale",inventory:"Inventory",customers:"Customers",staff:"Staff",reports:"Reports",settings:"Settings"},pos:{checkout:"Checkout",cart:"Cart",item:"Item",items:"Items",emptyCart:"Your cart is empty",scanBarcode:"Scan Barcode",searchProducts:"Search Products",addToCart:"Add to Cart",quantity:"Quantity",price:"Price",discount:"Discount",discountAmount:"Discount Amount",subtotal:"Subtotal",tax:"Tax",total:"Total",customer:"Customer",selectCustomer:"Select Customer",noCustomer:"No Customer",addNewCustomer:"Add New Customer",paymentMethod:"Payment Method",cash:"Cash",card:"Card",bankTransfer:"Bank Transfer",other:"Other",completePayment:"Complete Payment",cancel:"Cancel",generateReceipt:"Generate Receipt",changeAmount:"Change",amountReceived:"Amount Received",orderSummary:"Order Summary",removeItem:"Remove Item",continueShoppingAction:"Continue Shopping",all:"All",consoles:"Consoles",accessories:"Accessories",monitors:"Monitors",components:"Components"},products:{products:"Products",addProduct:"Add Product",add:"Add Product",addFirst:"Add Your First Product",editProduct:"Edit Product",deleteProduct:"Delete Product",productName:"Product Name",description:"Description",category:"Category",price:"Price",cost:"Cost",profit:"Profit",quantity:"Quantity",sku:"SKU",barcode:"Barcode",generateBarcode:"Generate Barcode",clearBarcode:"Clear Barcode",barcodeHint:"Barcode is auto-generated for new products. You can generate a new one or enter manually.",exportBarcodes:"Export Barcodes",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",reorderLevel:"Reorder Level",selectCategory:"Select Category",attributes:"Attributes",actions:"Actions",save:"Save",cancel:"Cancel",nameEn:"Name (English)",nameKu:"Name (Kurdish)",descriptionEn:"Description (English)",descriptionKu:"Description (Kurdish)",chooseSource:"Choose Product Source",useExisting:"Use existing product (copy product details and add new barcode)",searchProducts:"Search Products",searchPlaceholder:"Search by name, SKU, or barcode...",stock:"Stock",basicInfo:"Basic Information",pricingInventory:"Pricing & Inventory",active:"Active product (available for sale)",addSuccess:"Product added successfully",quantityNote:"Note: Each barcode represents a single item. Quantity will be incremented by 1 automatically.",noProductsFound:"No products found",units:"units"},customers:{customers:"Customers",addCustomer:"Add Customer",editCustomer:"Edit Customer",deleteCustomer:"Delete Customer",firstName:"First Name",lastName:"Last Name",name:"Name",phone:"Phone",email:"Email",address:"Address",street:"Street",city:"City",state:"State/Province",zipCode:"Zip/Postal Code",country:"Country",loyaltyPoints:"Loyalty Points",totalSpent:"Total Spent",memberSince:"Member Since",language:"Preferred Language",actions:"Actions",save:"Save",cancel:"Cancel",searchCustomers:"Search Customers",searchPlaceholder:"Search by name, phone or email",purchaseHistory:"Purchase History",noTransactionsFound:"No transactions found",noCustomers:"No customers found",confirmDelete:"Confirm Delete",deleteWarning:"Are you sure you want to delete this customer? This action cannot be undone.",personalInfo:"Personal Information"},common:{search:"Search",filter:"Filter",actions:"Actions",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",confirm:"Confirm",back:"Back",next:"Next",loading:"Loading...",noData:"No data found",success:"Success",error:"Error",warning:"Warning",info:"Information",submit:"Submit",submitting:"Submitting...",reset:"Reset",create:"Create",update:"Update",dismiss:"Dismiss"},language:{english:"English",kurdish:"Kurdish"},validation:{required:"This field is required",invalidEmail:"Please enter a valid email address",invalidPhone:"Please enter a valid phone number",invalidNumber:"Please enter a valid number",barcodeExists:"This barcode already exists",generalError:"An error occurred. Please try again.",passwordLength:"Password must be at least 6 characters"},errors:{generalError:"An error occurred. Please try again."},staff:{addUser:"Add User",editUser:"Edit User",confirmDelete:"Confirm Delete User",deleteWarning:"Are you sure you want to delete this user? This action cannot be undone.",username:"Username",firstName:"First Name",lastName:"Last Name",name:"Name",email:"Email",phone:"Phone",password:"Password",newPassword:"New Password",role:"Role",admin:"Admin",manager:"Manager",cashier:"Cashier",language:"Preferred Language",status:"Status",active:"Active",inactive:"Inactive",activeAccount:"Active account",lastLogin:"Last Login",resetPassword:"Reset Password",resetPwd:"Reset Password",leaveBlankPassword:"Leave blank to keep current password",contact:"Contact",allRoles:"All Roles",allStatus:"All Status",searchPlaceholder:"Search by name, username or email",noUsersFound:"No users found",never:"Never",users:"Users",staffManagement:"Staff Management"},languages:{english:"English",kurdish:"Kurdish"},reports:{description:"View and analyze your business data",dateRange:"Date Range",selectDateRange:"Select Date Range",startDate:"Start Date",endDate:"End Date",export:"Export",exportPDF:"Export as PDF",exportCSV:"Export as CSV",dateRanges:{today:"Today",yesterday:"Yesterday",last7days:"Last 7 Days",last30days:"Last 30 Days",thisMonth:"This Month",lastMonth:"Last Month",custom:"Custom Range",presets:"Presets"},tabs:{sales:"Sales",inventory:"Inventory",staff:"Staff",customers:"Customers"},sales:{title:"Sales Report",description:"Overview of sales performance",totalSales:"Total Sales",totalTransactions:"Total Transactions",averageOrderValue:"Avg. Order Value",grossProfit:"Gross Profit",salesOverTime:"Sales Over Time",topProducts:"Top Products",productName:"Product Name",quantity:"Quantity",revenue:"Revenue"},inventory:{title:"Inventory Report",description:"Overview of inventory status",totalProducts:"Total Products",totalQuantity:"Total Quantity",inventoryValue:"Retail Value",inventoryCost:"Cost Value",totalValue:"Total Value",lowStockItems:"Low Stock Items",outOfStockItems:"Out of Stock",productsByCategory:"Products by Category",productCount:"Product Count",inventoryDetails:"Inventory Details",lowStockAlerts:"Low Stock Alerts",noLowStockItems:"No low stock items",lowStockThreshold:"Low Stock Threshold",productName:"Product Name",category:"Category",sku:"SKU",quantity:"Quantity",price:"Price",cost:"Cost",value:"Retail Value",costValue:"Cost Value"},staff:{title:"Staff Report",description:"Overview of staff performance",totalSales:"Total Sales",totalTransactions:"Total Transactions",topPerformers:"Top Performers",staffName:"Staff Name",salesAmount:"Sales Amount",transactionCount:"Transaction Count"},customer:{title:"Customer Report",description:"Overview of customer activity",totalCustomers:"Total Customers",newCustomers:"New Customers",activeCustomers:"Active Customers",topSpenders:"Top Spenders",customerCount:"Customer Count",customerName:"Customer Name",totalSpent:"Total Spent",purchaseCount:"Purchase Count",lastPurchase:"Last Purchase"}},settings:{loyalty:{title:"Loyalty Program Settings",basicSettings:"Basic Settings",enabled:"Enable Loyalty Program",programActive:"Program Active",programInactive:"Program Inactive",pointsPerDollar:"Points Per Dollar",pointsPerDollarHelp:"How many points customers earn for each dollar spent",redemptionRate:"Redemption Rate",redemptionRateHelp:"Value of each point in dollars (e.g., 0.01 = 1 cent per point)",minimumPoints:"Minimum Points for Redemption",minimumRedemption:"Minimum Points to Redeem at Once",maximumRedemptionValue:"Maximum Redemption Value per Transaction",statusTiers:"Status Tiers",silverThreshold:"Silver Tier Threshold",goldThreshold:"Gold Tier Threshold",platinumThreshold:"Platinum Tier Threshold",statusMultipliers:"Status Multipliers",standardMultiplier:"Standard Multiplier",silverMultiplier:"Silver Multiplier",goldMultiplier:"Gold Multiplier",platinumMultiplier:"Platinum Multiplier",purchaseTiers:"Purchase Tiers",threshold:"Threshold",bonusType:"Bonus Type",bonusValue:"Bonus Value",addTier:"Add Tier",fixed:"Fixed",percentage:"Percentage",noTiers:"No tiers defined",tiersHelp:"Define bonus points for specific purchase amounts. For example, give 100 fixed points or 5% bonus points for purchases over $100.",fetchError:"Failed to load loyalty settings",saveSuccess:"Settings saved successfully",saveError:"Failed to save settings",noSettings:"No settings found"},appUpdates:"Application Updates",checkForUpdates:"Check for Updates",checkingForUpdates:"Checking for updates...",updatesNotAvailable:"Auto-updates not available in this environment",errorCheckingUpdates:"Error checking for updates",updateAvailable:"Update available",updateDownloaded:"Update downloaded",restartToApply:"Restart to apply update",latestVersion:"You have the latest version"}}},ku:{translation:{app:{title:"Lîstik",tagline:"سیستەمی فرۆشتنی تەواو"},auth:{login:"چوونەژوورەوە",logout:"چوونەدەرەوە",username:"ناوی بەکارهێنەر",password:"وشەی نهێنی",rememberMe:"لەبیرم بکە",forgotPassword:"وشەی نهێنیت لە بیرچووە؟",loginButton:"چوونەژوورەوە",invalidCredentials:"ناوی بەکارهێنەر یان وشەی نهێنی نادروستە"},dashboard:{welcome:"بەخێربێیت",todaySales:"فرۆشتنەکانی ئەمڕۆ",totalProducts:"کۆی بەرهەمەکان",lowStock:"کاڵاکانی کۆگای کەم",activeUsers:"بەکارهێنەرانی چالاک",recentTransactions:"مامەڵەکانی دوایی",topProducts:"باشترین بەرهەمەکان",quickActions:"کردارە خێراکان",newSale:"فرۆشتنی نوێ",addProduct:"زیادکردنی بەرهەم",addCustomer:"زیادکردنی کڕیار",refresh:"نوێکردنەوە",loading:"داتا بار دەکرێت...",viewAll:"هەموو ببینە",noTransactions:"هیچ مامەڵەیەکی نوێ نەدۆزرایەوە"},navigation:{dashboard:"داشبۆرد",pos:"خاڵی فرۆشتن",inventory:"کۆگا",customers:"کڕیارەکان",staff:"کارمەندان",reports:"ڕاپۆرتەکان",settings:"ڕێکخستنەکان"},pos:{checkout:"پارەدان",cart:"سەبەتە",item:"کاڵا",items:"کاڵاکان",emptyCart:"سەبەتەکەت بەتاڵە",scanBarcode:"سکان کردنی بارکۆد",searchProducts:"گەڕان بۆ بەرهەمەکان",addToCart:"خستنە سەبەتە",quantity:"بڕ",price:"نرخ",discount:"داشکاندن",discountAmount:"داشکاندنی کۆی گشتی",subtotal:"کۆی لاوەکی",tax:"باج",total:"کۆی گشتی",customer:"کڕیار",selectCustomer:"هەڵبژاردنی کڕیار",noCustomer:"کڕیار نییە",addNewCustomer:"زیادکردنی کڕیاری نوێ",paymentMethod:"شێوازی پارەدان",cash:"نەقد",card:"کارت",bankTransfer:"گواستنەوەی بانکی",other:"هی تر",completePayment:"تەواوکردنی پارەدان",cancel:"هەڵوەشاندنەوە",generateReceipt:"چاپکردنی پسوولە",changeAmount:"گۆڕینەوە",amountReceived:"بڕی وەرگیراو",orderSummary:"پوختەی داواکاری",removeItem:"لابردنی کاڵا",continueShoppingAction:"بەردەوامبوون لە بازاڕکردن",all:"هەموو",consoles:"کۆنسۆڵەکان",accessories:"پێداویستییەکان",monitors:"مۆنیتەرەکان",components:"پێکهاتەکان"},products:{products:"بەرهەمەکان",addProduct:"زیادکردنی بەرهەم",add:"زیادکردنی بەرهەم",addFirst:"زیادکردنی یەکەم بەرهەم",editProduct:"دەستکاری بەرهەم",deleteProduct:"سڕینەوەی بەرهەم",productName:"ناوی بەرهەم",description:"وەسف",category:"جۆر",price:"نرخ",cost:"تێچوو",profit:"قازانج",quantity:"بڕ",sku:"SKU",barcode:"بارکۆد",generateBarcode:"دروستکردنی بارکۆد",clearBarcode:"سڕینەوەی بارکۆد",barcodeHint:"بۆ بەرهەمە نوێیەکان بارکۆد بە شێوەیەکی خۆکار دروست دەکرێت. دەتوانیت دانەیەکی نوێ دروست بکەیت یان بە دەستی داخڵی بکەیت.",exportBarcodes:"هەناردنی بارکۆدەکان",inStock:"لە کۆگا هەیە",lowStock:"کۆگا کەمە",outOfStock:"کۆگا نەماوە",reorderLevel:"ئاستی دووبارە داواکردن",selectCategory:"هەڵبژاردنی جۆر",attributes:"تایبەتمەندییەکان",actions:"کردارەکان",save:"پاشەکەوتکردن",cancel:"هەڵوەشاندنەوە",nameEn:"ناو (ئینگلیزی)",nameKu:"ناو (کوردی)",descriptionEn:"وەسف (ئینگلیزی)",descriptionKu:"وەسف (کوردی)",chooseSource:"سەرچاوەی بەرهەم هەڵبژێرە",useExisting:"بەکارهێنانی بەرهەمی بەردەست (وەرگرتنی زانیاری بەرهەم و زیادکردنی بارکۆدی نوێ)",searchProducts:"گەڕان بۆ بەرهەمەکان",searchPlaceholder:"گەڕان بە ناو، SKU، یان بارکۆد...",stock:"کۆگا",basicInfo:"زانیاری سەرەکی",pricingInventory:"نرخاندن و کۆگا",active:"بەرهەمی چالاک (بەردەستە بۆ فرۆشتن)",addSuccess:"بەرهەم بە سەرکەوتوویی زیادکرا",quantityNote:"تێبینی: هەر بارکۆدێک یەک بەرهەم دەنوێنێت. بڕ بە شێوەیەکی خۆکار زیاد دەکرێت بە ١.",noProductsFound:"هیچ بەرهەمێک نەدۆزرایەوە",units:"یەکە"},customers:{customers:"کڕیارەکان",addCustomer:"زیادکردنی کڕیار",editCustomer:"دەستکاری کڕیار",deleteCustomer:"سڕینەوەی کڕیار",firstName:"ناوی یەکەم",lastName:"ناوی دووەم",name:"ناو",phone:"تەلەفۆن",email:"ئیمەیل",address:"ناونیشان",street:"شەقام",city:"شار",state:"پارێزگا",zipCode:"کۆدی پۆستە",country:"وڵات",loyaltyPoints:"خاڵەکانی دڵسۆزی",totalSpent:"کۆی بڕی خەرجکراو",memberSince:"ئەندام لە",language:"زمانی پەسەندکراو",actions:"کردارەکان",save:"پاشەکەوتکردن",cancel:"هەڵوەشاندنەوە",searchCustomers:"گەڕان بۆ کڕیارەکان",searchPlaceholder:"گەڕان بە ناو، ژمارەی تەلەفۆن یان ئیمەیل",purchaseHistory:"مێژووی کڕین",noTransactionsFound:"هیچ مامەڵەیەک نەدۆزرایەوە",noCustomers:"هیچ کڕیارێک نەدۆزرایەوە",confirmDelete:"دڵنیاکردنەوەی سڕینەوە",deleteWarning:"ئایا دڵنیایت دەتەوێت ئەم کڕیارە بسڕیتەوە؟ ئەم کردارە ناتوانرێت پاشگەز بکرێتەوە.",personalInfo:"زانیاری کەسی"},common:{search:"گەڕان",filter:"فلتەر",actions:"کردارەکان",edit:"دەستکاری",delete:"سڕینەوە",save:"پاشەکەوتکردن",cancel:"هەڵوەشاندنەوە",confirm:"پشتڕاستکردنەوە",back:"گەڕانەوە",next:"دواتر",loading:"بارکردن...",noData:"هیچ داتایەک نەدۆزرایەوە",success:"سەرکەوتن",error:"هەڵە",warning:"ئاگاداری",info:"زانیاری",submit:"ناردن",submitting:"ناردن...",reset:"ڕێکخستنەوە",create:"دروستکردن",update:"نوێکردنەوە",dismiss:"لابردن"},language:{english:"ئینگلیزی",kurdish:"کوردی"},validation:{required:"ئەم خانەیە پێویستە",invalidEmail:"تکایە ئیمەیڵێکی دروست بنووسە",invalidPhone:"تکایە ژمارەی تەلەفۆنێکی دروست بنووسە",invalidNumber:"تکایە ژمارەیەکی دروست بنووسە",barcodeExists:"ئەم بارکۆدە پێشتر بەکارهاتووە",generalError:"هەڵەیەک ڕوویدا. تکایە دووبارە هەوڵ بدەوە.",passwordLength:"وشەی نهێنی دەبێت لانیکەم ٦ پیت بێت"},errors:{generalError:"هەڵەیەک ڕوویدا. تکایە دووبارە هەوڵ بدەوە."},staff:{addUser:"زیادکردنی بەکارهێنەر",editUser:"دەستکاری بەکارهێنەر",confirmDelete:"دڵنیابوونەوە لە سڕینەوەی بەکارهێنەر",deleteWarning:"ئایا دڵنیایت لە سڕینەوەی ئەم بەکارهێنەرە؟ ناتوانیت ئەم کردارە پوچەڵ بکەیتەوە.",username:"ناوی بەکارهێنەر",firstName:"ناوی یەکەم",lastName:"ناوی دووەم",name:"ناو",email:"ئیمەیڵ",phone:"ژمارەی مۆبایل",password:"وشەی نهێنی",newPassword:"وشەی نهێنی نوێ",role:"پلە",admin:"بەڕێوەبەر",manager:"بەڕێوەبەری بەش",cashier:"کاشێر",language:"زمانی باش",status:"دۆخ",active:"چالاک",inactive:"ناچالاک",activeAccount:"هەژماری چالاک",lastLogin:"دوا چوونەژوورەوە",resetPassword:"ڕێکخستنەوەی وشەی نهێنی",resetPwd:"ڕێکخستنەوەی وشەی نهێنی",leaveBlankPassword:"بەتاڵی بهێڵەوە بۆ هێشتنەوەی وشەی نهێنی ئێستا",contact:"پەیوەندی",allRoles:"هەموو پلەکان",allStatus:"هەموو دۆخەکان",searchPlaceholder:"گەڕان بە ناو، ناوی بەکارهێنەر یان ئیمەیڵ",noUsersFound:"هیچ بەکارهێنەرێک نەدۆزرایەوە",never:"هەرگیز",users:"بەکارهێنەران",staffManagement:"بەڕێوەبردنی کارمەندان"},languages:{english:"ئینگلیزی",kurdish:"کوردی"},settings:{loyalty:{title:"ڕێکخستنەکانی بەرنامەی دڵسۆزی",basicSettings:"ڕێکخستنە سەرەتاییەکان",enabled:"چالاککردنی بەرنامەی دڵسۆزی",programActive:"بەرنامە چالاکە",programInactive:"بەرنامە ناچالاکە",pointsPerDollar:"خاڵەکان بۆ هەر دۆلارێک",pointsPerDollarHelp:"چەند خاڵ کڕیاران پەیدا دەکەن بۆ هەر دۆلارێکی خەرجکراو",redemptionRate:"ڕێژەی بەکارهێنانەوە",redemptionRateHelp:"بەهای هەر خاڵێک بە دۆلار (بۆ نمونە، 0.01 = 1 سەنت بۆ هەر خاڵێک)",minimumPoints:"کەمترین خاڵ بۆ بەکارهێنانەوە",minimumRedemption:"کەمترین خاڵەکان بۆ بەکارهێنانەوە بە یەک جار",maximumRedemptionValue:"زۆرترین بەهای بەکارهێنانەوە بۆ هەر مامەڵەیەک",statusTiers:"ئاستەکانی دۆخ",silverThreshold:"ئاستی سنووری زیو",goldThreshold:"ئاستی سنووری زێڕ",platinumThreshold:"ئاستی سنووری پلاتین",statusMultipliers:"زۆرکەرەکانی دۆخ",standardMultiplier:"زۆرکەری ستاندارد",silverMultiplier:"زۆرکەری زیو",goldMultiplier:"زۆرکەری زێڕ",platinumMultiplier:"زۆرکەری پلاتین",purchaseTiers:"ئاستەکانی کڕین",threshold:"سنوور",bonusType:"جۆری پاداشت",bonusValue:"بەهای پاداشت",addTier:"زیادکردنی ئاست",fixed:"جێگیر",percentage:"ڕێژەیی",noTiers:"هیچ ئاستێک دیاری نەکراوە",tiersHelp:"پێناسەکردنی خاڵە پاداشتەکان بۆ بڕی دیاریکراوی کڕین. بۆ نموونە، 100 خاڵی جێگیر یان 5% خاڵی پاداشت بدە بۆ کڕینی زیاتر لە 100$.",fetchError:"سەرکەوتوو نەبوو لە بارکردنی ڕێکخستنەکانی دڵسۆزی",saveSuccess:"ڕێکخستنەکان بە سەرکەوتوویی پاشەکەوت کران",saveError:"سەرکەوتوو نەبوو لە پاشەکەوتکردنی ڕێکخستنەکان",noSettings:"هیچ ڕێکخستنێک نەدۆزرایەوە"},appUpdates:"نوێکردنەوەکانی ئەپلیکەیشن",checkForUpdates:"پشکنین بۆ نوێکردنەوەکان",checkingForUpdates:"پشکنین بۆ نوێکردنەوەکان...",updatesNotAvailable:"نوێکردنەوەی خۆکار بەردەست نییە لەم ژینگەیەدا",errorCheckingUpdates:"هەڵە لە پشکنینی نوێکردنەوەکان",updateAvailable:"نوێکردنەوە بەردەستە",updateDownloaded:"نوێکردنەوە داگیرا",restartToApply:"دەستپێکردنەوە بۆ جێبەجێکردنی نوێکردنەوە",latestVersion:"تۆ دوایین وەشانت هەیە"},reports:{description:"بینین و شیکردنەوەی داتای بیزنسەکەت",dateRange:"ماوەی بەروار",selectDateRange:"هەڵبژاردنی ماوەی بەروار",startDate:"بەرواری دەستپێک",endDate:"بەرواری کۆتایی",export:"هەناردن",exportPDF:"هەناردن وەک PDF",exportCSV:"هەناردن وەک CSV",dateRanges:{today:"ئەمڕۆ",yesterday:"دوێنێ",last7days:"٧ ڕۆژی ڕابردوو",last30days:"٣٠ ڕۆژی ڕابردوو",thisMonth:"ئەم مانگە",lastMonth:"مانگی پێشوو",custom:"ماوەی دیاریکراو",presets:"پێشوەختەکان"},tabs:{sales:"فرۆشتنەکان",inventory:"کۆگا",staff:"کارمەندان",customers:"کڕیارەکان"},sales:{title:"ڕاپۆرتی فرۆشتن",description:"پوختەی کارایی فرۆشتن",totalSales:"کۆی فرۆشتنەکان",totalTransactions:"کۆی مامەڵەکان",averageOrderValue:"تێکڕای بەهای داواکاری",grossProfit:"قازانجی تەواو",salesOverTime:"فرۆشتن بەپێی کات",topProducts:"باشترین بەرهەمەکان",productName:"ناوی بەرهەم",quantity:"بڕ",revenue:"داهات"},inventory:{title:"ڕاپۆرتی کۆگا",description:"پوختەی دۆخی کۆگا",totalProducts:"کۆی بەرهەمەکان",totalQuantity:"کۆی بڕی کەلوپەلەکان",inventoryValue:"بەهای فرۆشتن",inventoryCost:"بەهای تێچوو",totalValue:"کۆی بەها",lowStockItems:"بەرهەمەکانی کۆگای کەم",outOfStockItems:"بەرهەمە نەماوەکان",productsByCategory:"بەرهەم بەپێی جۆر",productCount:"ژمارەی بەرهەم",inventoryDetails:"وردەکاری کۆگا",lowStockAlerts:"ئاگادارکردنەوەی کۆگای کەم",noLowStockItems:"هیچ بەرهەمێکی کۆگای کەم نییە",lowStockThreshold:"سنووری کۆگای کەم",productName:"ناوی بەرهەم",category:"جۆر",sku:"SKU",quantity:"بڕ",price:"نرخ",cost:"تێچوو",value:"بەهای فرۆشتن",costValue:"بەهای تێچوو",stock:"کۆگا"},staff:{title:"ڕاپۆرتی کارمەندان",description:"پوختەی کارایی کارمەندان",totalSales:"کۆی فرۆشتنەکان",totalTransactions:"کۆی مامەڵەکان",topPerformers:"باشترین کارمەندەکان",staffName:"ناوی کارمەند",salesAmount:"بڕی فرۆشتن",transactionCount:"ژمارەی مامەڵەکان"},customer:{title:"ڕاپۆرتی کڕیارەکان",description:"پوختەی چالاکی کڕیارەکان",totalCustomers:"کۆی کڕیارەکان",newCustomers:"کڕیارە نوێیەکان",activeCustomers:"کڕیارە چالاکەکان",topSpenders:"زۆرترین خەرجکەرەکان",customerCount:"ژمارەی کڕیارەکان",customerName:"ناوی کڕیار",totalSpent:"کۆی بڕی خەرجکراو",purchaseCount:"ژمارەی کڕینەکان",lastPurchase:"دوا کڕین"}}}}};Ne.use(ke).use(Ce).init({resources:ln,lng:localStorage.getItem("i18nextLng")||"en",fallbackLng:"en",interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json",crossDomain:!0},debug:!1});(async()=>{if(window.api&&window.api.locales&&window.api.locales.getLocales)try{console.log("Attempting to load locales from Electron...");const e=await window.api.locales.getLocales();if(e&&Object.keys(e).length>0)return console.log("Successfully loaded locales from Electron:",Object.keys(e)),Object.keys(e).forEach((t=>{Ne.addResourceBundle(t,"translation",e[t].translation,!0,!0)})),Ne.reloadResources(),!0}catch(e){console.error("Failed to load locales from Electron:",e)}console.log("Using bundled locales as fallback")})();(()=>{e.defaults.timeout=3e4,delete e.defaults.headers.common["Content-Type"];let t=0;let s=!1;if(window&&window.api||Boolean(window&&window.process&&window.process.type||window.navigator.userAgent.includes("Electron")||window&&window.electron||window&&window.electronAPI))e.defaults.baseURL="http://localhost:5000",console.log("Running in Electron - API baseURL set to http://localhost:5000"),e.interceptors.request.use((e=>(e.url&&e.url.startsWith("/api")?e.url=`http://localhost:5000${e.url}`:e.url&&!e.url.includes("://")&&(e.url=`http://localhost:5000/${e.url.replace(/^\//,"")}`),e.data instanceof FormData?delete e.headers["Content-Type"]:"get"!==e.method&&(e.headers["Content-Type"]="application/json"),console.log(`Full request URL: ${e.method} ${e.url}`),e))),e.defaults.headers.common["X-Electron-App"]="true",window.api&&window.api.invoke&&window.api.invoke("get-version").then((t=>{e.defaults.headers.common["X-Electron-Version"]=t})).catch((e=>{console.warn("Failed to get Electron version:",e)})),e.interceptors.response.use((e=>(t=0,s=!1,e)),(async r=>{if("ECONNREFUSED"===r.code||r.message.includes("Network Error")||r.message.includes("timeout")){if(console.error("Server connection failed. Make sure the server is running."),t++,console.log(`Connection attempt ${t} of 3 failed`),t>=3&&!s&&(console.log("Maximum retry attempts reached, requesting server restart"),s=!0,window.api&&window.api.invoke))try{const t=await window.api.invoke("restart-server");if(console.log("Server restart requested:",t),t&&t.success&&(console.log("Server restarted successfully, retrying connection..."),await new Promise((e=>setTimeout(e,2e3))),r.config))return console.log("Retrying original request"),r.config.headers={...r.config.headers,"X-Retry-After-Restart":"true"},e(r.config)}catch(a){console.error("Failed to restart server:",a),s=!1}window.navigator.userAgent.includes("Windows")&&console.error("Windows detected: If this persists, check Windows Defender Firewall settings to allow the app to communicate on localhost:5000")}return Promise.reject(r)}));else{const t=(()=>{const e=window.location.origin;return e.includes(":5000")||!e.includes("localhost")?"":e.includes(":3000")?"http://localhost:5000":""})();e.defaults.baseURL=t,console.log(`Running in browser - API baseURL set to '${t||"relative paths"}'`)}e.interceptors.request.use((e=>{var t;return console.log(`API Request: ${null==(t=e.method)?void 0:t.toUpperCase()} ${e.url}`),e}),(e=>(console.error("API Request Error:",e),Promise.reject(e)))),e.interceptors.response.use((e=>(console.log(`API Response: ${e.status} ${e.config.url}`),e)),(e=>(e.response?console.error(`API Error: ${e.response.status} ${e.response.statusText}`,e.response.data):e.request?console.error("API Request Error: No response received",e.request):console.error("API Error:",e.message),Promise.reject(e))))})();const cn=new s({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});Fe.createRoot(document.getElementById("root")).render(t.jsx(u.StrictMode,{children:t.jsx(r,{client:cn,children:t.jsx(x,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0,v7_stateRendering:!0},children:t.jsx(Se,{i18n:Ne,children:t.jsx(Ee,{children:t.jsx(on,{})})})})})}));
